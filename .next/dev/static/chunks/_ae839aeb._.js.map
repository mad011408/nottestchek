{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary-foreground text-primary shadow-xs hover:opacity-90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4YAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean;\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,4YAAC,8XAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,4YAAC,iYAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,4YAAC,gYAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,4YAAC,+XAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,4YAAC,iYAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,4YAAC;QAAa,aAAU;;0BACtB,4YAAC;;;;;0BACD,4YAAC,iYAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,0WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,4YAAC,+XAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,4YAAC,gSAAK;;;;;0CACN,4YAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4YAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,4YAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,4YAAC,+XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4YAAC,qYAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/usePricingDialog.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport type { SubscriptionTier } from \"@/types\";\n\nexport const usePricingDialog = (subscription?: any) => {\n  return {\n    showPricing: false,\n    handleClosePricing: () => {},\n    openPricing: () => {},\n  };\n};\n\nexport const redirectToPricing = () => {};\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,mBAAmB,CAAC;IAC/B,OAAO;QACL,aAAa;QACb,oBAAoB,KAAO;QAC3B,aAAa,KAAO;IACtB;AACF;AAEO,MAAM,oBAAoB,KAAO"}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/shared-todo-item.tsx"],"sourcesContent":["import React from \"react\";\nimport { CircleCheck, Circle, CircleArrowRight, X } from \"lucide-react\";\nimport type { Todo } from \"@/types\";\n\nexport const STATUS_ICONS = {\n  completed: <CircleCheck className=\"w-4 h-4 text-foreground\" />,\n  in_progress: <CircleArrowRight className=\"w-4 h-4 text-foreground\" />,\n  cancelled: <X className=\"w-4 h-4 text-muted-foreground\" />,\n  pending: <Circle className=\"w-4 h-4 text-muted-foreground\" />,\n} as const;\n\nexport const getStatusIcon = (status: Todo[\"status\"]) =>\n  STATUS_ICONS[status] || STATUS_ICONS.pending;\n\nexport const getTextStyles = (status: Todo[\"status\"]) => {\n  if (status === \"completed\") {\n    return \"line-through opacity-75 text-foreground\";\n  }\n  if (status === \"in_progress\") {\n    return \"text-foreground font-medium\";\n  }\n  return \"text-muted-foreground\";\n};\n\nexport const SharedTodoItem = React.memo(({ todo }: { todo: Todo }) => {\n  return (\n    <div\n      data-testid=\"todo-item\"\n      data-status={todo.status}\n      className=\"flex items-center gap-3 py-1\"\n    >\n      <div className=\"flex-shrink-0\">{getStatusIcon(todo.status)}</div>\n      <span className={`text-sm ${getTextStyles(todo.status)}`}>\n        {todo.content}\n      </span>\n    </div>\n  );\n});\n\nSharedTodoItem.displayName = \"SharedTodoItem\";\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAAA;AAAA;AAAA;;;;AAGO,MAAM,eAAe;IAC1B,yBAAW,4YAAC,0TAAW;QAAC,WAAU;;;;;;IAClC,2BAAa,4YAAC,6UAAgB;QAAC,WAAU;;;;;;IACzC,yBAAW,4YAAC,wRAAC;QAAC,WAAU;;;;;;IACxB,uBAAS,4YAAC,uSAAM;QAAC,WAAU;;;;;;AAC7B;AAEO,MAAM,gBAAgB,CAAC,SAC5B,YAAY,CAAC,OAAO,IAAI,aAAa,OAAO;AAEvC,MAAM,gBAAgB,CAAC;IAC5B,IAAI,WAAW,aAAa;QAC1B,OAAO;IACT;IACA,IAAI,WAAW,eAAe;QAC5B,OAAO;IACT;IACA,OAAO;AACT;AAEO,MAAM,+BAAiB,uXAAK,CAAC,IAAI,MAAC,CAAC,EAAE,IAAI,EAAkB;IAChE,qBACE,4YAAC;QACC,eAAY;QACZ,eAAa,KAAK,MAAM;QACxB,WAAU;;0BAEV,4YAAC;gBAAI,WAAU;0BAAiB,cAAc,KAAK,MAAM;;;;;;0BACzD,4YAAC;gBAAK,WAAW,CAAC,QAAQ,EAAE,cAAc,KAAK,MAAM,GAAG;0BACrD,KAAK,OAAO;;;;;;;;;;;;AAIrB;;AAEA,eAAe,WAAW,GAAG"}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/TodoPanel.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { ChevronDown, ChevronRight } from \"lucide-react\";\nimport type { ChatStatus } from \"@/types\";\nimport { useGlobalState } from \"@/app/contexts/GlobalState\";\nimport { SharedTodoItem } from \"@/components/ui/shared-todo-item\";\nimport { getTodoStats } from \"@/lib/utils/todo-utils\";\n\ninterface TodoPanelProps {\n  status: ChatStatus;\n}\n\nexport const TodoPanel = ({ status }: TodoPanelProps) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const { todos, setIsTodoPanelExpanded } = useGlobalState();\n\n  // Deduplicate todos by id (keep last occurrence, consistent with backend)\n  const uniqueTodos = Array.from(\n    new Map(todos.map((todo) => [todo.id, todo])).values(),\n  );\n\n  const stats = getTodoStats(uniqueTodos);\n\n  // Don't show panel if no todos exist\n  const hasTodos = uniqueTodos.length > 0;\n\n  // Reflect expansion to global state\n  useEffect(() => {\n    setIsTodoPanelExpanded(isExpanded);\n    return () => {\n      setIsTodoPanelExpanded(false);\n    };\n  }, [isExpanded, setIsTodoPanelExpanded]);\n\n  // Show panel only when there are active todos (hide when all are finished)\n  const hasActiveTodos = stats.inProgress > 0 || stats.pending > 0;\n\n  // If panel is not visible, ensure global state is reset\n  useEffect(() => {\n    if (!hasTodos || !hasActiveTodos) {\n      setIsTodoPanelExpanded(false);\n    }\n  }, [hasTodos, hasActiveTodos, setIsTodoPanelExpanded]);\n\n  if (!hasTodos) {\n    return null;\n  }\n\n  if (!hasActiveTodos) {\n    return null;\n  }\n\n  const handleToggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const getHeaderText = () => {\n    if (stats.done === 0) {\n      return `${stats.total} To-dos`;\n    }\n    return `${stats.done} of ${stats.total} To-dos`;\n  };\n\n  return (\n    <div className=\"mx-4 rounded-[22px_22px_0px_0px] shadow-[0px_12px_32px_0px_rgba(0,0,0,0.02)] border border-black/8 dark:border-border border-b-0 bg-input-chat\">\n      {/* Header */}\n      <div\n        className={`flex items-center px-4 transition-all duration-300 py-2`}\n      >\n        <button\n          onClick={handleToggleExpand}\n          className=\"flex items-center gap-2 hover:opacity-80 transition-opacity cursor-pointer focus:outline-none rounded-md p-1 -m-1 flex-1\"\n          aria-label={isExpanded ? \"Collapse todos\" : \"Expand todos\"}\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              e.preventDefault();\n              handleToggleExpand();\n            }\n          }}\n        >\n          {isExpanded ? (\n            <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n          ) : (\n            <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n          )}\n          <div className=\"flex items-center gap-2\">\n            <h3 className=\"text-muted-foreground text-sm font-medium\">\n              {getHeaderText()}\n            </h3>\n          </div>\n        </button>\n      </div>\n\n      {/* Todo List - Collapsible */}\n      {isExpanded && (\n        <div className=\"border-t border-border px-4 py-3 space-y-2 max-h-[200px] overflow-y-auto\">\n          {uniqueTodos.map((todo) => (\n            <SharedTodoItem key={todo.id} todo={todo} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAEA;AACA;AACA;;;AAPA;;;;;;AAaO,MAAM,YAAY,CAAC,EAAE,MAAM,EAAkB;;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wXAAQ,EAAC;IAC7C,MAAM,EAAE,KAAK,EAAE,sBAAsB,EAAE,GAAG,IAAA,oJAAc;IAExD,0EAA0E;IAC1E,MAAM,cAAc,MAAM,IAAI,CAC5B,IAAI,IAAI,MAAM,GAAG,CAAC,CAAC,OAAS;YAAC,KAAK,EAAE;YAAE;SAAK,GAAG,MAAM;IAGtD,MAAM,QAAQ,IAAA,gJAAY,EAAC;IAE3B,qCAAqC;IACrC,MAAM,WAAW,YAAY,MAAM,GAAG;IAEtC,oCAAoC;IACpC,IAAA,yXAAS;+BAAC;YACR,uBAAuB;YACvB;uCAAO;oBACL,uBAAuB;gBACzB;;QACF;8BAAG;QAAC;QAAY;KAAuB;IAEvC,2EAA2E;IAC3E,MAAM,iBAAiB,MAAM,UAAU,GAAG,KAAK,MAAM,OAAO,GAAG;IAE/D,wDAAwD;IACxD,IAAA,yXAAS;+BAAC;YACR,IAAI,CAAC,YAAY,CAAC,gBAAgB;gBAChC,uBAAuB;YACzB;QACF;8BAAG;QAAC;QAAU;QAAgB;KAAuB;IAErD,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,IAAI,CAAC,gBAAgB;QACnB,OAAO;IACT;IAEA,MAAM,qBAAqB;QACzB,cAAc,CAAC;IACjB;IAEA,MAAM,gBAAgB;QACpB,IAAI,MAAM,IAAI,KAAK,GAAG;YACpB,OAAO,GAAG,MAAM,KAAK,CAAC,OAAO,CAAC;QAChC;QACA,OAAO,GAAG,MAAM,IAAI,CAAC,IAAI,EAAE,MAAM,KAAK,CAAC,OAAO,CAAC;IACjD;IAEA,qBACE,4YAAC;QAAI,WAAU;;0BAEb,4YAAC;gBACC,WAAW,CAAC,uDAAuD,CAAC;0BAEpE,cAAA,4YAAC;oBACC,SAAS;oBACT,WAAU;oBACV,cAAY,aAAa,mBAAmB;oBAC5C,UAAU;oBACV,WAAW,CAAC;wBACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;4BACtC,EAAE,cAAc;4BAChB;wBACF;oBACF;;wBAEC,2BACC,4YAAC,0TAAW;4BAAC,WAAU;;;;;qFAEvB,4YAAC,6TAAY;4BAAC,WAAU;;;;;;sCAE1B,4YAAC;4BAAI,WAAU;sCACb,cAAA,4YAAC;gCAAG,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;YAOR,4BACC,4YAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,qBAChB,4YAAC,gKAAc;wBAAe,MAAM;uBAAf,KAAK,EAAE;;;;;;;;;;;;;;;;AAMxC;GA5Fa;;QAE+B,oJAAc;;;KAF7C"}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/utils/file-utils.ts"],"sourcesContent":["import { FileMessagePart, UploadedFileState } from \"@/types/file\";\nimport { Id } from \"@/convex/_generated/dataModel\";\n\n/**\n * Upload a single file to Convex storage and return file ID and URL\n */\nexport async function uploadSingleFileToConvex(\n  file: File,\n  generateUploadUrl: () => Promise<string>,\n  saveFile: (\n    args: any,\n  ) => Promise<{ url: string; fileId: string; tokens: number }>,\n  mode: \"ask\" | \"agent\" = \"ask\",\n): Promise<{ fileId: string; url: string; tokens: number }> {\n  // Step 1: Get upload URL\n  const postUrl = await generateUploadUrl();\n\n  // Step 2: Upload file to Convex storage\n  // Use a fallback Content-Type if browser doesn't provide one (common for .md, .txt files)\n  const contentType = file.type || \"application/octet-stream\";\n  const result = await fetch(postUrl, {\n    method: \"POST\",\n    headers: { \"Content-Type\": contentType },\n    body: file,\n  });\n\n  if (!result.ok) {\n    throw new Error(`Failed to upload file ${file.name}: ${result.statusText}`);\n  }\n\n  const { storageId } = await result.json();\n\n  // Step 3: Save file metadata to database and get URL, file ID, and tokens\n  const { url, fileId, tokens } = await saveFile({\n    storageId,\n    name: file.name,\n    mediaType: contentType,\n    size: file.size,\n    mode,\n  });\n\n  return { fileId, url, tokens };\n}\n\n/**\n * Create file message part from uploaded file state (includes fileId only)\n * URLs are generated on-demand to avoid expiration issues\n */\nexport function createFileMessagePart(\n  uploadedFile: UploadedFileState,\n): FileMessagePart {\n  if (!uploadedFile.fileId) {\n    throw new Error(\"File must have fileId to create message part\");\n  }\n\n  // Use fallback for empty media types (common for .md, .txt files)\n  const mediaType = uploadedFile.file.type || \"application/octet-stream\";\n\n  return {\n    type: \"file\" as const,\n    mediaType,\n    fileId: uploadedFile.fileId,\n    name: uploadedFile.file.name,\n    size: uploadedFile.file.size,\n    // DON'T store URL - it expires! Generate on-demand via fileId\n  };\n}\n\n/**\n * Get the maximum file size allowed (in bytes)\n */\nexport function getMaxFileSize(): number {\n  return 10 * 1024 * 1024; // 10MB\n}\n\n/**\n * Validate file for upload\n */\nexport function validateFile(file: File): { valid: boolean; error?: string } {\n  if (file.size > getMaxFileSize()) {\n    return {\n      valid: false,\n      error: `File size must be less than ${getMaxFileSize() / (1024 * 1024)}MB`,\n    };\n  }\n\n  return { valid: true };\n}\n\n/**\n * Format file size for display\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return \"0 B\";\n\n  const k = 1024;\n  const sizes = [\"B\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\n\n/**\n * Convert file to base64 data URL for preview\n */\nexport function fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = reject;\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * Check if file is an image that can be previewed\n */\nexport function isImageFile(file: File): boolean {\n  return file.type.startsWith(\"image/\");\n}\n\n/**\n * Check if media type is a supported image format for AI\n * AI supports: PNG, JPEG, WEBP, and non-animated GIF\n */\nexport function isSupportedImageMediaType(mediaType: string): boolean {\n  const supportedTypes = [\n    \"image/png\",\n    \"image/jpeg\",\n    \"image/jpg\",\n    \"image/webp\",\n    \"image/gif\",\n  ];\n  return supportedTypes.includes(mediaType.toLowerCase());\n}\n\n/**\n * Maximum number of files allowed to be uploaded at once\n */\nexport const MAX_FILES_LIMIT = 5;\n\n/**\n * Helper to create file message part from uploadedFile that has both fileId and URL\n */\nexport function createFileMessagePartFromUploadedFile(\n  uploadedFile: UploadedFileState,\n): FileMessagePart | null {\n  if (!uploadedFile.fileId || !uploadedFile.uploaded) {\n    return null;\n  }\n\n  return {\n    type: \"file\" as const,\n    mediaType: uploadedFile.file.type,\n    fileId: uploadedFile.fileId,\n    name: uploadedFile.file.name,\n    size: uploadedFile.file.size,\n    // DON'T store URL - it expires! Generate on-demand via fileId\n    // url: uploadedFile.url,\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAMO,eAAe,yBACpB,IAAU,EACV,iBAAwC,EACxC,QAE6D,EAC7D,OAAwB,KAAK;IAE7B,yBAAyB;IACzB,MAAM,UAAU,MAAM;IAEtB,wCAAwC;IACxC,0FAA0F;IAC1F,MAAM,cAAc,KAAK,IAAI,IAAI;IACjC,MAAM,SAAS,MAAM,MAAM,SAAS;QAClC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAY;QACvC,MAAM;IACR;IAEA,IAAI,CAAC,OAAO,EAAE,EAAE;QACd,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,OAAO,UAAU,EAAE;IAC5E;IAEA,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,OAAO,IAAI;IAEvC,0EAA0E;IAC1E,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,SAAS;QAC7C;QACA,MAAM,KAAK,IAAI;QACf,WAAW;QACX,MAAM,KAAK,IAAI;QACf;IACF;IAEA,OAAO;QAAE;QAAQ;QAAK;IAAO;AAC/B;AAMO,SAAS,sBACd,YAA+B;IAE/B,IAAI,CAAC,aAAa,MAAM,EAAE;QACxB,MAAM,IAAI,MAAM;IAClB;IAEA,kEAAkE;IAClE,MAAM,YAAY,aAAa,IAAI,CAAC,IAAI,IAAI;IAE5C,OAAO;QACL,MAAM;QACN;QACA,QAAQ,aAAa,MAAM;QAC3B,MAAM,aAAa,IAAI,CAAC,IAAI;QAC5B,MAAM,aAAa,IAAI,CAAC,IAAI;IAE9B;AACF;AAKO,SAAS;IACd,OAAO,KAAK,OAAO,MAAM,OAAO;AAClC;AAKO,SAAS,aAAa,IAAU;IACrC,IAAI,KAAK,IAAI,GAAG,kBAAkB;QAChC,OAAO;YACL,OAAO;YACP,OAAO,CAAC,4BAA4B,EAAE,mBAAmB,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC;QAC5E;IACF;IAEA,OAAO;QAAE,OAAO;IAAK;AACvB;AAKO,SAAS,eAAe,KAAa;IAC1C,IAAI,UAAU,GAAG,OAAO;IAExB,MAAM,IAAI;IACV,MAAM,QAAQ;QAAC;QAAK;QAAM;QAAM;KAAK;IACrC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC;IAEhD,OAAO,WAAW,CAAC,QAAQ,KAAK,GAAG,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,MAAM,MAAM,KAAK,CAAC,EAAE;AACzE;AAKO,SAAS,aAAa,IAAU;IACrC,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,IAAM,QAAQ,OAAO,MAAM;QAC3C,OAAO,OAAO,GAAG;QACjB,OAAO,aAAa,CAAC;IACvB;AACF;AAKO,SAAS,YAAY,IAAU;IACpC,OAAO,KAAK,IAAI,CAAC,UAAU,CAAC;AAC9B;AAMO,SAAS,0BAA0B,SAAiB;IACzD,MAAM,iBAAiB;QACrB;QACA;QACA;QACA;QACA;KACD;IACD,OAAO,eAAe,QAAQ,CAAC,UAAU,WAAW;AACtD;AAKO,MAAM,kBAAkB;AAKxB,SAAS,sCACd,YAA+B;IAE/B,IAAI,CAAC,aAAa,MAAM,IAAI,CAAC,aAAa,QAAQ,EAAE;QAClD,OAAO;IACT;IAEA,OAAO;QACL,MAAM;QACN,WAAW,aAAa,IAAI,CAAC,IAAI;QACjC,QAAQ,aAAa,MAAM;QAC3B,MAAM,aAAa,IAAI,CAAC,IAAI;QAC5B,MAAM,aAAa,IAAI,CAAC,IAAI;IAG9B;AACF"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ImageViewer.tsx"],"sourcesContent":["import Image from \"next/image\";\nimport { useState, useEffect, useRef } from \"react\";\n\ninterface ImageViewerProps {\n  isOpen: boolean;\n  onClose: () => void;\n  imageSrc: string;\n  imageAlt: string;\n}\n\nexport const ImageViewer = ({\n  isOpen,\n  onClose,\n  imageSrc,\n  imageAlt,\n}: ImageViewerProps) => {\n  const [isImageLoading, setIsImageLoading] = useState(true);\n  const dialogRef = useRef<HTMLDivElement>(null);\n\n  // Reset loading state when imageSrc changes\n  useEffect(() => {\n    // eslint-disable-next-line react-hooks/set-state-in-effect\n    setIsImageLoading(true);\n  }, [imageSrc]);\n\n  // Focus the dialog when it opens\n  useEffect(() => {\n    if (isOpen && dialogRef.current) {\n      dialogRef.current.focus();\n    }\n  }, [isOpen]);\n\n  // Handle Escape key press\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        onClose();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [isOpen, onClose]);\n\n  // Don't render if not open or no valid image source\n  if (!isOpen || !imageSrc || imageSrc.trim() === \"\") {\n    return null;\n  }\n\n  const handleImageLoad = () => {\n    setIsImageLoading(false);\n  };\n\n  const handleImageError = () => {\n    setIsImageLoading(false);\n  };\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      handleClose();\n    }\n  };\n\n  return (\n    <div\n      data-state=\"open\"\n      className=\"radix-state-open:animate-show fixed inset-0 z-[100] flex items-center justify-center overflow-hidden bg-black/90 dark:bg-black/80\"\n      style={{ pointerEvents: \"auto\" }}\n      onClick={handleBackdropClick}\n      tabIndex={-1}\n      data-testid=\"image-zoom-modal\"\n    >\n      {/* Close Button */}\n      <button\n        className=\"absolute end-4 top-4 hover:opacity-70 transition-opacity\"\n        type=\"button\"\n        onClick={handleClose}\n        aria-label=\"Close image viewer\"\n        tabIndex={0}\n      >\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-5 w-5 text-gray-100\"\n        >\n          <path d=\"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z\" />\n        </svg>\n      </button>\n\n      {/* Image Container */}\n      <div\n        ref={dialogRef}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"image-viewer-title\"\n        aria-describedby=\"image-viewer-description\"\n        data-state=\"open\"\n        className=\"radix-state-open:animate-contentShow shadow-xl focus:outline-hidden relative\"\n        tabIndex={-1}\n        style={{ pointerEvents: \"auto\" }}\n      >\n        {/* Screen reader title */}\n        <div id=\"image-viewer-title\" className=\"sr-only\">\n          Image Viewer\n        </div>\n        <div id=\"image-viewer-description\" className=\"sr-only\">\n          {imageAlt}\n        </div>\n\n        <div className=\"relative max-h-[85vh] max-w-[90vw]\">\n          {/* Loading Indicator */}\n          {isImageLoading && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent\" />\n                <span className=\"text-sm text-white\">Loading...</span>\n              </div>\n            </div>\n          )}\n\n          <Image\n            className={`h-full w-full object-contain transition-opacity duration-300 ${\n              isImageLoading ? \"opacity-0\" : \"opacity-100\"\n            }`}\n            src={imageSrc}\n            alt={imageAlt}\n            width={1200}\n            height={800}\n            style={{\n              maxHeight: \"85vh\",\n              maxWidth: \"90vw\",\n              height: \"auto\",\n              width: \"auto\",\n            }}\n            sizes=\"(max-width: 768px) 90vw, 85vw\"\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AASO,MAAM,cAAc,CAAC,EAC1B,MAAM,EACN,OAAO,EACP,QAAQ,EACR,QAAQ,EACS;;IACjB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wXAAQ,EAAC;IACrD,MAAM,YAAY,IAAA,sXAAM,EAAiB;IAEzC,4CAA4C;IAC5C,IAAA,yXAAS;iCAAC;YACR,2DAA2D;YAC3D,kBAAkB;QACpB;gCAAG;QAAC;KAAS;IAEb,iCAAiC;IACjC,IAAA,yXAAS;iCAAC;YACR,IAAI,UAAU,UAAU,OAAO,EAAE;gBAC/B,UAAU,OAAO,CAAC,KAAK;YACzB;QACF;gCAAG;QAAC;KAAO;IAEX,0BAA0B;IAC1B,IAAA,yXAAS;iCAAC;YACR,IAAI,CAAC,QAAQ;YAEb,MAAM;uDAAgB,CAAC;oBACrB,IAAI,EAAE,GAAG,KAAK,UAAU;wBACtB;oBACF;gBACF;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;yCAAO;oBACL,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;gCAAG;QAAC;QAAQ;KAAQ;IAEpB,oDAAoD;IACpD,IAAI,CAAC,UAAU,CAAC,YAAY,SAAS,IAAI,OAAO,IAAI;QAClD,OAAO;IACT;IAEA,MAAM,kBAAkB;QACtB,kBAAkB;IACpB;IAEA,MAAM,mBAAmB;QACvB,kBAAkB;IACpB;IAEA,MAAM,cAAc;QAClB;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,EAAE,MAAM,KAAK,EAAE,aAAa,EAAE;YAChC;QACF;IACF;IAEA,qBACE,4YAAC;QACC,cAAW;QACX,WAAU;QACV,OAAO;YAAE,eAAe;QAAO;QAC/B,SAAS;QACT,UAAU,CAAC;QACX,eAAY;;0BAGZ,4YAAC;gBACC,WAAU;gBACV,MAAK;gBACL,SAAS;gBACT,cAAW;gBACX,UAAU;0BAEV,cAAA,4YAAC;oBACC,OAAM;oBACN,QAAO;oBACP,SAAQ;oBACR,MAAK;oBACL,OAAM;oBACN,WAAU;8BAEV,cAAA,4YAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;0BAKZ,4YAAC;gBACC,KAAK;gBACL,MAAK;gBACL,cAAW;gBACX,mBAAgB;gBAChB,oBAAiB;gBACjB,cAAW;gBACX,WAAU;gBACV,UAAU,CAAC;gBACX,OAAO;oBAAE,eAAe;gBAAO;;kCAG/B,4YAAC;wBAAI,IAAG;wBAAqB,WAAU;kCAAU;;;;;;kCAGjD,4YAAC;wBAAI,IAAG;wBAA2B,WAAU;kCAC1C;;;;;;kCAGH,4YAAC;wBAAI,WAAU;;4BAEZ,gCACC,4YAAC;gCAAI,WAAU;0CACb,cAAA,4YAAC;oCAAI,WAAU;;sDACb,4YAAC;4CAAI,WAAU;;;;;;sDACf,4YAAC;4CAAK,WAAU;sDAAqB;;;;;;;;;;;;;;;;;0CAK3C,4YAAC,0VAAK;gCACJ,WAAW,CAAC,6DAA6D,EACvE,iBAAiB,cAAc,eAC/B;gCACF,KAAK;gCACL,KAAK;gCACL,OAAO;gCACP,QAAQ;gCACR,OAAO;oCACL,WAAW;oCACX,UAAU;oCACV,QAAQ;oCACR,OAAO;gCACT;gCACA,OAAM;gCACN,QAAQ;gCACR,SAAS;;;;;;;;;;;;;;;;;;;;;;;;AAMrB;GA/Ia;KAAA"}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/FileUploadPreview.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { X, File, Loader2 } from \"lucide-react\";\nimport { useEffect, useState, useCallback, useRef } from \"react\";\nimport Image from \"next/image\";\nimport {\n  fileToBase64,\n  formatFileSize,\n  isImageFile,\n} from \"@/lib/utils/file-utils\";\nimport { ImageViewer } from \"./ImageViewer\";\nimport {\n  UploadedFileState,\n  FileUploadPreviewProps,\n  FilePreview,\n} from \"@/types/file\";\n\nexport const FileUploadPreview = ({\n  uploadedFiles,\n  onRemoveFile,\n}: FileUploadPreviewProps) => {\n  const [filePreviews, setFilePreviews] = useState<FilePreview[]>([]);\n  const [selectedImage, setSelectedImage] = useState<{\n    src: string;\n    alt: string;\n  } | null>(null);\n\n  // Use ref to store base64 previews to avoid regenerating them\n  const previewCache = useRef<Map<string, string>>(new Map());\n\n  const generateFileKey = useCallback((file: File): string => {\n    return `${file.name}_${file.size}_${file.lastModified}`;\n  }, []);\n\n  useEffect(() => {\n    const loadPreviews = async () => {\n      const previews: FilePreview[] = [];\n\n      for (const uploadedFile of uploadedFiles) {\n        const preview: FilePreview = {\n          file: uploadedFile.file,\n          loading: false,\n          uploading: uploadedFile.uploading,\n          uploaded: uploadedFile.uploaded,\n          error: uploadedFile.error,\n        };\n\n        // Generate base64 preview for images - this will show immediately while uploading\n        if (isImageFile(uploadedFile.file)) {\n          const fileKey = generateFileKey(uploadedFile.file);\n          const cachedPreview = previewCache.current.get(fileKey);\n\n          if (cachedPreview) {\n            // Use cached preview\n            preview.preview = cachedPreview;\n          } else {\n            // Generate new base64 preview\n            preview.loading = true;\n            try {\n              const base64Preview = await fileToBase64(uploadedFile.file);\n              preview.preview = base64Preview;\n              // Cache the preview\n              previewCache.current.set(fileKey, base64Preview);\n            } catch (error) {\n              console.error(\"Error converting file to base64:\", error);\n            }\n            preview.loading = false;\n          }\n        }\n\n        previews.push(preview);\n      }\n\n      setFilePreviews(previews);\n    };\n\n    if (uploadedFiles && uploadedFiles.length > 0) {\n      loadPreviews();\n    } else {\n      // eslint-disable-next-line react-hooks/set-state-in-effect\n      setFilePreviews([]);\n      // Don't clear cache when no files - we might get the same files back\n    }\n  }, [uploadedFiles, generateFileKey]);\n\n  if (!uploadedFiles || uploadedFiles.length === 0) {\n    return null;\n  }\n\n  const hasMultipleFiles = uploadedFiles.length > 1;\n\n  const handleImageClick = (preview: string, fileName: string) => {\n    setSelectedImage({ src: preview, alt: fileName });\n  };\n\n  return (\n    <>\n      <div className=\"flex flex-col gap-3 rounded-t-[22px] transition-all relative bg-input-chat py-3 shadow-[0px_12px_32px_0px_rgba(0,0,0,0.02)] border border-black/8 dark:border-border border-b-0\">\n        <div className=\"w-full\">\n          <div className=\"no-scrollbar horizontal-scroll-fade-mask flex flex-nowrap gap-2 overflow-x-auto px-2.5 [--edge-fade-distance:1rem]\">\n            {filePreviews.map((filePreview, index) => (\n              <div\n                key={`${filePreview.file.name}-${index}`}\n                className=\"group text-token-text-primary relative inline-block text-sm\"\n                data-testid=\"attached-file\"\n              >\n                <div\n                  className={`relative overflow-hidden border rounded-2xl ${\n                    filePreview.error\n                      ? \"border-red-500 border-2 bg-red-50 dark:bg-red-950/20\"\n                      : isImageFile(filePreview.file)\n                        ? \"bg-background\"\n                        : \"bg-primary\"\n                  }`}\n                >\n                  <div\n                    className={\n                      isImageFile(filePreview.file)\n                        ? hasMultipleFiles\n                          ? \"h-14.5 w-14.5\"\n                          : \"h-36 w-36\"\n                        : \"\"\n                    }\n                  >\n                    {filePreview.loading && !filePreview.preview ? (\n                      <div className=\"h-full w-full flex items-center justify-center bg-muted\">\n                        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-foreground\"></div>\n                      </div>\n                    ) : filePreview.error ? (\n                      isImageFile(filePreview.file) ? (\n                        <div className=\"h-full w-full flex items-center justify-center min-h-[100px]\">\n                          <div className=\"flex flex-col items-center gap-2 p-3\">\n                            <div className=\"rounded-full bg-red-500 p-2\">\n                              <X className=\"h-5 w-5 text-white\" />\n                            </div>\n                            <span className=\"text-xs font-semibold text-red-600 dark:text-red-400 text-center\">\n                              Upload failed\n                            </span>\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"p-2 w-80\">\n                          <div className=\"flex flex-row items-center gap-2\">\n                            <div className=\"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg flex items-center justify-center bg-red-500\">\n                              <X className=\"h-6 w-6 text-white\" />\n                            </div>\n                            <div className=\"overflow-hidden flex-1\">\n                              <div className=\"truncate font-semibold text-sm\">\n                                {filePreview.file.name}\n                              </div>\n                              <div className=\"text-red-600 dark:text-red-400 font-medium text-xs\">\n                                Upload failed\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      )\n                    ) : filePreview.preview ? (\n                      <button\n                        className=\"h-full w-full overflow-hidden relative\"\n                        onClick={() =>\n                          handleImageClick(\n                            filePreview.preview!,\n                            filePreview.file.name,\n                          )\n                        }\n                      >\n                        <Image\n                          src={filePreview.preview}\n                          alt={filePreview.file.name}\n                          className=\"h-full w-full object-cover\"\n                          fill\n                          unoptimized\n                        />\n                        {/* Upload overlay - show spinner overlay on top of image while uploading */}\n                        {filePreview.uploading && (\n                          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\n                            <Loader2 className=\"h-4 w-4 animate-spin text-white\" />\n                          </div>\n                        )}\n                      </button>\n                    ) : (\n                      <div className=\"p-2 w-80\">\n                        <div className=\"flex flex-row items-center gap-2\">\n                          <div\n                            className={`relative h-10 w-10 shrink-0 overflow-hidden rounded-lg flex items-center justify-center ${\n                              filePreview.error ? \"bg-red-500\" : \"bg-[#FF5588]\"\n                            }`}\n                          >\n                            {filePreview.uploading ? (\n                              <Loader2 className=\"h-6 w-6 text-white animate-spin\" />\n                            ) : filePreview.error ? (\n                              <X className=\"h-6 w-6 text-white\" />\n                            ) : (\n                              <File className=\"h-6 w-6 text-white\" />\n                            )}\n                          </div>\n                          <div className=\"overflow-hidden flex-1\">\n                            <div className=\"truncate font-semibold text-sm\">\n                              {filePreview.file.name}\n                            </div>\n                            <div\n                              className={`truncate text-xs ${\n                                filePreview.error\n                                  ? \"text-red-600 dark:text-red-400 font-medium\"\n                                  : \"text-muted-foreground\"\n                              }`}\n                            >\n                              {filePreview.error\n                                ? \"Upload failed\"\n                                : `Document  ${formatFileSize(filePreview.file.size)}`}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"absolute end-1.5 top-1.5 inline-flex gap-1\">\n                  <Button\n                    type=\"button\"\n                    onClick={() => onRemoveFile(index)}\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    className=\"transition-colors flex h-6 w-6 items-center justify-center rounded-full border-[rgba(0,0,0,0.1)] bg-black text-white dark:border-[rgba(255,255,255,0.1)] dark:bg-white dark:text-black p-0\"\n                    aria-label=\"Remove file\"\n                    data-testid=\"remove-file\"\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Image Viewer Modal */}\n      {selectedImage && selectedImage.src && (\n        <ImageViewer\n          isOpen={!!selectedImage}\n          onClose={() => setSelectedImage(null)}\n          imageSrc={selectedImage.src}\n          imageAlt={selectedImage.alt}\n        />\n      )}\n    </>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1628, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/QueuedMessagesPanel.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  Trash,\n  ArrowUp,\n  ChevronDown,\n  ChevronRight,\n  MoreHorizontal,\n  Check,\n} from \"lucide-react\";\nimport type { QueuedMessage, QueueBehavior } from \"@/types/chat\";\nimport { useState } from \"react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\ninterface QueuedMessagesPanelProps {\n  messages: QueuedMessage[];\n  onSendNow: (messageId: string) => void;\n  onDelete: (messageId: string) => void;\n  isStreaming: boolean;\n  queueBehavior?: QueueBehavior;\n  onQueueBehaviorChange?: (behavior: QueueBehavior) => void;\n}\n\nexport const QueuedMessagesPanel = ({\n  messages,\n  onSendNow,\n  onDelete,\n  isStreaming,\n  queueBehavior = \"queue\",\n  onQueueBehaviorChange,\n}: QueuedMessagesPanelProps) => {\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  if (messages.length === 0) {\n    return null;\n  }\n\n  const handleToggleExpand = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const queueBehaviorOptions: Array<{\n    value: QueueBehavior;\n    label: string;\n  }> = [\n    { value: \"queue\", label: \"Queue after current message\" },\n    { value: \"stop-and-send\", label: \"Stop & send right away\" },\n  ];\n\n  return (\n    <div className=\"mx-4 rounded-[22px_22px_0px_0px] shadow-[0px_12px_32px_0px_rgba(0,0,0,0.02)] border border-black/8 dark:border-border border-b-0 bg-input-chat\">\n      {/* Header */}\n      <div className=\"flex items-center px-4 transition-all duration-300 py-2\">\n        <button\n          onClick={handleToggleExpand}\n          className=\"flex items-center gap-2 hover:opacity-80 transition-opacity cursor-pointer focus:outline-none rounded-md p-1 -m-1 flex-1\"\n          aria-label={\n            isExpanded ? \"Collapse queued messages\" : \"Expand queued messages\"\n          }\n          tabIndex={0}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              e.preventDefault();\n              handleToggleExpand();\n            }\n          }}\n        >\n          {isExpanded ? (\n            <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n          ) : (\n            <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n          )}\n          <div className=\"flex items-center gap-2\">\n            <h3 className=\"text-muted-foreground text-sm font-medium\">\n              {messages.length} Queued\n            </h3>\n          </div>\n        </button>\n\n        {/* Settings Dropdown */}\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-7 w-7 p-0\"\n              aria-label=\"Queue settings\"\n            >\n              <MoreHorizontal className=\"w-4 h-4 text-muted-foreground\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-56\">\n            <div className=\"px-2 py-1.5 text-xs font-medium text-muted-foreground\">\n              When to send follow-ups\n            </div>\n            {queueBehaviorOptions.map((option) => (\n              <DropdownMenuItem\n                key={option.value}\n                onClick={() => onQueueBehaviorChange?.(option.value)}\n                className=\"flex items-center justify-between cursor-pointer\"\n              >\n                <span>{option.label}</span>\n                {queueBehavior === option.value && (\n                  <Check className=\"w-4 h-4\" />\n                )}\n              </DropdownMenuItem>\n            ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n\n      {/* Message List - Collapsible */}\n      {isExpanded && (\n        <div className=\"border-t border-border px-4 py-3 space-y-2 max-h-[200px] overflow-y-auto\">\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              className=\"flex items-start gap-2 transition-colors\"\n            >\n              {/* Message preview */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"text-sm truncate text-foreground\">\n                  {message.text}\n                </div>\n                {message.files && message.files.length > 0 && (\n                  <div className=\"text-xs text-muted-foreground mt-0.5\">\n                    {message.files.length} file\n                    {message.files.length > 1 ? \"s\" : \"\"}\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex items-center gap-1 flex-shrink-0\">\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  variant=\"ghost\"\n                  onClick={() => onSendNow(message.id)}\n                  disabled={!isStreaming}\n                  className=\"h-7 px-2 text-xs\"\n                  title={\n                    isStreaming\n                      ? \"Cancel current response and send this now\"\n                      : \"Waiting for current response to complete\"\n                  }\n                >\n                  <ArrowUp className=\"w-3 h-3 mr-1\" />\n                  Send Now\n                </Button>\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  variant=\"ghost\"\n                  onClick={() => onDelete(message.id)}\n                  className=\"h-7 w-7 p-0\"\n                  title=\"Remove from queue\"\n                >\n                  <Trash className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;;;;;;;AAgBO,MAAM,sBAAsB,CAAC,EAClC,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,WAAW,EACX,gBAAgB,OAAO,EACvB,qBAAqB,EACI;;IACzB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wXAAQ,EAAC;IAE7C,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,MAAM,qBAAqB;QACzB,cAAc,CAAC;IACjB;IAEA,MAAM,uBAGD;QACH;YAAE,OAAO;YAAS,OAAO;QAA8B;QACvD;YAAE,OAAO;YAAiB,OAAO;QAAyB;KAC3D;IAED,qBACE,4YAAC;QAAI,WAAU;;0BAEb,4YAAC;gBAAI,WAAU;;kCACb,4YAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cACE,aAAa,6BAA6B;wBAE5C,UAAU;wBACV,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;gCACtC,EAAE,cAAc;gCAChB;4BACF;wBACF;;4BAEC,2BACC,4YAAC,0TAAW;gCAAC,WAAU;;;;;yFAEvB,4YAAC,6TAAY;gCAAC,WAAU;;;;;;0CAE1B,4YAAC;gCAAI,WAAU;0CACb,cAAA,4YAAC;oCAAG,WAAU;;wCACX,SAAS,MAAM;wCAAC;;;;;;;;;;;;;;;;;;kCAMvB,4YAAC,wJAAY;;0CACX,4YAAC,+JAAmB;gCAAC,OAAO;0CAC1B,cAAA,4YAAC,wIAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,WAAU;oCACV,cAAW;8CAEX,cAAA,4YAAC,yTAAc;wCAAC,WAAU;;;;;;;;;;;;;;;;0CAG9B,4YAAC,+JAAmB;gCAAC,OAAM;gCAAM,WAAU;;kDACzC,4YAAC;wCAAI,WAAU;kDAAwD;;;;;;oCAGtE,qBAAqB,GAAG,CAAC,CAAC,uBACzB,4YAAC,4JAAgB;4CAEf,SAAS,IAAM,wBAAwB,OAAO,KAAK;4CACnD,WAAU;;8DAEV,4YAAC;8DAAM,OAAO,KAAK;;;;;;gDAClB,kBAAkB,OAAO,KAAK,kBAC7B,4YAAC,oSAAK;oDAAC,WAAU;;;;;;;2CANd,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;YAe1B,4BACC,4YAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,4YAAC;wBAEC,WAAU;;0CAGV,4YAAC;gCAAI,WAAU;;kDACb,4YAAC;wCAAI,WAAU;kDACZ,QAAQ,IAAI;;;;;;oCAEd,QAAQ,KAAK,IAAI,QAAQ,KAAK,CAAC,MAAM,GAAG,mBACvC,4YAAC;wCAAI,WAAU;;4CACZ,QAAQ,KAAK,CAAC,MAAM;4CAAC;4CACrB,QAAQ,KAAK,CAAC,MAAM,GAAG,IAAI,MAAM;;;;;;;;;;;;;0CAMxC,4YAAC;gCAAI,WAAU;;kDACb,4YAAC,wIAAM;wCACL,MAAK;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,UAAU,QAAQ,EAAE;wCACnC,UAAU,CAAC;wCACX,WAAU;wCACV,OACE,cACI,8CACA;;0DAGN,4YAAC,8SAAO;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAGtC,4YAAC,wIAAM;wCACL,MAAK;wCACL,MAAK;wCACL,SAAQ;wCACR,SAAS,IAAM,SAAS,QAAQ,EAAE;wCAClC,WAAU;wCACV,OAAM;kDAEN,cAAA,4YAAC,oSAAK;4CAAC,WAAU;;;;;;;;;;;;;;;;;;uBA1ChB,QAAQ,EAAE;;;;;;;;;;;;;;;;AAmD7B;GAhJa;KAAA"}},
    {"offset": {"line": 1916, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ScrollToBottomButton.tsx"],"sourcesContent":["import { ChevronDown } from \"lucide-react\";\nimport { useGlobalState } from \"@/app/contexts/GlobalState\";\n\ninterface ScrollToBottomButtonProps {\n  onClick: () => void;\n  hasMessages: boolean;\n  isAtBottom: boolean;\n}\n\nexport const ScrollToBottomButton = ({\n  onClick,\n  hasMessages,\n  isAtBottom,\n}: ScrollToBottomButtonProps) => {\n  const { isTodoPanelExpanded } = useGlobalState();\n\n  const shouldShowScrollButton =\n    hasMessages && !isAtBottom && !isTodoPanelExpanded;\n\n  if (!shouldShowScrollButton) return null;\n\n  return (\n    <div>\n      <button\n        onClick={onClick}\n        className=\"bg-background border border-border rounded-full p-2 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105 flex items-center justify-center\"\n        aria-label=\"Scroll to bottom\"\n        tabIndex={0}\n      >\n        <ChevronDown className=\"w-4 h-4 text-muted-foreground\" />\n      </button>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAQO,MAAM,uBAAuB,CAAC,EACnC,OAAO,EACP,WAAW,EACX,UAAU,EACgB;;IAC1B,MAAM,EAAE,mBAAmB,EAAE,GAAG,IAAA,oJAAc;IAE9C,MAAM,yBACJ,eAAe,CAAC,cAAc,CAAC;IAEjC,IAAI,CAAC,wBAAwB,OAAO;IAEpC,qBACE,4YAAC;kBACC,cAAA,4YAAC;YACC,SAAS;YACT,WAAU;YACV,cAAW;YACX,UAAU;sBAEV,cAAA,4YAAC,0TAAW;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI/B;GAxBa;;QAKqB,oJAAc;;;KALnC"}},
    {"offset": {"line": 1971, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className,\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  );\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />;\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor };\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBAAO,4YAAC,+XAAqB;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAJS;AAMT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,4YAAC,kYAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD;IACtD,qBACE,4YAAC,iYAAuB;kBACtB,cAAA,4YAAC,kYAAwB;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,4YAAC,iYAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS"}},
    {"offset": {"line": 2054, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/AttachmentButton.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport { Paperclip } from \"lucide-react\";\nimport { useGlobalState } from \"../contexts/GlobalState\";\nimport { useState } from \"react\";\nimport { redirectToPricing } from \"../hooks/usePricingDialog\";\n\ninterface AttachmentButtonProps {\n  onAttachClick: () => void;\n  disabled?: boolean;\n}\n\nexport const AttachmentButton = ({\n  onAttachClick,\n  disabled = false,\n}: AttachmentButtonProps) => {\n  const { subscription, isCheckingProPlan } = useGlobalState();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n\n  const handleClick = () => {\n    if (subscription !== \"free\") {\n      onAttachClick();\n    } else {\n      setPopoverOpen(true);\n    }\n  };\n\n  const handleUpgradeClick = () => {\n    // Close the popover first\n    setPopoverOpen(false);\n    // Navigate to pricing page\n    redirectToPricing();\n  };\n\n  // If user has pro plan or we're checking, show normal tooltip behavior\n  if (subscription !== \"free\" || isCheckingProPlan) {\n    return (\n      <TooltipPrimitive.Root>\n        <TooltipTrigger asChild>\n          <Button\n            type=\"button\"\n            onClick={onAttachClick}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"rounded-full p-0 w-8 h-8 min-w-0\"\n            aria-label=\"Attach files\"\n            data-testid=\"attach-files-button\"\n            disabled={disabled || isCheckingProPlan}\n          >\n            <Paperclip className=\"w-[15px] h-[15px]\" />\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p>Add files</p>\n        </TooltipContent>\n      </TooltipPrimitive.Root>\n    );\n  }\n\n  // If user doesn't have pro plan, show popover with upgrade option\n  return (\n    <Popover open={popoverOpen} onOpenChange={setPopoverOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          type=\"button\"\n          onClick={handleClick}\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"rounded-full p-0 w-8 h-8 min-w-0\"\n          aria-label=\"Attach files\"\n          data-testid=\"attach-files-button\"\n          disabled={disabled}\n        >\n          <Paperclip className=\"w-[15px] h-[15px]\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        className=\"w-80 p-4\"\n        side=\"top\"\n        align=\"start\"\n        data-testid=\"file-attach-upgrade-dialog\"\n      >\n        <div className=\"space-y-3\">\n          <h3 className=\"font-semibold text-base\">Upgrade plan</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Get access to file attachments and more features with Pro\n          </p>\n          <Button\n            onClick={handleUpgradeClick}\n            className=\"w-full\"\n            data-testid=\"file-attach-upgrade-button\"\n          >\n            Upgrade now\n          </Button>\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAOO,MAAM,mBAAmB,CAAC,EAC/B,aAAa,EACb,WAAW,KAAK,EACM;;IACtB,MAAM,EAAE,YAAY,EAAE,iBAAiB,EAAE,GAAG,IAAA,oJAAc;IAC1D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wXAAQ,EAAC;IAE/C,MAAM,cAAc;QAClB,IAAI,iBAAiB,QAAQ;YAC3B;QACF,OAAO;YACL,eAAe;QACjB;IACF;IAEA,MAAM,qBAAqB;QACzB,0BAA0B;QAC1B,eAAe;QACf,2BAA2B;QAC3B,IAAA,wJAAiB;IACnB;IAEA,uEAAuE;IACvE,IAAI,iBAAiB,UAAU,mBAAmB;QAChD,qBACE,4YAAC,+XAAqB;;8BACpB,4YAAC,iJAAc;oBAAC,OAAO;8BACrB,cAAA,4YAAC,wIAAM;wBACL,MAAK;wBACL,SAAS;wBACT,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,cAAW;wBACX,eAAY;wBACZ,UAAU,YAAY;kCAEtB,cAAA,4YAAC,gTAAS;4BAAC,WAAU;;;;;;;;;;;;;;;;8BAGzB,4YAAC,iJAAc;8BACb,cAAA,4YAAC;kCAAE;;;;;;;;;;;;;;;;;IAIX;IAEA,kEAAkE;IAClE,qBACE,4YAAC,0IAAO;QAAC,MAAM;QAAa,cAAc;;0BACxC,4YAAC,iJAAc;gBAAC,OAAO;0BACrB,cAAA,4YAAC,wIAAM;oBACL,MAAK;oBACL,SAAS;oBACT,SAAQ;oBACR,MAAK;oBACL,WAAU;oBACV,cAAW;oBACX,eAAY;oBACZ,UAAU;8BAEV,cAAA,4YAAC,gTAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,4YAAC,iJAAc;gBACb,WAAU;gBACV,MAAK;gBACL,OAAM;gBACN,eAAY;0BAEZ,cAAA,4YAAC;oBAAI,WAAU;;sCACb,4YAAC;4BAAG,WAAU;sCAA0B;;;;;;sCACxC,4YAAC;4BAAE,WAAU;sCAAgC;;;;;;sCAG7C,4YAAC,wIAAM;4BACL,SAAS;4BACT,WAAU;4BACV,eAAY;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOX;GAtFa;;QAIiC,oJAAc;;;KAJ/C"}},
    {"offset": {"line": 2246, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/token-utils.ts"],"sourcesContent":["import { UIMessage, UIMessagePart } from \"ai\";\nimport { countTokens, encode, decode } from \"gpt-tokenizer\";\nimport type { SubscriptionTier } from \"@/types\";\nimport type { Id } from \"@/convex/_generated/dataModel\";\n\nexport const MAX_TOKENS_FREE = 16000;\nexport const MAX_TOKENS_PRO_AND_TEAM = 32000;\nexport const MAX_TOKENS_ULTRA = 100000;\n/**\n * Maximum total tokens allowed across all files\n */\nexport const MAX_TOKENS_FILE = 24000;\n\nexport const getMaxTokensForSubscription = (\n  subscription: SubscriptionTier,\n): number => {\n  if (subscription === \"ultra\") return MAX_TOKENS_ULTRA;\n  if (subscription === \"pro\" || subscription === \"team\")\n    return MAX_TOKENS_PRO_AND_TEAM;\n  return MAX_TOKENS_FREE;\n};\n\n// Token limits for different contexts\nexport const STREAM_MAX_TOKENS = 2048;\nexport const TOOL_DEFAULT_MAX_TOKENS = 2048;\n\n// Truncation messages\nexport const TRUNCATION_MESSAGE =\n  \"\\n\\n[... OUTPUT TRUNCATED - middle content removed to fit context limits ...]\\n\\n\";\nexport const FILE_READ_TRUNCATION_MESSAGE =\n  \"\\n\\n[Content truncated due to size limit. Use line ranges to read in chunks]\";\nexport const TIMEOUT_MESSAGE = (seconds: number, pid?: number) =>\n  pid\n    ? `\\n\\nCommand output paused after ${seconds} seconds. Command continues in background with PID: ${pid}`\n    : `\\n\\nCommand output paused after ${seconds} seconds. Command continues in background.`;\n\n/**\n * Count tokens for a single message part\n */\nconst countPartTokens = (\n  part: UIMessagePart<any, any>,\n  fileTokens: Record<Id<\"files\">, number> = {},\n): number => {\n  if (part.type === \"text\" && \"text\" in part) {\n    return countTokens((part as { text?: string }).text || \"\");\n  }\n  if (\n    part.type === \"file\" &&\n    \"fileId\" in part &&\n    (part as { fileId?: Id<\"files\"> }).fileId\n  ) {\n    const fileId = (part as { fileId: Id<\"files\"> }).fileId;\n    return fileTokens[fileId] || 0;\n  }\n  // For tool-call, tool-result, and other part types, count their JSON structure\n  return countTokens(JSON.stringify(part));\n};\n\n/**\n * Extracts and counts tokens from message text and file tokens (excluding reasoning blocks)\n */\nconst getMessageTokenCountWithFiles = (\n  message: UIMessage,\n  fileTokens: Record<Id<\"files\">, number> = {},\n): number => {\n  // Filter out reasoning blocks before counting tokens\n  const partsWithoutReasoning = message.parts.filter(\n    (part) => part.type !== \"step-start\" && part.type !== \"reasoning\",\n  );\n\n  // Count tokens for all parts\n  const totalTokens = partsWithoutReasoning.reduce(\n    (sum, part) => sum + countPartTokens(part, fileTokens),\n    0,\n  );\n\n  return totalTokens;\n};\n\n/**\n * Truncates messages to stay within token limit, keeping newest messages first\n */\nexport const truncateMessagesToTokenLimit = (\n  messages: UIMessage[],\n  fileTokens: Record<Id<\"files\">, number> = {},\n  maxTokens: number = MAX_TOKENS_FREE,\n): UIMessage[] => {\n  if (messages.length === 0) return messages;\n\n  const result: UIMessage[] = [];\n  let totalTokens = 0;\n\n  // Process from newest to oldest\n  for (let i = messages.length - 1; i >= 0; i--) {\n    const messageTokens = getMessageTokenCountWithFiles(\n      messages[i],\n      fileTokens,\n    );\n\n    if (totalTokens + messageTokens > maxTokens) break;\n\n    totalTokens += messageTokens;\n    result.unshift(messages[i]);\n  }\n\n  return result;\n};\n\n/**\n * Counts total tokens in all messages\n */\nexport const countMessagesTokens = (\n  messages: UIMessage[],\n  fileTokens: Record<Id<\"files\">, number> = {},\n): number => {\n  return messages.reduce(\n    (total, message) =>\n      total + getMessageTokenCountWithFiles(message, fileTokens),\n    0,\n  );\n};\n\n/**\n * Truncates content by token count using 25% head + 75% tail strategy.\n * This preserves both the command start (context) and the end (final results/errors),\n * which is typically more useful for debugging than keeping only the beginning.\n */\nexport const truncateContent = (\n  content: string,\n  marker: string = TRUNCATION_MESSAGE,\n): string => {\n  const tokens = encode(content);\n  if (tokens.length <= TOOL_DEFAULT_MAX_TOKENS) return content;\n\n  const markerTokens = countTokens(marker);\n  if (TOOL_DEFAULT_MAX_TOKENS <= markerTokens) {\n    return TOOL_DEFAULT_MAX_TOKENS <= 0\n      ? \"\"\n      : decode(encode(marker).slice(-TOOL_DEFAULT_MAX_TOKENS));\n  }\n\n  const budgetForContent = TOOL_DEFAULT_MAX_TOKENS - markerTokens;\n\n  // 25% head + 75% tail strategy\n  const headBudget = Math.floor(budgetForContent * 0.25);\n  const tailBudget = budgetForContent - headBudget;\n\n  const headTokens = tokens.slice(0, headBudget);\n  const tailTokens = tokens.slice(-tailBudget);\n\n  return decode(headTokens) + marker + decode(tailTokens);\n};\n\n/**\n * Slices content to fit within a specific token budget\n */\nexport const sliceByTokens = (content: string, maxTokens: number): string => {\n  if (maxTokens <= 0) return \"\";\n\n  const tokens = encode(content);\n  if (tokens.length <= maxTokens) return content;\n\n  return decode(tokens.slice(0, maxTokens));\n};\n\n/**\n * Counts tokens for user input including text and uploaded files\n */\nexport const countInputTokens = (\n  input: string,\n  uploadedFiles: Array<{ tokens?: number }> = [],\n): number => {\n  const textTokens = countTokens(input);\n  const fileTokens = uploadedFiles.reduce(\n    (total, file) => total + (file.tokens || 0),\n    0,\n  );\n  return textTokens + fileTokens;\n};\n\n/**\n * Legacy wrapper for backward compatibility\n */\nexport function truncateOutput(args: {\n  content: string;\n  mode?: \"read-file\" | \"generic\";\n}): string {\n  const { content, mode } = args;\n  const suffix =\n    mode === \"read-file\" ? FILE_READ_TRUNCATION_MESSAGE : TRUNCATION_MESSAGE;\n  return truncateContent(content, suffix);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2376, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/useFileUpload.ts"],"sourcesContent":["import { useRef, useState, useCallback } from \"react\";\nimport { toast } from \"sonner\";\nimport { useMutation, useAction } from \"convex/react\";\nimport { ConvexError } from \"convex/values\";\nimport { api } from \"@/convex/_generated/api\";\nimport {\n  MAX_FILES_LIMIT,\n  uploadSingleFileToConvex,\n  validateFile,\n  createFileMessagePartFromUploadedFile,\n} from \"@/lib/utils/file-utils\";\nimport { MAX_TOKENS_FILE } from \"@/lib/token-utils\";\nimport { FileProcessingResult, FileSource } from \"@/types/file\";\nimport { useGlobalState } from \"../contexts/GlobalState\";\nimport { Id } from \"@/convex/_generated/dataModel\";\n\nconst USE_S3_STORAGE = process.env.NEXT_PUBLIC_USE_S3_STORAGE === \"true\";\n\nexport const useFileUpload = (mode: \"ask\" | \"agent\" = \"ask\") => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const {\n    uploadedFiles,\n    addUploadedFile,\n    updateUploadedFile,\n    removeUploadedFile,\n    subscription,\n    getTotalTokens,\n  } = useGlobalState();\n\n  // Drag and drop state\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [showDragOverlay, setShowDragOverlay] = useState(false);\n  const dragCounterRef = useRef(0);\n\n  // Stubbed Convex hooks\n  const generateUploadUrl = async () => \"stub-url\";\n  const deleteFile = async () => {};\n  const saveFile = async () => ({ url: \"stub-url\", fileId: \"stub-id\", tokens: 0 });\n  const generateS3UploadUrlAction = async () => ({ uploadUrl: \"stub-url\", s3Key: \"stub-key\" });\n\n  // Wrap Convex mutation to match `() => Promise<string>` signature expected by the util\n  const generateUploadUrlFn = useCallback(\n    () => generateUploadUrl({}),\n    [generateUploadUrl],\n  );\n\n  // Helper function to check and validate files before processing\n  const validateAndFilterFiles = useCallback(\n    (files: File[]): FileProcessingResult => {\n      const existingUploadedCount = uploadedFiles.length;\n      const totalFiles = existingUploadedCount + files.length;\n\n      // Check file limits\n      let filesToProcess = files;\n      let truncated = false;\n\n      if (totalFiles > MAX_FILES_LIMIT) {\n        const remainingSlots = MAX_FILES_LIMIT - existingUploadedCount;\n        if (remainingSlots <= 0) {\n          return {\n            validFiles: [],\n            invalidFiles: [],\n            truncated: false,\n            processedCount: 0,\n          };\n        }\n        filesToProcess = files.slice(0, remainingSlots);\n        truncated = true;\n      }\n\n      // Validate each file\n      const validFiles: File[] = [];\n      const invalidFiles: string[] = [];\n\n      for (const file of filesToProcess) {\n        const validation = validateFile(file);\n        if (validation.valid) {\n          validFiles.push(file);\n        } else {\n          invalidFiles.push(`${file.name}: ${validation.error}`);\n        }\n      }\n\n      return {\n        validFiles,\n        invalidFiles,\n        truncated,\n        processedCount: filesToProcess.length,\n      };\n    },\n    [uploadedFiles.length],\n  );\n\n  // Helper function to show feedback messages\n  const showProcessingFeedback = useCallback(\n    (\n      result: FileProcessingResult,\n      source: FileSource,\n      hasRemainingSlots: boolean = true,\n    ) => {\n      const messages: string[] = [];\n\n      // Handle case where no slots are available\n      if (!hasRemainingSlots) {\n        toast.error(\n          `Maximum ${MAX_FILES_LIMIT} files allowed. Please remove some files before adding more.`,\n        );\n        return;\n      }\n\n      // Add truncation message\n      if (result.truncated) {\n        messages.push(\n          `Only ${result.processedCount} files were added. Maximum ${MAX_FILES_LIMIT} files allowed.`,\n        );\n      }\n\n      // Add validation errors\n      if (result.invalidFiles.length > 0) {\n        messages.push(\n          `Some files were invalid:\\n${result.invalidFiles.join(\"\\n\")}`,\n        );\n      }\n\n      // Show error messages if any\n      if (messages.length > 0) {\n        toast.error(messages.join(\"\\n\\n\"));\n      }\n    },\n    [],\n  );\n\n  // Upload file to S3 storage\n  const uploadFileToS3 = useCallback(\n    async (file: File, uploadIndex: number) => {\n      try {\n        // Step 1: Generate presigned S3 upload URL\n        const { uploadUrl, s3Key } = await generateS3UploadUrlAction({\n          fileName: file.name,\n          contentType: file.type || \"application/octet-stream\",\n        });\n\n        // Step 2: Upload file to S3 using presigned URL\n        const uploadResponse = await fetch(uploadUrl, {\n          method: \"PUT\",\n          body: file,\n          headers: { \"Content-Type\": file.type || \"application/octet-stream\" },\n        });\n\n        if (!uploadResponse.ok) {\n          throw new Error(\n            `Failed to upload file ${file.name}: ${uploadResponse.statusText}`,\n          );\n        }\n\n        // Step 3: Save file metadata to database with S3 key\n        const { url, fileId, tokens } = await saveFile({\n          s3Key,\n          name: file.name,\n          mediaType: file.type,\n          size: file.size,\n          mode,\n        });\n\n        // Only check token limit for \"ask\" mode\n        // In \"agent\" mode, files are accessed in sandbox, no token limit applies\n        if (mode === \"ask\") {\n          const currentTotal = getTotalTokens();\n          const newTotal = currentTotal + tokens;\n\n          if (newTotal > MAX_TOKENS_FILE) {\n            // Exceeds limit - delete file from storage and remove from upload list\n            deleteFile({ fileId: fileId as Id<\"files\"> }).catch(console.error);\n            removeUploadedFile(uploadIndex);\n\n            toast.error(\n              `${file.name} exceeds token limit (${newTotal.toLocaleString()}/${MAX_TOKENS_FILE.toLocaleString()} tokens). Tip: Switch to Agent mode to upload larger files.`,\n            );\n            return;\n          }\n        }\n\n        // Set success state with tokens\n        updateUploadedFile(uploadIndex, {\n          tokens,\n          uploading: false,\n          uploaded: true,\n          fileId,\n          url,\n        });\n      } catch (error) {\n        console.error(\"Failed to upload file:\", error);\n\n        // Extract error message from ConvexError or regular Error\n        const errorMessage = (() => {\n          if (error instanceof ConvexError) {\n            const errorData = error.data as { message?: string };\n            return errorData?.message || error.message || \"Upload failed\";\n          }\n          if (error instanceof Error) {\n            return error.message;\n          }\n          return \"Upload failed\";\n        })();\n\n        // Update the upload state to error\n        updateUploadedFile(uploadIndex, {\n          uploading: false,\n          uploaded: false,\n          error: errorMessage,\n        });\n\n        toast.error(errorMessage);\n      }\n    },\n    [\n      generateS3UploadUrlAction,\n      saveFile,\n      getTotalTokens,\n      deleteFile,\n      removeUploadedFile,\n      updateUploadedFile,\n      mode,\n    ],\n  );\n\n  // Upload file to Convex storage\n  const uploadFileToConvex = useCallback(\n    async (file: File, uploadIndex: number) => {\n      try {\n        const { fileId, url, tokens } = await uploadSingleFileToConvex(\n          file,\n          generateUploadUrlFn,\n          saveFile,\n          mode,\n        );\n\n        // Only check token limit for \"ask\" mode\n        // In \"agent\" mode, files are accessed in sandbox, no token limit applies\n        if (mode === \"ask\") {\n          const currentTotal = getTotalTokens();\n          const newTotal = currentTotal + tokens;\n\n          if (newTotal > MAX_TOKENS_FILE) {\n            // Exceeds limit - delete file from storage and remove from upload list\n            deleteFile({ fileId: fileId as Id<\"files\"> }).catch(console.error);\n            removeUploadedFile(uploadIndex);\n\n            toast.error(\n              `${file.name} exceeds token limit (${newTotal.toLocaleString()}/${MAX_TOKENS_FILE.toLocaleString()} tokens). Tip: Switch to Agent mode to upload larger files.`,\n            );\n            return;\n          }\n        }\n\n        // Set success state with tokens\n        updateUploadedFile(uploadIndex, {\n          tokens,\n          uploading: false,\n          uploaded: true,\n          fileId,\n          url,\n        });\n      } catch (error) {\n        console.error(\"Failed to upload file:\", error);\n\n        const errorMessage =\n          error instanceof Error ? error.message : \"Upload failed\";\n\n        // Update the upload state to error\n        updateUploadedFile(uploadIndex, {\n          uploading: false,\n          uploaded: false,\n          error: errorMessage,\n        });\n\n        // Backend already wraps error with file name\n        toast.error(errorMessage);\n      }\n    },\n    [\n      generateUploadUrlFn,\n      saveFile,\n      getTotalTokens,\n      deleteFile,\n      removeUploadedFile,\n      updateUploadedFile,\n      mode,\n    ],\n  );\n\n  // Helper function to start file uploads\n  const startFileUploads = useCallback(\n    (files: File[]) => {\n      const startingIndex = uploadedFiles.length;\n\n      files.forEach((file, index) => {\n        // Add file as \"uploading\" state immediately\n        addUploadedFile({\n          file,\n          uploading: true,\n          uploaded: false,\n        });\n\n        // Start upload in background with correct index\n        // Use S3 or Convex based on feature flag\n        if (USE_S3_STORAGE) {\n          uploadFileToS3(file, startingIndex + index);\n        } else {\n          uploadFileToConvex(file, startingIndex + index);\n        }\n      });\n    },\n    [uploadedFiles.length, addUploadedFile, uploadFileToS3, uploadFileToConvex],\n  );\n\n  // Unified file processing function\n  const processFiles = useCallback(\n    async (files: File[], source: FileSource) => {\n      // Check if user has pro plan for file uploads\n      if (subscription === \"free\") {\n        toast.error(\"Upgrade plan to upload files.\");\n        return;\n      }\n\n      const result = validateAndFilterFiles(files);\n\n      // Check if we have slots available\n      const existingUploadedCount = uploadedFiles.length;\n      const remainingSlots = MAX_FILES_LIMIT - existingUploadedCount;\n      const hasRemainingSlots = remainingSlots > 0;\n\n      // Show feedback messages\n      showProcessingFeedback(result, source, hasRemainingSlots);\n\n      // Start uploads for valid files\n      if (result.validFiles.length > 0 && hasRemainingSlots) {\n        startFileUploads(result.validFiles);\n      }\n    },\n    [\n      subscription,\n      validateAndFilterFiles,\n      showProcessingFeedback,\n      startFileUploads,\n      uploadedFiles.length,\n    ],\n  );\n\n  const handleFileUploadEvent = async (\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const selectedFiles = event.target.files;\n    if (!selectedFiles || selectedFiles.length === 0) return;\n\n    await processFiles(Array.from(selectedFiles), \"upload\");\n\n    // Clear the input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const handleRemoveFile = async (indexToRemove: number) => {\n    const uploadedFile = uploadedFiles[indexToRemove];\n\n    // If the file was uploaded to Convex, delete it from storage\n    if (uploadedFile?.fileId) {\n      try {\n        await deleteFile({\n          fileId: uploadedFile.fileId as Id<\"files\">,\n        });\n      } catch (error) {\n        console.error(\"Failed to delete file from storage:\", error);\n        toast.error(\"Failed to delete file from storage\");\n      }\n    }\n\n    // removeUploadedFile in GlobalState will automatically handle token removal\n    removeUploadedFile(indexToRemove);\n  };\n\n  const handleAttachClick = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handlePasteEvent = async (event: ClipboardEvent): Promise<boolean> => {\n    const items = event.clipboardData?.items;\n    if (!items) return false;\n\n    const files: File[] = [];\n\n    // Extract files from clipboard\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n      if (item.kind === \"file\") {\n        const file = item.getAsFile();\n        if (file) {\n          files.push(file);\n        }\n      }\n    }\n\n    if (files.length === 0) return false;\n\n    // Prevent default paste behavior to avoid pasting file names as text\n    event.preventDefault();\n\n    await processFiles(files, \"paste\");\n    return true;\n  };\n\n  // Helper to get all uploaded file message parts for sending\n  const getUploadedFileMessageParts = () => {\n    return uploadedFiles\n      .map(createFileMessagePartFromUploadedFile)\n      .filter((part): part is NonNullable<typeof part> => part !== null);\n  };\n\n  // Helper to check if all files have finished uploading\n  const allFilesUploaded = () => {\n    return (\n      uploadedFiles.length > 0 &&\n      uploadedFiles.every((file) => file.uploaded && !file.uploading)\n    );\n  };\n\n  // Helper to check if any files are currently uploading\n  const anyFilesUploading = () => {\n    return uploadedFiles.some((file) => file.uploading);\n  };\n\n  // Drag and drop event handlers\n  const handleDragEnter = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    dragCounterRef.current++;\n\n    if (e.dataTransfer?.items && e.dataTransfer.items.length > 0) {\n      setShowDragOverlay(true);\n    }\n  }, []);\n\n  const handleDragLeave = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    dragCounterRef.current--;\n\n    if (dragCounterRef.current === 0) {\n      setShowDragOverlay(false);\n      setIsDragOver(false);\n    }\n  }, []);\n\n  const handleDragOver = useCallback((e: DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.dataTransfer) {\n      e.dataTransfer.dropEffect = \"copy\";\n    }\n\n    setIsDragOver(true);\n  }, []);\n\n  const handleDrop = useCallback(\n    async (e: DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Reset drag state\n      setShowDragOverlay(false);\n      setIsDragOver(false);\n      dragCounterRef.current = 0;\n\n      const files = e.dataTransfer?.files;\n      if (!files || files.length === 0) return;\n\n      await processFiles(Array.from(files), \"drop\");\n    },\n    [processFiles],\n  );\n\n  return {\n    fileInputRef,\n    handleFileUploadEvent,\n    handleRemoveFile,\n    handleAttachClick,\n    handlePasteEvent,\n    getUploadedFileMessageParts,\n    allFilesUploaded,\n    anyFilesUploading,\n    getTotalTokens,\n    // Drag and drop state and handlers\n    isDragOver,\n    showDragOverlay,\n    handleDragEnter,\n    handleDragLeave,\n    handleDragOver,\n    handleDrop,\n  };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2814, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/RateLimitWarning.tsx"],"sourcesContent":["import { X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { redirectToPricing } from \"../hooks/usePricingDialog\";\nimport type { ChatMode, SubscriptionTier } from \"@/types\";\n\ninterface RateLimitWarningProps {\n  remaining: number;\n  resetTime: Date;\n  mode: ChatMode;\n  subscription: SubscriptionTier;\n  onDismiss: () => void;\n}\n\nconst formatTimeUntil = (resetTime: Date): string => {\n  const now = new Date();\n  const timeDiff = resetTime.getTime() - now.getTime();\n\n  if (timeDiff <= 0) {\n    return \"now\";\n  }\n\n  const hoursUntil = Math.floor(timeDiff / (1000 * 60 * 60));\n  const minutesUntil = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));\n\n  if (hoursUntil === 0 && minutesUntil === 0) {\n    return \"in less than a minute\";\n  }\n  if (hoursUntil === 0) {\n    return `in ${minutesUntil} ${minutesUntil === 1 ? \"minute\" : \"minutes\"}`;\n  }\n  if (minutesUntil === 0) {\n    return `in ${hoursUntil} ${hoursUntil === 1 ? \"hour\" : \"hours\"}`;\n  }\n  return `in ${hoursUntil}h ${minutesUntil}m`;\n};\n\nexport const RateLimitWarning = ({\n  remaining,\n  resetTime,\n  mode,\n  subscription,\n  onDismiss,\n}: RateLimitWarningProps) => {\n  const timeString = formatTimeUntil(resetTime);\n  const isFree = subscription === \"free\";\n\n  // Different message when user has 0 remaining\n  const message =\n    remaining === 0\n      ? `You've reached your ${mode} mode limit. It resets ${timeString}.`\n      : `You have ${remaining} ${remaining === 1 ? \"response\" : \"responses\"} in ${mode} mode remaining until it resets ${timeString}.`;\n\n  return (\n    <div\n      data-testid=\"rate-limit-warning\"\n      className=\"mb-2 px-3 py-2.5 bg-input-chat border border-black/8 dark:border-border rounded-lg flex items-center justify-between gap-2\"\n    >\n      <div className=\"flex-1 flex items-center gap-2 flex-wrap\">\n        <span className=\"text-foreground\">{message}</span>\n        {isFree && (\n          <Button\n            onClick={redirectToPricing}\n            size=\"sm\"\n            variant=\"default\"\n            className=\"h-7 px-3 text-xs font-medium\"\n          >\n            Upgrade plan\n          </Button>\n        )}\n      </div>\n      <button\n        onClick={onDismiss}\n        className=\"flex-shrink-0 text-muted-foreground hover:text-foreground cursor-pointer transition-colors\"\n        aria-label=\"Dismiss warning\"\n      >\n        <X className=\"h-5 w-5\" />\n      </button>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAWA,MAAM,kBAAkB,CAAC;IACvB,MAAM,MAAM,IAAI;IAChB,MAAM,WAAW,UAAU,OAAO,KAAK,IAAI,OAAO;IAElD,IAAI,YAAY,GAAG;QACjB,OAAO;IACT;IAEA,MAAM,aAAa,KAAK,KAAK,CAAC,WAAW,CAAC,OAAO,KAAK,EAAE;IACxD,MAAM,eAAe,KAAK,KAAK,CAAC,AAAC,WAAW,CAAC,OAAO,KAAK,EAAE,IAAK,CAAC,OAAO,EAAE;IAE1E,IAAI,eAAe,KAAK,iBAAiB,GAAG;QAC1C,OAAO;IACT;IACA,IAAI,eAAe,GAAG;QACpB,OAAO,CAAC,GAAG,EAAE,aAAa,CAAC,EAAE,iBAAiB,IAAI,WAAW,WAAW;IAC1E;IACA,IAAI,iBAAiB,GAAG;QACtB,OAAO,CAAC,GAAG,EAAE,WAAW,CAAC,EAAE,eAAe,IAAI,SAAS,SAAS;IAClE;IACA,OAAO,CAAC,GAAG,EAAE,WAAW,EAAE,EAAE,aAAa,CAAC,CAAC;AAC7C;AAEO,MAAM,mBAAmB,CAAC,EAC/B,SAAS,EACT,SAAS,EACT,IAAI,EACJ,YAAY,EACZ,SAAS,EACa;IACtB,MAAM,aAAa,gBAAgB;IACnC,MAAM,SAAS,iBAAiB;IAEhC,8CAA8C;IAC9C,MAAM,UACJ,cAAc,IACV,CAAC,oBAAoB,EAAE,KAAK,uBAAuB,EAAE,WAAW,CAAC,CAAC,GAClE,CAAC,SAAS,EAAE,UAAU,CAAC,EAAE,cAAc,IAAI,aAAa,YAAY,IAAI,EAAE,KAAK,gCAAgC,EAAE,WAAW,CAAC,CAAC;IAEpI,qBACE,4YAAC;QACC,eAAY;QACZ,WAAU;;0BAEV,4YAAC;gBAAI,WAAU;;kCACb,4YAAC;wBAAK,WAAU;kCAAmB;;;;;;oBAClC,wBACC,4YAAC,wIAAM;wBACL,SAAS,wJAAiB;wBAC1B,MAAK;wBACL,SAAQ;wBACR,WAAU;kCACX;;;;;;;;;;;;0BAKL,4YAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,4YAAC,wRAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrB;KA3Ca"}},
    {"offset": {"line": 2915, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/SandboxSelector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"convex/react\";\nimport { api } from \"@/convex/_generated/api\";\nimport {\n  Check,\n  Cloud,\n  Laptop,\n  AlertTriangle,\n  ChevronDown,\n  Copy,\n} from \"lucide-react\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState, useEffect } from \"react\";\nimport { toast } from \"sonner\";\n\ninterface SandboxSelectorProps {\n  value: string;\n  onChange?: (value: string) => void;\n  disabled?: boolean;\n  size?: \"sm\" | \"md\";\n  readOnly?: boolean;\n}\n\ninterface LocalConnection {\n  connectionId: string;\n  name: string;\n  mode: \"docker\" | \"dangerous\" | \"custom\";\n  imageName?: string;\n  containerId?: string;\n  osInfo?: {\n    platform: string;\n  };\n}\n\ninterface ConnectionOption {\n  id: string;\n  label: string;\n  description: string;\n  icon: typeof Cloud;\n  warning: string | null;\n  mode?: \"docker\" | \"dangerous\" | \"custom\";\n}\n\nexport function SandboxSelector({\n  value,\n  onChange,\n  disabled = false,\n  size = \"sm\",\n  readOnly = false,\n}: SandboxSelectorProps) {\n  const [open, setOpen] = useState(false);\n\n  const connections = [];\n\n  const options: ConnectionOption[] = [\n    {\n      id: \"e2b\",\n      label: \"Cloud\",\n      icon: Cloud,\n      description: \"\",\n      warning: null,\n    },\n    ...((connections as LocalConnection[] | undefined)?.map((conn) => ({\n      id: conn.connectionId,\n      label: conn.name,\n      icon: Laptop,\n      description:\n        conn.mode === \"dangerous\"\n          ? `Dangerous: ${conn.osInfo?.platform || \"unknown\"}`\n          : conn.mode === \"custom\"\n            ? `Custom: ${conn.imageName || \"unknown\"}`\n            : `Docker: ${conn.containerId?.slice(0, 8) || \"unknown\"}`,\n      warning:\n        conn.mode === \"dangerous\" ? \"Direct OS access - no isolation\" : null,\n      mode: conn.mode,\n    })) || []),\n  ];\n\n  // Auto-correct stale sandbox preference: if the stored value doesn't match any\n  // available option (e.g., local connection was disconnected), reset to \"e2b\"\n  const valueMatchesOption = options.some((opt) => opt.id === value);\n  useEffect(() => {\n    if (connections !== undefined && !valueMatchesOption && value !== \"e2b\") {\n      onChange?.(\"e2b\");\n      toast.info(\"Local sandbox disconnected. Switched to Cloud.\", {\n        duration: 5000,\n      });\n    }\n  }, [connections, valueMatchesOption, value, onChange]);\n\n  const selectedOption = options.find((opt) => opt.id === value) || options[0];\n  const Icon = selectedOption?.icon || Cloud;\n\n  const buttonClassName =\n    size === \"md\"\n      ? \"h-9 px-3 gap-2 text-sm font-medium rounded-md bg-transparent hover:bg-muted/30 focus-visible:ring-1 min-w-0 shrink\"\n      : \"h-7 px-2 gap-1 text-xs font-medium rounded-md bg-transparent hover:bg-muted/30 focus-visible:ring-1 min-w-0 shrink\";\n\n  const iconClassName = size === \"md\" ? \"h-4 w-4 shrink-0\" : \"h-3 w-3 shrink-0\";\n\n  const buttonContent = (\n    <>\n      <Icon className={iconClassName} />\n      <span className=\"truncate\">{selectedOption?.label}</span>\n      {selectedOption?.mode === \"dangerous\" && (\n        <AlertTriangle\n          className={\n            size === \"md\"\n              ? \"h-4 w-4 text-yellow-500 shrink-0\"\n              : \"h-3 w-3 text-yellow-500 shrink-0\"\n          }\n        />\n      )}\n      {!readOnly && (\n        <ChevronDown\n          className={\n            size === \"md\" ? \"h-4 w-4 ml-1 shrink-0\" : \"h-3 w-3 ml-1 shrink-0\"\n          }\n        />\n      )}\n    </>\n  );\n\n  // Read-only mode: display with tooltip\n  if (readOnly) {\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <div\n            className={`flex items-center cursor-default text-muted-foreground ${buttonClassName}`}\n            aria-label=\"Sandbox environment for this chat\"\n          >\n            {buttonContent}\n          </div>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p>Sandbox environment for this chat</p>\n        </TooltipContent>\n      </Tooltip>\n    );\n  }\n\n  // Editable mode: popover selector\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size={size === \"md\" ? \"default\" : \"sm\"}\n          disabled={disabled}\n          className={buttonClassName}\n        >\n          {buttonContent}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-[280px] p-1\" align=\"start\">\n        <div className=\"space-y-0.5\">\n          <div className=\"px-2 py-1.5 text-xs font-medium text-muted-foreground\">\n            Execution Environment\n          </div>\n          {options.map((option) => {\n            const OptionIcon = option.icon;\n            return (\n              <button\n                key={option.id}\n                onClick={() => {\n                  onChange?.(option.id);\n                  setOpen(false);\n                }}\n                className={`w-full flex items-center gap-2.5 p-2 rounded-md text-left transition-colors ${\n                  value === option.id\n                    ? \"bg-accent text-accent-foreground\"\n                    : \"hover:bg-muted\"\n                }`}\n              >\n                <OptionIcon className=\"h-4 w-4 shrink-0\" />\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-1.5\">\n                    <span className=\"text-sm font-medium truncate\">\n                      {option.label}\n                    </span>\n                    {option.mode === \"dangerous\" && (\n                      <AlertTriangle className=\"h-3 w-3 text-yellow-500 shrink-0\" />\n                    )}\n                  </div>\n                  {option.description && (\n                    <div className=\"text-xs text-muted-foreground truncate\">\n                      {option.description}\n                    </div>\n                  )}\n                  {option.warning && (\n                    <div className=\"text-xs text-yellow-600 dark:text-yellow-400 mt-0.5\">\n                      {option.warning}\n                    </div>\n                  )}\n                </div>\n                {value === option.id && <Check className=\"h-4 w-4 shrink-0\" />}\n              </button>\n            );\n          })}\n          {connections && connections.length === 0 && (\n            <div className=\"px-2 py-2 border-t mt-1 pt-2 space-y-2\">\n              <div className=\"text-xs text-muted-foreground\">\n                No local connections.\n              </div>\n              <div className=\"flex gap-1.5\">\n                <code className=\"flex-1 p-2 rounded-md font-mono text-xs bg-zinc-900 dark:bg-zinc-950 text-zinc-300 dark:text-zinc-400 overflow-x-auto\">\n                  npx @hackerai/local@latest\n                </code>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"shrink-0 h-8 w-8\"\n                  onClick={() => {\n                    navigator.clipboard.writeText(\"npx @hackerai/local@latest\");\n                    toast.success(\"Command copied to clipboard\");\n                  }}\n                >\n                  <Copy className=\"h-3.5 w-3.5\" />\n                </Button>\n              </div>\n              <div className=\"text-xs text-muted-foreground\">\n                Run this command to enable local execution.\n              </div>\n            </div>\n          )}\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3263, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/ChatInput.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\nimport {\n  ArrowUp,\n  Square,\n  MessageSquare,\n  Infinity,\n  ChevronDown,\n} from \"lucide-react\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { useGlobalState } from \"../contexts/GlobalState\";\nimport { redirectToPricing } from \"../hooks/usePricingDialog\";\nimport { TodoPanel } from \"./TodoPanel\";\nimport type { ChatStatus } from \"@/types\";\nimport { FileUploadPreview } from \"./FileUploadPreview\";\nimport { QueuedMessagesPanel } from \"./QueuedMessagesPanel\";\nimport { ScrollToBottomButton } from \"./ScrollToBottomButton\";\nimport { AttachmentButton } from \"./AttachmentButton\";\nimport { useFileUpload } from \"../hooks/useFileUpload\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  countInputTokens,\n  getMaxTokensForSubscription,\n} from \"@/lib/token-utils\";\nimport { toast } from \"sonner\";\nimport {\n  NULL_THREAD_DRAFT_ID,\n  getDraftContentById,\n  upsertDraft,\n  removeDraft,\n} from \"@/lib/utils/client-storage\";\nimport { RateLimitWarning } from \"./RateLimitWarning\";\nimport { SandboxSelector } from \"./SandboxSelector\";\nimport type { ChatMode, SubscriptionTier } from \"@/types\";\n\ninterface ChatInputProps {\n  onSubmit: (e: React.FormEvent) => void;\n  onStop: () => void;\n  onSendNow: (messageId: string) => void;\n  status: ChatStatus;\n  isCentered?: boolean;\n  hasMessages?: boolean;\n  isAtBottom?: boolean;\n  onScrollToBottom?: () => void;\n  hideStop?: boolean;\n  isNewChat?: boolean;\n  clearDraftOnSubmit?: boolean;\n  chatId?: string;\n  rateLimitWarning?: {\n    remaining: number;\n    resetTime: Date;\n    mode: ChatMode;\n    subscription: SubscriptionTier;\n  };\n  onDismissRateLimitWarning?: () => void;\n}\n\nexport const ChatInput = ({\n  onSubmit,\n  onStop,\n  onSendNow,\n  status,\n  isCentered = false,\n  hasMessages = false,\n  isAtBottom = true,\n  onScrollToBottom,\n  hideStop = false,\n  isNewChat = false,\n  clearDraftOnSubmit = true,\n  chatId,\n  rateLimitWarning,\n  onDismissRateLimitWarning,\n}: ChatInputProps) => {\n  const {\n    input,\n    setInput,\n    chatMode,\n    setChatMode,\n    uploadedFiles,\n    isUploadingFiles,\n    subscription,\n    isCheckingProPlan,\n    messageQueue,\n    removeQueuedMessage,\n    queueBehavior,\n    setQueueBehavior,\n    sandboxPreference,\n    setSandboxPreference,\n    selectedModel,\n    setSelectedModel,\n  } = useGlobalState();\n\n  const models = [\n    { value: \"claude-opus-4-5-20251101\", label: \"Claude 4.5 Opus\" },\n    { value: \"gemini-3-pro-preview\", label: \"Gemini 3 Pro\" },\n    { value: \"gpt-5.2-pro-2025-12-11\", label: \"GPT-5.2 Pro\" },\n    { value: \"o3-pro-2025-06-10\", label: \"o3 Pro\" },\n    { value: \"minimax-m2.1\", label: \"Minimax m2.1\" },\n    { value: \"moonshotai/kimi-k2.5\", label: \"Kimi k2.5\" },\n  ];\n  const {\n    fileInputRef,\n    handleFileUploadEvent,\n    handleRemoveFile,\n    handleAttachClick,\n    handlePasteEvent,\n  } = useFileUpload(chatMode);\n  const [agentUpgradeDialogOpen, setAgentUpgradeDialogOpen] = useState(false);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const isGenerating = status === \"submitted\" || status === \"streaming\";\n\n  // Compute draft ID:\n  // - For new chats (no messages yet): use \"new\" key so draft is preserved when navigating\n  // - For existing chats or chats with messages: use chatId for chat-specific drafts\n  const draftId = isNewChat ? \"new\" : chatId || NULL_THREAD_DRAFT_ID;\n\n  // Fallback to 'ask' mode if user doesn't have pro plan and somehow has agent mode selected\n  useEffect(() => {\n    if (!isCheckingProPlan && subscription === \"free\" && chatMode === \"agent\") {\n      setChatMode(\"ask\");\n    }\n  }, [subscription, isCheckingProPlan, chatMode, setChatMode]);\n\n  const handleAgentModeClick = () => {\n    if (subscription !== \"free\") {\n      setChatMode(\"agent\");\n    } else {\n      setAgentUpgradeDialogOpen(true);\n    }\n  };\n\n  const handleUpgradeClick = () => {\n    // Close the upgrade dialog first\n    setAgentUpgradeDialogOpen(false);\n    // Navigate to pricing page\n    redirectToPricing();\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Allow submission if:\n    // - (status is ready) OR (status is streaming AND in agent mode for queueing)\n    // - files are not uploading\n    // - there's text input or files attached\n    const canSubmit =\n      (status === \"ready\" ||\n        (status === \"streaming\" && chatMode === \"agent\")) &&\n      !isUploadingFiles &&\n      (input.trim() || uploadedFiles.length > 0);\n\n    if (canSubmit) {\n      onSubmit(e);\n      if (clearDraftOnSubmit) {\n        // Remove draft immediately and clear input on next tick to avoid race with onSubmit\n        removeDraft(draftId);\n        setTimeout(() => setInput(\"\"), 0);\n      }\n    }\n  };\n\n  // Handle keyboard shortcuts for stopping generation\n  useHotkeys(\n    \"ctrl+c\",\n    (e) => {\n      e.preventDefault();\n      onStop();\n    },\n    {\n      enabled: isGenerating && !hideStop,\n      enableOnFormTags: true,\n      enableOnContentEditable: true,\n      preventDefault: true,\n      description: \"Stop AI generation\",\n    },\n    [isGenerating, onStop],\n  );\n\n  // Load draft when draftId changes (chat switch or mount)\n  useEffect(() => {\n    const content = getDraftContentById(draftId);\n    // Always restore draft when switching chats (when draftId changes)\n    // This ensures each chat loads its own draft content\n    setInput(content || \"\");\n  }, [draftId, setInput]);\n\n  // Auto-save draft as user types with 500ms debounce\n  useEffect(() => {\n    const handle = window.setTimeout(() => {\n      if (input.trim()) {\n        // Save draft if there's content\n        upsertDraft(draftId, input);\n      } else {\n        // Remove draft if input is cleared\n        removeDraft(draftId);\n      }\n    }, 500); // Changed from 600ms to 500ms as per issue requirements\n\n    return () => window.clearTimeout(handle);\n  }, [input, draftId]);\n\n  // Handle paste events for file uploads and token validation\n  useEffect(() => {\n    const handlePaste = async (e: ClipboardEvent) => {\n      // Only handle paste if the textarea is focused\n      if (textareaRef.current === document.activeElement) {\n        // Check if pasting text content\n        const clipboardData = e.clipboardData;\n        if (clipboardData) {\n          const pastedText = clipboardData.getData(\"text\");\n\n          if (pastedText) {\n            // Check token limit for the pasted text only based on user plan\n            const tokenCount = countInputTokens(pastedText, []);\n            const maxTokens = getMaxTokensForSubscription(subscription);\n            if (tokenCount > maxTokens) {\n              e.preventDefault();\n              const planText =\n                subscription !== \"free\" ? \"\" : \" (Free plan limit)\";\n              toast.error(\"Content is too long to paste\", {\n                description: `The content you're trying to paste is too large (${tokenCount.toLocaleString()} tokens). Please copy a smaller amount${planText}.`,\n              });\n              return;\n            }\n          }\n        }\n\n        await handlePasteEvent(e);\n        // If files were processed, the event.preventDefault() is already called\n        // in handlePasteEvent, so no additional action needed here\n      }\n    };\n\n    document.addEventListener(\"paste\", handlePaste);\n    return () => {\n      document.removeEventListener(\"paste\", handlePaste);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [handlePasteEvent]);\n\n  return (\n    <div className={`relative px-4 ${isCentered ? \"\" : \"pb-3\"}`}>\n      <div className=\"mx-auto w-full max-w-full sm:max-w-[768px] sm:min-w-[390px] flex flex-col flex-1\">\n        {/* Rate Limit Warning */}\n        {rateLimitWarning && onDismissRateLimitWarning && (\n          <RateLimitWarning\n            remaining={rateLimitWarning.remaining}\n            resetTime={rateLimitWarning.resetTime}\n            mode={rateLimitWarning.mode}\n            subscription={rateLimitWarning.subscription}\n            onDismiss={onDismissRateLimitWarning}\n          />\n        )}\n\n        {/* Todo Panel */}\n        <TodoPanel status={status} />\n\n        {/* Queued Messages Panel - only shown in Agent mode */}\n        {messageQueue.length > 0 && chatMode === \"agent\" && (\n          <QueuedMessagesPanel\n            messages={messageQueue}\n            onSendNow={onSendNow}\n            onDelete={removeQueuedMessage}\n            isStreaming={status === \"streaming\"}\n            queueBehavior={queueBehavior}\n            onQueueBehaviorChange={setQueueBehavior}\n          />\n        )}\n\n        {/* File Upload Preview */}\n        {uploadedFiles && uploadedFiles.length > 0 && (\n          <FileUploadPreview\n            uploadedFiles={uploadedFiles}\n            onRemoveFile={handleRemoveFile}\n          />\n        )}\n\n        {/* Hidden File Input */}\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"*\"\n          multiple\n          className=\"hidden\"\n          onChange={handleFileUploadEvent}\n        />\n\n        <div\n          className={`flex flex-col gap-3 transition-all relative bg-input-chat py-3 max-h-[300px] shadow-[0px_12px_32px_0px_rgba(0,0,0,0.02)] border border-black/8 dark:border-border ${uploadedFiles && uploadedFiles.length > 0 ? \"rounded-b-[22px] border-t-0\" : \"rounded-[22px]\"}`}\n        >\n          <div className=\"overflow-y-auto pl-4 pr-2\">\n            <TextareaAutosize\n              ref={textareaRef}\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder={\n                chatMode === \"agent\"\n                  ? \"Hack, test, secure anything\"\n                  : \"Ask, learn, brainstorm\"\n              }\n              className=\"flex rounded-md border-input focus-visible:outline-none focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 overflow-hidden flex-1 bg-transparent p-0 pt-[1px] border-0 focus-visible:ring-0 focus-visible:ring-offset-0 w-full placeholder:text-muted-foreground text-[15px] shadow-none resize-none min-h-[28px]\"\n              rows={1}\n              autoFocus\n              data-testid=\"chat-input\"\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSubmit(e);\n                }\n              }}\n            />\n          </div>\n          <div className=\"px-3 flex gap-2 items-center\">\n            {/* Attachment Button */}\n            <div className=\"shrink-0\">\n              <AttachmentButton onAttachClick={handleAttachClick} />\n            </div>\n\n            {/* Mode selector + Sandbox selector container */}\n            <div className=\"flex items-center gap-1.5 min-w-0 overflow-hidden\">\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-7 px-2 text-xs font-medium rounded-md bg-muted hover:bg-muted/50 focus-visible:ring-1 shrink-0\"\n                  >\n                    {models.find(m => m.value === selectedModel)?.label || \"Model\"}\n                    <ChevronDown className=\"w-3 h-3 ml-1\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" className=\"w-48\">\n                  {models.map((model) => (\n                    <DropdownMenuItem\n                      key={model.value}\n                      onClick={() => setSelectedModel(model.value)}\n                      className=\"cursor-pointer\"\n                    >\n                      {model.label}\n                    </DropdownMenuItem>\n                  ))}\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    data-testid=\"mode-selector\"\n                    className={`h-7 px-2 text-xs font-medium rounded-md focus-visible:ring-1 shrink-0 ${\n                      chatMode === \"agent\"\n                        ? \"bg-red-500/10 text-red-700 hover:bg-red-500/20 dark:bg-red-400/10 dark:text-red-400 dark:hover:bg-red-400/20\"\n                        : \"bg-muted hover:bg-muted/50\"\n                    }`}\n                  >\n                    {chatMode === \"agent\" ? (\n                      <>\n                        <Infinity className=\"w-3 h-3 mr-1\" />\n                        Agent\n                      </>\n                    ) : (\n                      <>\n                        <MessageSquare className=\"w-3 h-3 mr-1\" />\n                        Ask\n                      </>\n                    )}\n                    <ChevronDown className=\"w-3 h-3 ml-1\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" className=\"w-54\">\n                  <DropdownMenuItem\n                    onClick={() => setChatMode(\"ask\")}\n                    className=\"cursor-pointer\"\n                    data-testid=\"mode-ask\"\n                  >\n                    <MessageSquare className=\"w-4 h-4 mr-2\" />\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium\">Ask</span>\n                      <span className=\"text-xs text-muted-foreground\">\n                        Ask your hacking questions\n                      </span>\n                    </div>\n                  </DropdownMenuItem>\n                  {subscription !== \"free\" || isCheckingProPlan ? (\n                    <DropdownMenuItem\n                      onClick={handleAgentModeClick}\n                      className=\"cursor-pointer\"\n                      data-testid=\"mode-agent\"\n                    >\n                      <Infinity className=\"w-4 h-4 mr-2\" />\n                      <div className=\"flex flex-col\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-medium\">Agent</span>\n                        </div>\n                        <span className=\"text-xs text-muted-foreground\">\n                          Hack, test, secure anything\n                        </span>\n                      </div>\n                    </DropdownMenuItem>\n                  ) : (\n                    <DropdownMenuItem\n                      onClick={handleAgentModeClick}\n                      className=\"cursor-pointer\"\n                      data-testid=\"mode-agent\"\n                    >\n                      <Infinity className=\"w-4 h-4 mr-2\" />\n                      <div className=\"flex flex-col flex-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-medium\">Agent</span>\n                          <span className=\"flex items-center gap-1 rounded-full py-1 px-2 text-xs font-medium bg-premium-bg text-premium-text hover:bg-premium-hover border-0 transition-all duration-200\">\n                            PRO\n                          </span>\n                        </div>\n                        <span className=\"text-xs text-muted-foreground\">\n                          Hack, test, secure anything\n                        </span>\n                      </div>\n                    </DropdownMenuItem>\n                  )}\n                </DropdownMenuContent>\n              </DropdownMenu>\n\n              {/* Sandbox selector - editable for new chats, read-only for existing */}\n              {chatMode === \"agent\" && (\n                <SandboxSelector\n                  value={sandboxPreference}\n                  onChange={setSandboxPreference}\n                  disabled={status === \"streaming\"}\n                  readOnly={!isNewChat}\n                />\n              )}\n            </div>\n\n            {/* Send/Stop button container */}\n            <div className=\"flex gap-2 shrink-0 items-center ml-auto\">\n              {isGenerating && !hideStop ? (\n                // Show only stop button during streaming for both modes\n                <TooltipPrimitive.Root>\n                  <TooltipTrigger asChild>\n                    <Button\n                      type=\"button\"\n                      onClick={onStop}\n                      variant=\"ghost\"\n                      className={`rounded-full p-0 w-8 h-8 min-w-0 ${\n                        chatMode === \"agent\"\n                          ? \"bg-red-500/10 hover:bg-red-500/20 text-red-700 dark:bg-red-400/10 dark:hover:bg-red-400/20 dark:text-red-400 focus-visible:ring-red-500\"\n                          : \"bg-muted hover:bg-muted/70 text-foreground\"\n                      }`}\n                      aria-label=\"Stop generation\"\n                    >\n                      <Square\n                        className=\"w-[15px] h-[15px]\"\n                        fill=\"currentColor\"\n                      />\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent>\n                    <p>Stop (C)</p>\n                  </TooltipContent>\n                </TooltipPrimitive.Root>\n              ) : (\n                // Not streaming: show only submit button\n                <form onSubmit={handleSubmit}>\n                  <TooltipPrimitive.Root>\n                    <TooltipTrigger asChild>\n                      <div className=\"inline-block\">\n                        <Button\n                          type=\"submit\"\n                          disabled={\n                            status !== \"ready\" ||\n                            isUploadingFiles ||\n                            (!input.trim() && uploadedFiles.length === 0)\n                          }\n                          variant=\"default\"\n                          className={`rounded-full p-0 w-8 h-8 min-w-0 ${\n                            chatMode === \"agent\"\n                              ? \"bg-red-500/10 hover:bg-red-500/20 text-red-700 dark:bg-red-400/10 dark:hover:bg-red-400/20 dark:text-red-400 focus-visible:ring-red-500\"\n                              : \"\"\n                          }`}\n                          aria-label=\"Send message\"\n                          data-testid=\"send-button\"\n                        >\n                          <ArrowUp size={15} strokeWidth={3} />\n                        </Button>\n                      </div>\n                    </TooltipTrigger>\n                    <TooltipContent>\n                      <p>\n                        {uploadedFiles.some((f) => f.error)\n                          ? \"Remove failed files to send\"\n                          : isUploadingFiles\n                            ? \"File upload pending\"\n                            : \"Send ()\"}\n                      </p>\n                    </TooltipContent>\n                  </TooltipPrimitive.Root>\n                </form>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* ScrollToBottomButton positioned relative to input */}\n        {onScrollToBottom && (\n          <div className=\"absolute -top-16 left-1/2 -translate-x-1/2 z-40\">\n            <ScrollToBottomButton\n              onClick={onScrollToBottom}\n              hasMessages={hasMessages}\n              isAtBottom={isAtBottom}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Agent Upgrade Dialog */}\n      <Dialog\n        open={agentUpgradeDialogOpen}\n        onOpenChange={setAgentUpgradeDialogOpen}\n      >\n        <DialogContent\n          className=\"sm:max-w-[500px]\"\n          data-testid=\"agent-upgrade-dialog\"\n        >\n          <DialogHeader>\n            <DialogTitle>Upgrade plan</DialogTitle>\n            <DialogDescription>\n              Get access to Agent mode and unlock advanced hacking, testing, and\n              security features with Pro.\n            </DialogDescription>\n          </DialogHeader>\n          <Button\n            onClick={handleUpgradeClick}\n            className=\"w-full\"\n            size=\"lg\"\n            data-testid=\"agent-upgrade-button\"\n          >\n            Upgrade plan\n          </Button>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAMA;AAOA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAMA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBO,MAAM,YAAY,CAAC,EACxB,QAAQ,EACR,MAAM,EACN,SAAS,EACT,MAAM,EACN,aAAa,KAAK,EAClB,cAAc,KAAK,EACnB,aAAa,IAAI,EACjB,gBAAgB,EAChB,WAAW,KAAK,EAChB,YAAY,KAAK,EACjB,qBAAqB,IAAI,EACzB,MAAM,EACN,gBAAgB,EAChB,yBAAyB,EACV;;IACf,MAAM,EACJ,KAAK,EACL,QAAQ,EACR,QAAQ,EACR,WAAW,EACX,aAAa,EACb,gBAAgB,EAChB,YAAY,EACZ,iBAAiB,EACjB,YAAY,EACZ,mBAAmB,EACnB,aAAa,EACb,gBAAgB,EAChB,iBAAiB,EACjB,oBAAoB,EACpB,aAAa,EACb,gBAAgB,EACjB,GAAG,IAAA,oJAAc;IAElB,MAAM,SAAS;QACb;YAAE,OAAO;YAA4B,OAAO;QAAkB;QAC9D;YAAE,OAAO;YAAwB,OAAO;QAAe;QACvD;YAAE,OAAO;YAA0B,OAAO;QAAc;QACxD;YAAE,OAAO;YAAqB,OAAO;QAAS;QAC9C;YAAE,OAAO;YAAgB,OAAO;QAAe;QAC/C;YAAE,OAAO;YAAwB,OAAO;QAAY;KACrD;IACD,MAAM,EACJ,YAAY,EACZ,qBAAqB,EACrB,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EACjB,GAAG,IAAA,iJAAa,EAAC;IAClB,MAAM,CAAC,wBAAwB,0BAA0B,GAAG,IAAA,wXAAQ,EAAC;IACrE,MAAM,cAAc,IAAA,sXAAM,EAAsB;IAChD,MAAM,eAAe,WAAW,eAAe,WAAW;IAE1D,oBAAoB;IACpB,yFAAyF;IACzF,mFAAmF;IACnF,MAAM,UAAU,YAAY,QAAQ,UAAU,4JAAoB;IAElE,2FAA2F;IAC3F,IAAA,yXAAS;+BAAC;YACR,IAAI,CAAC,qBAAqB,iBAAiB,UAAU,aAAa,SAAS;gBACzE,YAAY;YACd;QACF;8BAAG;QAAC;QAAc;QAAmB;QAAU;KAAY;IAE3D,MAAM,uBAAuB;QAC3B,IAAI,iBAAiB,QAAQ;YAC3B,YAAY;QACd,OAAO;YACL,0BAA0B;QAC5B;IACF;IAEA,MAAM,qBAAqB;QACzB,iCAAiC;QACjC,0BAA0B;QAC1B,2BAA2B;QAC3B,IAAA,wJAAiB;IACnB;IAEA,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,uBAAuB;QACvB,8EAA8E;QAC9E,4BAA4B;QAC5B,yCAAyC;QACzC,MAAM,YACJ,CAAC,WAAW,WACT,WAAW,eAAe,aAAa,OAAQ,KAClD,CAAC,oBACD,CAAC,MAAM,IAAI,MAAM,cAAc,MAAM,GAAG,CAAC;QAE3C,IAAI,WAAW;YACb,SAAS;YACT,IAAI,oBAAoB;gBACtB,oFAAoF;gBACpF,IAAA,mJAAW,EAAC;gBACZ,WAAW,IAAM,SAAS,KAAK;YACjC;QACF;IACF;IAEA,oDAAoD;IACpD,IAAA,oWAAU,EACR;gCACA,CAAC;YACC,EAAE,cAAc;YAChB;QACF;+BACA;QACE,SAAS,gBAAgB,CAAC;QAC1B,kBAAkB;QAClB,yBAAyB;QACzB,gBAAgB;QAChB,aAAa;IACf,GACA;QAAC;QAAc;KAAO;IAGxB,yDAAyD;IACzD,IAAA,yXAAS;+BAAC;YACR,MAAM,UAAU,IAAA,2JAAmB,EAAC;YACpC,mEAAmE;YACnE,qDAAqD;YACrD,SAAS,WAAW;QACtB;8BAAG;QAAC;QAAS;KAAS;IAEtB,oDAAoD;IACpD,IAAA,yXAAS;+BAAC;YACR,MAAM,SAAS,OAAO,UAAU;8CAAC;oBAC/B,IAAI,MAAM,IAAI,IAAI;wBAChB,gCAAgC;wBAChC,IAAA,mJAAW,EAAC,SAAS;oBACvB,OAAO;wBACL,mCAAmC;wBACnC,IAAA,mJAAW,EAAC;oBACd;gBACF;6CAAG,MAAM,wDAAwD;YAEjE;uCAAO,IAAM,OAAO,YAAY,CAAC;;QACnC;8BAAG;QAAC;QAAO;KAAQ;IAEnB,4DAA4D;IAC5D,IAAA,yXAAS;+BAAC;YACR,MAAM;mDAAc,OAAO;oBACzB,+CAA+C;oBAC/C,IAAI,YAAY,OAAO,KAAK,SAAS,aAAa,EAAE;wBAClD,gCAAgC;wBAChC,MAAM,gBAAgB,EAAE,aAAa;wBACrC,IAAI,eAAe;4BACjB,MAAM,aAAa,cAAc,OAAO,CAAC;4BAEzC,IAAI,YAAY;gCACd,gEAAgE;gCAChE,MAAM,aAAa,IAAA,4IAAgB,EAAC,YAAY,EAAE;gCAClD,MAAM,YAAY,IAAA,uJAA2B,EAAC;gCAC9C,IAAI,aAAa,WAAW;oCAC1B,EAAE,cAAc;oCAChB,MAAM,WACJ,iBAAiB,SAAS,KAAK;oCACjC,oRAAK,CAAC,KAAK,CAAC,gCAAgC;wCAC1C,aAAa,CAAC,iDAAiD,EAAE,WAAW,cAAc,GAAG,sCAAsC,EAAE,SAAS,CAAC,CAAC;oCAClJ;oCACA;gCACF;4BACF;wBACF;wBAEA,MAAM,iBAAiB;oBACvB,wEAAwE;oBACxE,2DAA2D;oBAC7D;gBACF;;YAEA,SAAS,gBAAgB,CAAC,SAAS;YACnC;uCAAO;oBACL,SAAS,mBAAmB,CAAC,SAAS;gBACxC;;QACA,uDAAuD;QACzD;8BAAG;QAAC;KAAiB;IAErB,qBACE,4YAAC;QAAI,WAAW,CAAC,cAAc,EAAE,aAAa,KAAK,QAAQ;;0BACzD,4YAAC;gBAAI,WAAU;;oBAEZ,oBAAoB,2CACnB,4YAAC,6JAAgB;wBACf,WAAW,iBAAiB,SAAS;wBACrC,WAAW,iBAAiB,SAAS;wBACrC,MAAM,iBAAiB,IAAI;wBAC3B,cAAc,iBAAiB,YAAY;wBAC3C,WAAW;;;;;;kCAKf,4YAAC,+IAAS;wBAAC,QAAQ;;;;;;oBAGlB,aAAa,MAAM,GAAG,KAAK,aAAa,yBACvC,4YAAC,mKAAmB;wBAClB,UAAU;wBACV,WAAW;wBACX,UAAU;wBACV,aAAa,WAAW;wBACxB,eAAe;wBACf,uBAAuB;;;;;;oBAK1B,iBAAiB,cAAc,MAAM,GAAG,mBACvC,4YAAC,+JAAiB;wBAChB,eAAe;wBACf,cAAc;;;;;;kCAKlB,4YAAC;wBACC,KAAK;wBACL,MAAK;wBACL,QAAO;wBACP,QAAQ;wBACR,WAAU;wBACV,UAAU;;;;;;kCAGZ,4YAAC;wBACC,WAAW,CAAC,kKAAkK,EAAE,iBAAiB,cAAc,MAAM,GAAG,IAAI,gCAAgC,kBAAkB;;0CAE9Q,4YAAC;gCAAI,WAAU;0CACb,cAAA,4YAAC,wWAAgB;oCACf,KAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,aACE,aAAa,UACT,gCACA;oCAEN,WAAU;oCACV,MAAM;oCACN,SAAS;oCACT,eAAY;oCACZ,WAAW,CAAC;wCACV,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;4CACpC,EAAE,cAAc;4CAChB,aAAa;wCACf;oCACF;;;;;;;;;;;0CAGJ,4YAAC;gCAAI,WAAU;;kDAEb,4YAAC;wCAAI,WAAU;kDACb,cAAA,4YAAC,6JAAgB;4CAAC,eAAe;;;;;;;;;;;kDAInC,4YAAC;wCAAI,WAAU;;0DACb,4YAAC,wJAAY;;kEACX,4YAAC,+JAAmB;wDAAC,OAAO;kEAC1B,cAAA,4YAAC,wIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,WAAU;;gEAET,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,gBAAgB,SAAS;8EACvD,4YAAC,0TAAW;oEAAC,WAAU;;;;;;;;;;;;;;;;;kEAG3B,4YAAC,+JAAmB;wDAAC,OAAM;wDAAQ,WAAU;kEAC1C,OAAO,GAAG,CAAC,CAAC,sBACX,4YAAC,4JAAgB;gEAEf,SAAS,IAAM,iBAAiB,MAAM,KAAK;gEAC3C,WAAU;0EAET,MAAM,KAAK;+DAJP,MAAM,KAAK;;;;;;;;;;;;;;;;0DAUxB,4YAAC,wJAAY;;kEACX,4YAAC,+JAAmB;wDAAC,OAAO;kEAC1B,cAAA,4YAAC,wIAAM;4DACL,SAAQ;4DACR,MAAK;4DACL,eAAY;4DACZ,WAAW,CAAC,sEAAsE,EAChF,aAAa,UACT,iHACA,8BACJ;;gEAED,aAAa,wBACZ;;sFACE,4YAAC,6SAAQ;4EAAC,WAAU;;;;;;wEAAiB;;iGAIvC;;sFACE,4YAAC,gUAAa;4EAAC,WAAU;;;;;;wEAAiB;;;8EAI9C,4YAAC,0TAAW;oEAAC,WAAU;;;;;;;;;;;;;;;;;kEAG3B,4YAAC,+JAAmB;wDAAC,OAAM;wDAAQ,WAAU;;0EAC3C,4YAAC,4JAAgB;gEACf,SAAS,IAAM,YAAY;gEAC3B,WAAU;gEACV,eAAY;;kFAEZ,4YAAC,gUAAa;wEAAC,WAAU;;;;;;kFACzB,4YAAC;wEAAI,WAAU;;0FACb,4YAAC;gFAAK,WAAU;0FAAc;;;;;;0FAC9B,4YAAC;gFAAK,WAAU;0FAAgC;;;;;;;;;;;;;;;;;;4DAKnD,iBAAiB,UAAU,kCAC1B,4YAAC,4JAAgB;gEACf,SAAS;gEACT,WAAU;gEACV,eAAY;;kFAEZ,4YAAC,6SAAQ;wEAAC,WAAU;;;;;;kFACpB,4YAAC;wEAAI,WAAU;;0FACb,4YAAC;gFAAI,WAAU;0FACb,cAAA,4YAAC;oFAAK,WAAU;8FAAc;;;;;;;;;;;0FAEhC,4YAAC;gFAAK,WAAU;0FAAgC;;;;;;;;;;;;;;;;;yHAMpD,4YAAC,4JAAgB;gEACf,SAAS;gEACT,WAAU;gEACV,eAAY;;kFAEZ,4YAAC,6SAAQ;wEAAC,WAAU;;;;;;kFACpB,4YAAC;wEAAI,WAAU;;0FACb,4YAAC;gFAAI,WAAU;;kGACb,4YAAC;wFAAK,WAAU;kGAAc;;;;;;kGAC9B,4YAAC;wFAAK,WAAU;kGAAiK;;;;;;;;;;;;0FAInL,4YAAC;gFAAK,WAAU;0FAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4CAUzD,aAAa,yBACZ,4YAAC,2JAAe;gDACd,OAAO;gDACP,UAAU;gDACV,UAAU,WAAW;gDACrB,UAAU,CAAC;;;;;;;;;;;;kDAMjB,4YAAC;wCAAI,WAAU;kDACZ,gBAAgB,CAAC,WAChB,wDAAwD;sDACxD,4YAAC,+XAAqB;;8DACpB,4YAAC,iJAAc;oDAAC,OAAO;8DACrB,cAAA,4YAAC,wIAAM;wDACL,MAAK;wDACL,SAAS;wDACT,SAAQ;wDACR,WAAW,CAAC,iCAAiC,EAC3C,aAAa,UACT,4IACA,8CACJ;wDACF,cAAW;kEAEX,cAAA,4YAAC,uSAAM;4DACL,WAAU;4DACV,MAAK;;;;;;;;;;;;;;;;8DAIX,4YAAC,iJAAc;8DACb,cAAA,4YAAC;kEAAE;;;;;;;;;;;;;;;;uFAIP,yCAAyC;sDACzC,4YAAC;4CAAK,UAAU;sDACd,cAAA,4YAAC,+XAAqB;;kEACpB,4YAAC,iJAAc;wDAAC,OAAO;kEACrB,cAAA,4YAAC;4DAAI,WAAU;sEACb,cAAA,4YAAC,wIAAM;gEACL,MAAK;gEACL,UACE,WAAW,WACX,oBACC,CAAC,MAAM,IAAI,MAAM,cAAc,MAAM,KAAK;gEAE7C,SAAQ;gEACR,WAAW,CAAC,iCAAiC,EAC3C,aAAa,UACT,4IACA,IACJ;gEACF,cAAW;gEACX,eAAY;0EAEZ,cAAA,4YAAC,8SAAO;oEAAC,MAAM;oEAAI,aAAa;;;;;;;;;;;;;;;;;;;;;kEAItC,4YAAC,iJAAc;kEACb,cAAA,4YAAC;sEACE,cAAc,IAAI,CAAC,CAAC,IAAM,EAAE,KAAK,IAC9B,gCACA,mBACE,wBACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAWrB,kCACC,4YAAC;wBAAI,WAAU;kCACb,cAAA,4YAAC,qKAAoB;4BACnB,SAAS;4BACT,aAAa;4BACb,YAAY;;;;;;;;;;;;;;;;;0BAOpB,4YAAC,wIAAM;gBACL,MAAM;gBACN,cAAc;0BAEd,cAAA,4YAAC,+IAAa;oBACZ,WAAU;oBACV,eAAY;;sCAEZ,4YAAC,8IAAY;;8CACX,4YAAC,6IAAW;8CAAC;;;;;;8CACb,4YAAC,mJAAiB;8CAAC;;;;;;;;;;;;sCAKrB,4YAAC,wIAAM;4BACL,SAAS;4BACT,WAAU;4BACV,MAAK;4BACL,eAAY;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOX;GArea;;QAiCP,oJAAc;QAgBd,iJAAa;QAuDjB,oWAAU;;;KAxGC"}},
    {"offset": {"line": 4107, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/icons/hackerai-svg.tsx"],"sourcesContent":["import type { FC } from \"react\";\n\ninterface HackerAISVGProps {\n  theme: \"dark\" | \"light\";\n  scale?: number;\n}\n\nexport const HackerAISVG: FC<HackerAISVGProps> = ({ theme, scale = 1 }) => {\n  const fillColor = theme === \"dark\" ? \"#fff\" : \"#000\";\n\n  return (\n    <svg\n      width={189 * scale}\n      height={194 * scale}\n      viewBox=\"0 0 512 512\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g fill={fillColor}>\n        <path\n          d=\"M0 0 C1.14255103 3.43878512 0.85482503 5.91861647 0.1796875 9.453125 C-0.02374268 10.53650146 -0.22717285 11.61987793 -0.43676758 12.73608398 C-0.77744263 14.47547241 -0.77744263 14.47547241 -1.125 16.25 C-1.46470825 18.03676147 -1.46470825 18.03676147 -1.8112793 19.85961914 C-3.58266212 29.09144848 -5.47692672 38.29799659 -7.47509766 47.48339844 C-7.77552979 48.88187012 -7.77552979 48.88187012 -8.08203125 50.30859375 C-8.25968018 51.12126709 -8.4373291 51.93394043 -8.62036133 52.77124023 C-9.11194513 55.2803904 -9.11194513 55.2803904 -9 59 C-8.28884033 59.10852295 -7.57768066 59.2170459 -6.8449707 59.32885742 C-1.48488072 60.59332901 3.07004424 63.5921787 7.8125 66.3125 C8.88693359 66.87517578 9.96136719 67.43785156 11.06835938 68.01757812 C18.53309688 72.34475612 18.53309688 72.34475612 19.74072266 76.62597656 C19.78107814 79.83181609 19.44622082 82.82540458 19 86 C18.82206861 88.41883294 18.65047626 90.8381384 18.484375 93.2578125 C18.24813291 95.88141308 18.00497168 98.50326108 17.75 101.125 C17.68342194 101.81975433 17.61684387 102.51450867 17.54824829 103.23031616 C14.62247812 133.47189371 8.78892363 162.91254024 0 192 C-0.37125 193.26457031 -0.7425 194.52914062 -1.125 195.83203125 C-2.78504425 201.40225786 -4.64199231 206.78789169 -6.875 212.15234375 C-8.04266904 215.10800601 -9.08286781 218.08953914 -10.11352539 221.0949707 C-12.53951467 228.1598186 -15.20420363 234.95184107 -18.44140625 241.6953125 C-19.56388751 244.07531037 -20.62997762 246.44526003 -21.65234375 248.8671875 C-25.00884708 256.81609361 -28.70302286 264.30549628 -33.08203125 271.7421875 C-34.86866945 274.7769253 -36.5747638 277.84021191 -38.25 280.9375 C-40.44519328 284.99200999 -42.69343548 289.0078691 -45 293 C-49.455 291.515 -49.455 291.515 -54 290 C-54 256.01 -54 222.02 -54 187 C-55.65 186.34 -57.3 185.68 -59 185 C-60.52235718 184.19463143 -62.02882085 183.35863211 -63.51953125 182.49609375 C-64.36773437 182.00794189 -65.2159375 181.51979004 -66.08984375 181.0168457 C-66.98832031 180.49566162 -67.88679688 179.97447754 -68.8125 179.4375 C-70.72497533 178.33544262 -72.63773772 177.23388326 -74.55078125 176.1328125 C-75.48744629 175.59301758 -76.42411133 175.05322266 -77.38916016 174.49707031 C-80.74374362 172.57353321 -84.12052187 170.69178793 -87.5 168.8125 C-92.7597979 165.87949046 -97.96528419 162.85763603 -103.15625 159.8046875 C-103.79703491 159.42795395 -104.43781982 159.0512204 -105.09802246 158.66307068 C-108.33419761 156.75927395 -111.56799224 154.85156387 -114.79882812 152.9387207 C-120.77239411 149.41123041 -126.73375221 145.98430051 -133 143 C-133 142.34 -133 141.68 -133 141 C-133.71414063 140.72285156 -134.42828125 140.44570312 -135.1640625 140.16015625 C-144.23924329 136.44758229 -152.62811079 131.53278146 -160.9765625 126.44140625 C-166.00649621 123.37422114 -171.09752253 120.4117118 -176.19018555 117.45019531 C-180.22277023 115.09216261 -184.13994995 112.63157858 -188 110 C-185.039038 106.52852731 -182.1644098 104.41982149 -178.12109375 102.29296875 C-171.62170238 98.81591488 -165.24977827 95.13694932 -158.875 91.4375 C-145.56165747 83.71883956 -145.56165747 83.71883956 -139.19970703 80.22290039 C-131.94236689 76.18827034 -124.79328127 71.96481935 -117.63110352 67.76464844 C-115.7030243 66.6341028 -113.77438704 65.50451365 -111.84570312 64.375 C-110.58846214 63.63815651 -109.33129985 62.90117872 -108.07421875 62.1640625 C-107.15006668 61.62220306 -107.15006668 61.62220306 -106.20724487 61.06939697 C-102.7123721 59.0166935 -99.23487907 56.93801571 -95.76953125 54.8359375 C-92.48535046 52.85628857 -89.16381199 50.98103316 -85.7890625 49.16015625 C-78.88104563 45.42914679 -72.13468708 41.42814817 -65.375 37.4375 C-50.83988888 28.86393944 -50.83988888 28.86393944 -43.91748047 25.05541992 C-35.9017373 20.64339322 -28.04573053 15.94067512 -20.15625 11.30859375 C-13.50169718 7.41551145 -6.79070351 3.65046469 0 0 Z \"\n          transform=\"translate(463,58)\"\n        />\n        <path\n          d=\"M0 0 C2.64 1.32 5.28 2.64 8 4 C8 47.89 8 91.78 8 137 C9.65 137.66 11.3 138.32 13 139 C15.23044516 140.22261439 17.43178382 141.46449074 19.625 142.75 C23.79866943 145.17588566 27.98872473 147.54588956 32.234375 149.84375 C38.09990158 153.03107775 43.8671176 156.37297046 49.625 159.75 C50.67187988 160.36198242 51.71875977 160.97396484 52.79736328 161.60449219 C57.43886645 164.31956176 62.07617464 167.04144883 66.703125 169.78125 C73.58286257 173.85359294 80.48956209 177.84384881 87.5 181.6875 C96.16142645 186.43908739 104.61746938 191.51611718 113.05859375 196.6472168 C118.80451358 200.12966257 124.5933364 203.47936786 130.51123047 206.66162109 C134.36359854 208.73329873 138.1804506 210.86859713 142 213 C142 213.66 142 214.32 142 215 C138.52904858 217.62666594 134.82951456 219.65548977 131 221.71484375 C125.03020045 224.9581732 119.16814368 228.36845193 113.3125 231.8125 C106.57110776 235.76250231 99.82606051 239.69793617 93 243.5 C86.16031426 247.31372041 79.38894648 251.241178 72.625 255.1875 C71.62597656 255.77015625 70.62695312 256.3528125 69.59765625 256.953125 C64.92916216 259.68211156 60.27331222 262.42936553 55.640625 265.21875 C52.16614496 267.30876422 48.67761252 269.35698183 45.125 271.3125 C44.24070312 271.80363281 43.35640625 272.29476563 42.4453125 272.80078125 C40.26837394 273.8683853 38.36762831 274.53198045 36 275 C36 275.66 36 276.32 36 277 C35.48695313 277.23332031 34.97390625 277.46664063 34.4453125 277.70703125 C28.40910471 280.58286762 22.74229824 283.92566703 17.0625 287.4375 C11.513972 290.86717082 5.96723094 294.20238332 0.19921875 297.25390625 C-2.63889887 298.8029155 -5.43542333 300.40243168 -8.23046875 302.02734375 C-9.17688232 302.57592041 -10.1232959 303.12449707 -11.09838867 303.68969727 C-13.01168061 304.80096813 -14.92208001 305.9172362 -16.8293457 307.03881836 C-18.15131958 307.80464233 -18.15131958 307.80464233 -19.5 308.5859375 C-20.69109375 309.28275635 -20.69109375 309.28275635 -21.90625 309.99365234 C-24 311 -24 311 -27 311 C-26.2271077 307.51358367 -25.02912451 304.26889073 -23.75 300.9375 C-23.35296875 299.89464844 -22.9559375 298.85179687 -22.546875 297.77734375 C-21.35555309 294.78230344 -20.03232706 291.86089417 -18.68359375 288.93359375 C-15.69372275 282.41059341 -12.99907728 275.77747708 -10.3125 269.125 C-9.82716797 267.92875 -9.34183594 266.7325 -8.84179688 265.5 C-7.55825077 262.33450974 -6.27700438 259.16813448 -5 256 C-4.60200195 255.09612549 -4.20400391 254.19225098 -3.79394531 253.26098633 C-2.72219677 251.00126838 -2.72219677 251.00126838 -3.87109375 248.81640625 C-4.38800781 248.07261719 -4.90492187 247.32882812 -5.4375 246.5625 C-8.39961005 242.02194128 -10.86515307 237.39769241 -13.24731445 232.5300293 C-16.00924203 226.91785889 -18.98741355 221.43776049 -22.0078125 215.9609375 C-24.17626737 211.81971089 -25.92305425 207.51842718 -27.69238281 203.19482422 C-28.97387569 200.06382799 -30.28995358 196.9494471 -31.61328125 193.8359375 C-38.07073923 178.46380069 -43.41677498 163.024485 -48 147 C-48.53748189 145.17830322 -49.07523066 143.35668515 -49.61328125 141.53515625 C-58.16395878 111.99966827 -63.04598429 81.61093164 -64.78613281 50.95117188 C-64.96891067 48.42900432 -65.26101448 45.98110116 -65.6484375 43.484375 C-66.07008654 39.80886827 -66.28900032 37.47038547 -65 34 C-61.03104202 30.50302621 -56.81382517 28.28456032 -52.06152344 26.0234375 C-48.87968098 24.44382078 -45.92534822 22.53973225 -42.9375 20.625 C-39.03903326 18.18657679 -35.11837365 16.04110112 -31 14 C-28.3998665 12.59213481 -25.82477747 11.14110776 -23.25 9.6875 C-22.54770264 9.29449707 -21.84540527 8.90149414 -21.12182617 8.49658203 C-16.33402257 5.80327067 -11.67591098 2.96180169 -7.11328125 -0.1015625 C-4.21216485 -1.33493916 -2.99862104 -0.98667073 0 0 Z \"\n          transform=\"translate(94,98)\"\n        />\n        <path\n          d=\"M0 0 C4.62 2.64 9.24 5.28 14 8 C17.65767106 9.80584175 17.65767106 9.80584175 21.3203125 11.6015625 C28.59373874 15.39731555 35.54668859 19.83579874 42.5 24.18359375 C43.593125 24.86550781 44.68625 25.54742187 45.8125 26.25 C47.24529297 27.15492188 47.24529297 27.15492188 48.70703125 28.078125 C53.02167568 30.59628047 57.53168815 32.76584407 62 35 C62 65.69 62 96.38 62 128 C60.02 128.99 58.04 129.98 56 131 C54.32963607 132.32869858 52.66215268 133.66104368 51 135 C50.34 135 49.68 135 49 135 C48.62875 135.7734375 48.62875 135.7734375 48.25 136.5625 C47.24535465 138.52155843 46.1379601 140.42775359 45 142.3125 C41.04992898 149.25460243 39.76869199 156.56247192 41.53515625 164.36328125 C43.7695152 171.62800025 47.47409564 176.78109033 53 182 C50.47496274 187.73505804 45.98775076 192.2415075 42 197 C41.38769531 197.75023437 40.77539062 198.50046875 40.14453125 199.2734375 C38.80956336 200.88858383 37.41125276 202.45106405 36 204 C35.34 204 34.68 204 34 204 C33.77634766 204.54817383 33.55269531 205.09634766 33.32226562 205.66113281 C31.60286971 208.70245719 29.30376001 210.98233621 26.84375 213.421875 C26.34081421 213.92672424 25.83787842 214.43157349 25.31970215 214.95172119 C24.25970014 216.01307997 23.19718512 217.07193419 22.13232422 218.12841797 C20.49859954 219.75139124 18.87586706 221.38481068 17.25390625 223.01953125 C16.22199524 224.05012146 15.18946441 225.08009152 14.15625 226.109375 C13.66974976 226.59992371 13.18324951 227.09047241 12.68200684 227.59588623 C9.22994349 231 9.22994349 231 7 231 C6.67 231.99 6.34 232.98 6 234 C4.22265625 235.82421875 4.22265625 235.82421875 2.0625 237.6875 C1.35222656 238.31011719 0.64195312 238.93273437 -0.08984375 239.57421875 C-2 241 -2 241 -4 241 C-4 241.66 -4 242.32 -4 243 C-5.65 243.66 -7.3 244.32 -9 245 C-9 245.66 -9 246.32 -9 247 C-10.8984375 248.7265625 -10.8984375 248.7265625 -13.375 250.625 C-14.18710937 251.25664062 -14.99921875 251.88828125 -15.8359375 252.5390625 C-18 254 -18 254 -20 254 C-20 254.66 -20 255.32 -20 256 C-22.09246715 257.64925005 -24.18382696 259.17941771 -26.375 260.6875 C-27.32705322 261.3525354 -27.32705322 261.3525354 -28.29833984 262.03100586 C-29.58720378 262.93093519 -30.87773084 263.82848736 -32.16992188 264.72363281 C-33.79720734 265.85856457 -35.40770303 267.01748483 -37.015625 268.1796875 C-38.30726563 269.11167969 -38.30726563 269.11167969 -39.625 270.0625 C-40.38039063 270.61035156 -41.13578125 271.15820312 -41.9140625 271.72265625 C-43.97338786 272.9837038 -45.63879089 273.56728973 -48 274 C-48 274.66 -48 275.32 -48 276 C-49.78833008 277.296875 -49.78833008 277.296875 -52.26953125 278.75 C-53.60274414 279.53890625 -53.60274414 279.53890625 -54.96289062 280.34375 C-56.37344727 281.16359375 -56.37344727 281.16359375 -57.8125 282 C-59.65261555 283.08287161 -61.49247032 284.16618649 -63.33203125 285.25 C-64.15421143 285.72953125 -64.9763916 286.2090625 -65.82348633 286.703125 C-67.58090845 287.75028443 -69.2978367 288.86522447 -71 290 C-74.1875 289.625 -74.1875 289.625 -77 289 C-77 288.34 -77 287.68 -77 287 C-77.57202148 286.8875293 -78.14404297 286.77505859 -78.73339844 286.65917969 C-81.25708703 285.9252332 -83.05697822 284.87346082 -85.265625 283.453125 C-86.07386719 282.9375 -86.88210937 282.421875 -87.71484375 281.890625 C-88.55144531 281.34921875 -89.38804687 280.8078125 -90.25 280.25 C-91.90094883 279.19256338 -93.55198962 278.13527031 -95.203125 277.078125 C-96.00169922 276.56185547 -96.80027344 276.04558594 -97.62304688 275.51367188 C-99.1997274 274.50962306 -100.78972325 273.52616605 -102.39257812 272.56445312 C-103.12412109 272.12552734 -103.85566406 271.68660156 -104.609375 271.234375 C-105.59115723 270.65768066 -105.59115723 270.65768066 -106.59277344 270.06933594 C-107.0571582 269.71645508 -107.52154297 269.36357422 -108 269 C-108 268.34 -108 267.68 -108 267 C-108.70511719 266.75507813 -109.41023437 266.51015625 -110.13671875 266.2578125 C-113.39763037 264.82532472 -115.96134115 263.00478131 -118.8125 260.875 C-119.78832031 260.15054687 -120.76414063 259.42609375 -121.76953125 258.6796875 C-122.50558594 258.12539063 -123.24164063 257.57109375 -124 257 C-123.33184528 252.93539209 -122.13136514 250.26359861 -119.9375 246.84375 C-118.20595921 243.43838644 -117.82513171 240.84049595 -118.60546875 237.08984375 C-119.34577012 233.08029201 -119.38680883 230.87439718 -118 227 C-113.06622155 222.36105809 -106.72996536 219.41078942 -100.73242188 216.38183594 C-91.68051052 211.80411808 -82.90514279 206.69798573 -74.125 201.625 C-73.55417694 201.29573517 -72.98335388 200.96647034 -72.39523315 200.62722778 C-65.06536002 196.39746276 -57.80668715 192.0879977 -50.62890625 187.60546875 C-47.26229169 185.54948274 -43.81100039 183.68522895 -40.3359375 181.8203125 C-35.73449652 179.30945594 -31.17873384 176.72118118 -26.625 174.125 C-25.71314941 173.60550781 -24.80129883 173.08601562 -23.86181641 172.55078125 C-17.60223205 168.96553214 -11.45824611 165.24075733 -5.3984375 161.328125 C-3 160 -3 160 0 160 C0 107.2 0 54.4 0 0 Z \"\n          transform=\"translate(328,220)\"\n        />\n        <path\n          d=\"M0 0 C2.2890625 1.19921875 2.2890625 1.19921875 4.625 2.6875 C11.78890888 7.22301228 19.29540566 11.13768858 26.8515625 14.97265625 C41.69712968 22.77416608 41.69712968 22.77416608 44.09179688 26.86523438 C45.20478441 30.6557293 44.88272716 34.20178666 44 38 C27.62358219 47.71449872 27.62358219 47.71449872 21.75 50.875 C2.60094455 61.18602986 -16.09577703 72.38792084 -34.69897461 83.64648438 C-37.06064806 85.03567457 -39.45536513 86.33983194 -41.875 87.625 C-48.32147251 91.09759837 -54.56731392 94.89811379 -60.83154297 98.68603516 C-61.65541504 99.18409668 -62.47928711 99.6821582 -63.328125 100.1953125 C-64.0593457 100.63891113 -64.79056641 101.08250977 -65.54394531 101.53955078 C-68 103 -68 103 -71.59809875 104.20803833 C-73.55794709 105.21954282 -73.55794709 105.21954282 -75 107 C-76.10910556 111.66671202 -75.94331711 116.36246963 -75.88647461 121.13183594 C-75.89436355 122.60040672 -75.90532459 124.06896375 -75.91912842 125.53749084 C-75.9478789 129.52305503 -75.93361084 133.50744617 -75.91168666 137.49301052 C-75.89606575 141.65845721 -75.91991081 145.82367216 -75.93959045 149.98907471 C-75.97084636 157.87621326 -75.96654889 165.76291687 -75.94951588 173.65008283 C-75.9318522 182.62953779 -75.95376547 191.60875922 -75.97902286 200.58818007 C-76.03008969 219.05887287 -76.03139169 237.52927258 -76 256 C-79.48082894 254.86751518 -82.64989391 253.81072415 -85.76171875 251.87109375 C-86.40560547 251.47599609 -87.04949219 251.08089844 -87.71289062 250.67382812 C-88.36451172 250.26583984 -89.01613281 249.85785156 -89.6875 249.4375 C-94.63489885 246.30318681 -94.63489885 246.30318681 -100 244 C-100 243.34 -100 242.68 -100 242 C-100.87350098 241.81232056 -100.87350098 241.81232056 -101.76464844 241.62084961 C-104.00118042 240.99967215 -105.74024206 240.18946507 -107.765625 239.06640625 C-108.49265625 238.66357422 -109.2196875 238.26074219 -109.96875 237.84570312 C-110.7215625 237.42224609 -111.474375 236.99878906 -112.25 236.5625 C-112.95640625 236.17384766 -113.6628125 235.78519531 -114.390625 235.38476562 C-115.92953306 234.52580913 -117.44822087 233.62987331 -118.94747925 232.70344543 C-121.32420418 231.37712481 -123.43870972 230.42766721 -125.95608521 229.47209167 C-130.72229271 227.43415325 -134.82577222 225.19524359 -138 221 C-141.06522508 212.36870554 -140.10235426 202.558433 -139.9140625 193.546875 C-139.90173333 190.84022628 -139.91046441 188.13372159 -139.91732788 185.42706299 C-139.91898105 179.76696819 -139.85765362 174.11030745 -139.75634766 168.45117188 C-139.64000634 161.91852479 -139.61567796 155.39055167 -139.6420666 148.85702777 C-139.66610114 142.55274605 -139.63322889 136.25007523 -139.57178879 129.94608307 C-139.5462228 127.2709287 -139.54147281 124.59818901 -139.54634476 121.92263031 C-139.54348945 118.18633639 -139.47551981 114.45685488 -139.38916016 110.72167969 C-139.3999762 109.61817169 -139.41079224 108.5146637 -139.42193604 107.37771606 C-139.30987336 104.27647862 -139.12347986 101.89573932 -138 99 C-135.61577188 96.89638143 -133.3391204 95.57193459 -130.46825218 94.21779251 C-124.18936169 91.11989762 -121.13751424 85.12325816 -118.69921875 78.8203125 C-117.88586917 75.53965108 -117.95773203 72.62375282 -118 69.25 C-117.84765625 65.921875 -117.84765625 65.921875 -117 63 C-114.24942233 60.76433047 -111.67898273 59.59105591 -108.37109375 58.34375 C-105.00296364 57.00118134 -102.26050396 55.38291843 -99.22924805 53.42724609 C-94.95309497 50.68949657 -90.55840335 48.14516922 -86.1875 45.5625 C-85.26646484 45.01529297 -84.34542969 44.46808594 -83.39648438 43.90429688 C-77.94103152 40.67836429 -72.43364544 37.58091863 -66.85961914 34.56518555 C-61.56727711 31.66847208 -56.34873043 28.64316389 -51.125 25.625 C-50.26876541 25.13110275 -50.26876541 25.13110275 -49.39523315 24.62722778 C-42.08109574 20.40654319 -34.83605194 16.10919283 -27.67578125 11.6328125 C-24.04409311 9.41668748 -20.32784404 7.38441725 -16.5703125 5.390625 C-14.85495936 4.4625616 -13.16135064 3.49315272 -11.4921875 2.484375 C-10.71101563 2.01515625 -9.92984375 1.5459375 -9.125 1.0625 C-8.10792969 0.43021484 -8.10792969 0.43021484 -7.0703125 -0.21484375 C-4.29177489 -1.26859103 -2.81471821 -0.88611499 0 0 Z \"\n          transform=\"translate(259,3)\"\n        />\n        <path\n          d=\"M0 0 C0.25526698 9.78765471 0.45051258 19.57451378 0.56993389 29.36482334 C0.6272637 33.91148782 0.70495778 38.45587004 0.82983398 43.0012207 C0.94967772 47.39104906 1.01518643 51.77868853 1.04364967 56.17002678 C1.06392102 57.84203504 1.1035137 59.51392787 1.16303062 61.18499947 C1.61001824 74.25947677 1.61001824 74.25947677 -2.33103943 78.51998901 C-5.16072668 80.35105343 -7.89615636 81.69843295 -11 83 C-12.82000464 83.98388058 -14.63258689 84.98176025 -16.43359375 86 C-17.34093262 86.48597656 -18.24827148 86.97195313 -19.18310547 87.47265625 C-24.20999068 90.19827541 -29.12949293 93.10899906 -34.0625 96 C-35.07376953 96.59039062 -36.08503906 97.18078125 -37.12695312 97.7890625 C-41.79043869 100.5156851 -46.43965829 103.26104497 -51.05859375 106.0625 C-55.33566144 108.6382679 -59.6931843 111.03363917 -64.08544922 113.40625 C-69.46282109 116.34673279 -74.757936 119.43073153 -80.0625 122.5 C-81.16916016 123.13808594 -82.27582031 123.77617187 -83.41601562 124.43359375 C-89.32902021 127.84937549 -95.19605711 131.31117946 -100.97436523 134.95117188 C-103 136 -103 136 -106 136 C-106 136.66 -106 137.32 -106 138 C-109.31325168 137.59839374 -111.72934397 136.68523936 -114.5625 135 C-121.88465747 130.73983565 -131.33802363 130.8988193 -139.55078125 132.49609375 C-142.98383814 133.67599874 -145.57154867 135.37576783 -148.25 137.75 C-151 140 -151 140 -152.984375 139.84765625 C-155.39632299 138.83332929 -156.38785787 137.73334341 -158 135.6875 C-159.73197661 133.54231069 -161.39200645 131.61830951 -163.375 129.6875 C-165 128 -165 128 -165 126 C-166.485 125.505 -166.485 125.505 -168 125 C-169.60546875 123.44140625 -169.60546875 123.44140625 -171.1875 121.5625 C-171.71730469 120.94503906 -172.24710938 120.32757813 -172.79296875 119.69140625 C-174 118 -174 118 -174 116 C-174.66 116 -175.32 116 -176 116 C-176.66 114.35 -177.32 112.7 -178 111 C-178.66 111 -179.32 111 -180 111 C-182.29648649 108.4385343 -183 107.52032428 -183 104 C-182.04222656 103.46632813 -181.08445312 102.93265625 -180.09765625 102.3828125 C-168.15355216 95.70727425 -156.32716014 88.84165717 -144.625 81.75 C-141.47819988 79.85187922 -138.29411281 78.06298018 -135.0546875 76.328125 C-128.43056415 72.72904379 -121.96707173 68.87188905 -115.5 65 C-108.32683923 60.70536963 -101.13810607 56.48255623 -93.77832031 52.51464844 C-88.50915212 49.64207203 -83.32106087 46.62717698 -78.125 43.625 C-77.55417694 43.29573517 -76.98335388 42.96647034 -76.39523315 42.62722778 C-69.07196286 38.40127298 -61.81923651 34.0965338 -54.6484375 29.6171875 C-51.15934521 27.48667982 -47.58443131 25.54466539 -43.984375 23.609375 C-33.44512863 17.92590706 -23.11682895 11.93885346 -12.93920898 5.63012695 C-12.22192627 5.18628662 -11.50464355 4.74244629 -10.765625 4.28515625 C-9.81864746 3.69553101 -9.81864746 3.69553101 -8.85253906 3.09399414 C-3.61325597 0 -3.61325597 0 0 0 Z \"\n          transform=\"translate(309,293)\"\n        />\n        <path\n          d=\"M0 0 C2.3125 0.9375 2.3125 0.9375 4.0625 2.3125 C10.54770003 6.99625558 18.52336049 7.95633259 26.3125 6.9375 C30.66158417 5.61978317 34.74665552 3.85827898 38.6640625 1.5546875 C41.3125 0.9375 41.3125 0.9375 44.57421875 2.5078125 C45.82310612 3.31339381 47.06901981 4.12359712 48.3125 4.9375 C49.7289983 5.73849014 51.15251919 6.52716072 52.58203125 7.3046875 C66.33359985 14.89217316 66.33359985 14.89217316 72.4375 18.4375 C73.20320312 18.8809375 73.96890625 19.324375 74.7578125 19.78125 C75.27085937 20.1628125 75.78390625 20.544375 76.3125 20.9375 C76.3125 21.5975 76.3125 22.2575 76.3125 22.9375 C75.58772461 23.35523682 74.86294922 23.77297363 74.11621094 24.20336914 C71.36509232 25.78922315 68.61413618 27.37535856 65.86328125 28.96166992 C64.11209985 29.97140074 62.36074002 30.98082207 60.609375 31.99023438 C55.11767929 35.15732025 49.63126038 38.33255871 44.16015625 41.53515625 C38.47445295 44.85643789 32.74217863 48.09017089 27 51.3125 C18.61954108 56.0329328 10.31388177 60.8497024 2.09814453 65.85058594 C-1.17978061 67.84584472 -4.46415015 69.83032804 -7.75 71.8125 C-8.35779297 72.18213867 -8.96558594 72.55177734 -9.59179688 72.93261719 C-12.20674259 74.51060167 -14.82246522 76.00460952 -17.55786133 77.36474609 C-20.47564597 78.83103587 -23.28517939 80.39576977 -26.1015625 82.046875 C-27.61556641 82.93246094 -27.61556641 82.93246094 -29.16015625 83.8359375 C-30.20042969 84.44695312 -31.24070312 85.05796875 -32.3125 85.6875 C-38.4765625 89.296875 -38.4765625 89.296875 -41.55566406 91.09570312 C-43.72086555 92.36903334 -45.87864402 93.65503987 -48.03027344 94.95117188 C-49.10051758 95.59119141 -50.17076172 96.23121094 -51.2734375 96.890625 C-52.24071777 97.47489258 -53.20799805 98.05916016 -54.20458984 98.66113281 C-56.6875 99.9375 -56.6875 99.9375 -59.6875 99.9375 C-59.6875 100.5975 -59.6875 101.2575 -59.6875 101.9375 C-60.23792969 102.23140625 -60.78835937 102.5253125 -61.35546875 102.828125 C-73.29587924 109.27039299 -85.09182086 116.00489803 -96.75390625 122.9375 C-97.53556152 123.40188477 -98.3172168 123.86626953 -99.12255859 124.34472656 C-100.59540884 125.22275348 -102.06589729 126.10475758 -103.53369141 126.99121094 C-108.4697613 129.9375 -108.4697613 129.9375 -110.6875 129.9375 C-110.89633455 121.30577731 -111.05609087 112.67492791 -111.15380955 104.04122734 C-111.20071936 100.03178364 -111.26429843 96.02407179 -111.36645508 92.015625 C-111.46448922 88.14456407 -111.51810435 84.27516459 -111.54139519 80.40295792 C-111.55798376 78.92837484 -111.5903826 77.45387959 -111.63907051 75.98000717 C-112.00435755 64.46043598 -112.00435755 64.46043598 -108.80828857 60.76420593 C-106.49571406 59.19042477 -104.25652744 58.03357836 -101.6875 56.9375 C-100.75566895 56.39875244 -99.82383789 55.86000488 -98.86376953 55.30493164 C-98.06567871 54.88590576 -97.26758789 54.46687988 -96.4453125 54.03515625 C-90.06725925 50.62397521 -83.81787326 47.00515549 -77.5625 43.375 C-64.24915747 35.65633956 -64.24915747 35.65633956 -57.88720703 32.16040039 C-50.62986689 28.12577034 -43.48078127 23.90231935 -36.31860352 19.70214844 C-34.3905243 18.5716028 -32.46188704 17.44201365 -30.53320312 16.3125 C-19.01516039 9.65682403 -19.01516039 9.65682403 -7.71044922 2.65307617 C-5.01824684 0.96176574 -3.22426479 -0.0749829 0 0 Z \"\n          transform=\"translate(312.6875,57.0625)\"\n        />\n        <path\n          d=\"M0 0 C3.94034759 0.89405898 6.58021282 2.19265302 10.01538086 4.2980957 C10.58579605 4.64233078 11.15621124 4.98656586 11.74391174 5.3412323 C13.55096973 6.43440113 15.34782711 7.54308272 17.14428711 8.65356445 C19.51511603 10.10231541 21.88977267 11.54469801 24.26538086 12.9855957 C25.37510254 13.65929199 26.48482422 14.33298828 27.62817383 15.02709961 C31.2477428 17.15980361 34.90933294 19.04821434 38.70678711 20.84106445 C38.70678711 21.50106445 38.70678711 22.16106445 38.70678711 22.84106445 C39.26085236 22.96050415 39.8149176 23.07994385 40.38577271 23.20300293 C45.16406866 24.51658667 49.12566278 26.36349811 52.70678711 29.84106445 C54.35869821 34.34372811 54.43904528 38.73211816 54.52709961 43.49731445 C54.56948317 44.84528154 54.61270099 46.19322263 54.65670776 47.5411377 C54.73448546 50.36605102 54.76911404 53.18799851 54.77954102 56.01391602 C54.79659506 58.89312578 54.89309178 61.75126454 55.06665039 64.62524414 C56.43063886 87.58241574 56.43063886 87.58241574 50.40246582 94.47631836 C44.70944759 98.97821893 38.44147575 101.86855399 31.73548889 104.54788208 C27.10693557 106.52416235 22.9549084 109.16542287 18.70678711 111.84106445 C15.90355772 113.41199002 13.08049917 114.93338928 10.24584961 116.4465332 C8.06176047 117.64610216 5.99025305 118.93511492 3.89428711 120.27856445 C0.70678711 121.84106445 0.70678711 121.84106445 -2.10571289 121.96606445 C-4.95393537 120.96080946 -7.03346337 119.87036696 -9.58618164 118.30200195 C-13.78990318 115.74607202 -18.01503697 113.23064931 -22.26196289 110.74731445 C-23.17899239 110.21048538 -23.17899239 110.21048538 -24.11454773 109.66281128 C-26.00716474 108.5550977 -27.90013426 107.44798892 -29.79321289 106.34106445 C-32.30400257 104.87295083 -34.81435482 103.40409308 -37.32446289 101.93481445 C-38.42338867 101.2922168 -39.52231445 100.64961914 -40.65454102 99.98754883 C-41.2131633 99.64240234 -41.77178558 99.29725586 -42.34733582 98.94165039 C-44.36132189 97.75287275 -44.36132189 97.75287275 -46.90766907 96.74047852 C-49.85205501 95.36064857 -51.97937908 94.13594613 -54.29321289 91.84106445 C-55.78324848 87.20957757 -55.67267004 82.73633434 -55.58618164 77.90356445 C-55.59038393 76.53644547 -55.59770344 75.16933286 -55.60798645 73.80224609 C-55.61819137 70.94321927 -55.59295073 68.0873325 -55.54199219 65.22875977 C-55.47939204 61.57515067 -55.50183671 57.92799114 -55.55051708 54.27436829 C-55.57924487 51.45305797 -55.56441776 48.63324955 -55.5364933 45.8119812 C-55.52390872 43.8146051 -55.54632489 41.81710688 -55.56938171 39.81982422 C-55.34085545 30.98556342 -55.34085545 30.98556342 -52.37702942 27.74772644 C-50.07855619 26.19151142 -47.81766592 24.98688818 -45.29321289 23.84106445 C-44.41189697 23.29877197 -43.53058105 22.75647949 -42.62255859 22.19775391 C-41.91188232 21.7874292 -41.20120605 21.37710449 -40.46899414 20.9543457 C-39.6678418 20.49092773 -38.86668945 20.02750977 -38.04125977 19.55004883 C-37.2375293 19.08920898 -36.43379883 18.62836914 -35.60571289 18.15356445 C-34.79038086 17.68112305 -33.97504883 17.20868164 -33.13500977 16.72192383 C-21.19724953 9.84106445 -21.19724953 9.84106445 -18.29321289 9.84106445 C-18.29321289 9.18106445 -18.29321289 8.52106445 -18.29321289 7.84106445 C-17.04604492 7.22618164 -17.04604492 7.22618164 -15.77368164 6.59887695 C-14.68700195 6.06004883 -13.60032227 5.5212207 -12.48071289 4.96606445 C-11.40176758 4.43239258 -10.32282227 3.8987207 -9.21118164 3.34887695 C-2.49710128 -0.12051397 -2.49710128 -0.12051397 0 0 Z \"\n          transform=\"translate(256.293212890625,179.158935546875)\"\n        />\n        <path\n          d=\"M0 0 C4.47931683 4.25786746 7.10252433 7.92862733 7.3125 14.25 C7.23061436 19.85461745 5.42889418 23.55208053 1.50390625 27.5078125 C-3.05556775 31.48740327 -6.72558512 32.38004956 -12.58984375 32.265625 C-17.62766044 31.71040371 -21.36203704 29.98781912 -24.609375 26.046875 C-27.83997153 20.85614124 -29.18724855 16.05829634 -28 10 C-26.06048844 4.60404046 -22.60702843 1.26331181 -18 -2 C-11.92932711 -4.54576605 -5.5297382 -3.11676153 0 0 Z \"\n          transform=\"translate(344,19)\"\n        />\n        <path\n          d=\"M0 0 C4.5196507 2.28943005 8.06723338 5.612669 9.9765625 10.34375 C10.81172599 15.7356827 10.91204563 21.26063292 8.5390625 26.28125 C4.40776411 31.21865539 -0.1557236 33.88286741 -6.5234375 34.90625 C-12.31818901 33.97495065 -18.16913144 31.96891728 -22.0234375 27.34375 C-25.02080789 21.72798709 -25.44303523 16.76735327 -23.8828125 10.640625 C-22.13126041 5.95920396 -19.44925506 3.33850643 -15.3359375 0.46875 C-10.23539458 -1.26350986 -5.19118208 -1.68362662 0 0 Z \"\n          transform=\"translate(118.0234375,55.65625)\"\n        />\n        <path\n          d=\"M0 0 C6.16450651 3.21027017 6.16450651 3.21027017 7.1953125 6.1953125 C7.3190625 7.10023438 7.3190625 7.10023438 7.4453125 8.0234375 C8.1053125 8.0234375 8.7653125 8.0234375 9.4453125 8.0234375 C11.00953931 13.65719748 11.62555225 19.45395797 8.8203125 24.7734375 C5.98712766 29.10891608 2.41006762 32.36851913 -2.5546875 34.0234375 C-8.40948809 34.41375754 -12.3156546 33.98892782 -17.5546875 31.0234375 C-21.98422746 26.94544833 -24.25666961 22.65592887 -24.9296875 16.7109375 C-24.31820116 10.69798854 -22.0923915 6.06666266 -17.4921875 2.0859375 C-12.10730075 -1.69494043 -6.16697406 -2.35740598 0 0 Z \"\n          transform=\"translate(406.5546875,360.9765625)\"\n        />\n        <path\n          d=\"M0 0 C4.50665768 2.13473258 7.1741532 4.91822129 10 9 C11.62971742 13.88915225 11.99108961 19.26714401 10.2109375 24.17578125 C8.46532121 27.39384487 7.53693671 28.8210211 4 30 C4 30.66 4 31.32 4 32 C-2.1662788 34.5297554 -7.96672836 35.10831079 -14.25 32.8125 C-18.94489355 29.71813834 -22.57564297 26.56794112 -24 21 C-24.62265803 14.66964332 -23.72217805 10.22665122 -20 5 C-14.73590807 -1.21162848 -7.62760813 -1.06157433 0 0 Z \"\n          transform=\"translate(186,438)\"\n        />\n      </g>\n    </svg>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAOO,MAAM,cAAoC,CAAC,EAAE,KAAK,EAAE,QAAQ,CAAC,EAAE;IACpE,MAAM,YAAY,UAAU,SAAS,SAAS;IAE9C,qBACE,4YAAC;QACC,OAAO,MAAM;QACb,QAAQ,MAAM;QACd,SAAQ;QACR,MAAK;QACL,OAAM;kBAEN,cAAA,4YAAC;YAAE,MAAM;;8BACP,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;8BAEZ,4YAAC;oBACC,GAAE;oBACF,WAAU;;;;;;;;;;;;;;;;;AAKpB;KA3Da"}},
    {"offset": {"line": 4234, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { HackerAISVG } from \"@/components/icons/hackerai-svg\";\nimport { Button } from \"@/components/ui/button\";\nimport { useAuth } from \"@workos-inc/authkit-nextjs/components\";\n\ninterface HeaderProps {\n  chatTitle?: string;\n}\n\nconst Header: React.FC<HeaderProps> = ({ chatTitle }) => {\n  const user = { id: \"default-user\" };\n  const loading = false;\n\n  const handleSignIn = () => {\n    window.location.href = \"/login\";\n  };\n\n  const handleSignUp = () => {\n    window.location.href = \"/signup\";\n  };\n\n  return (\n    <header className=\"w-full px-6 max-sm:px-4 flex-shrink-0\">\n      {/* Desktop header */}\n      <div className=\"py-[10px] flex gap-10 items-center justify-between max-md:hidden\">\n        <div className=\"flex items-center gap-2\">\n          <HackerAISVG theme=\"dark\" scale={0.15} />\n          <span className=\"text-foreground text-xl font-semibold\">\n            HackerAI\n          </span>\n        </div>\n        <div className=\"flex flex-1 gap-2 justify-between items-center\">\n          {chatTitle && (\n            <div className=\"flex-1 text-center\">\n              <span className=\"text-foreground text-lg font-medium truncate\">\n                {chatTitle}\n              </span>\n            </div>\n          )}\n          {!chatTitle && <div className=\"flex gap-[40px]\"></div>}\n          {!loading && !user && (\n            <div className=\"flex gap-2 items-center\">\n              <Button\n                data-testid=\"sign-in-button\"\n                onClick={handleSignIn}\n                variant=\"default\"\n                size=\"default\"\n                className=\"min-w-[74px] rounded-[10px]\"\n              >\n                Sign in\n              </Button>\n              <Button\n                data-testid=\"sign-up-button\"\n                onClick={handleSignUp}\n                variant=\"outline\"\n                size=\"default\"\n                className=\"min-w-16 rounded-[10px]\"\n              >\n                Sign up\n              </Button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Mobile header */}\n      <div className=\"py-3 flex items-center justify-between md:hidden\">\n        <div className=\"flex items-center gap-2\">\n          <HackerAISVG theme=\"dark\" scale={0.12} />\n          <span className=\"text-foreground text-lg font-semibold\">\n            HackerAI\n          </span>\n        </div>\n        {!loading && !user && (\n          <div className=\"flex items-center gap-2\">\n            <Button\n              data-testid=\"sign-in-button-mobile\"\n              onClick={handleSignIn}\n              variant=\"default\"\n              size=\"sm\"\n              className=\"rounded-[10px]\"\n            >\n              Sign in\n            </Button>\n            <Button\n              data-testid=\"sign-up-button-mobile\"\n              onClick={handleSignUp}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"rounded-[10px]\"\n            >\n              Sign up\n            </Button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAWA,MAAM,SAAgC,CAAC,EAAE,SAAS,EAAE;IAClD,MAAM,OAAO;QAAE,IAAI;IAAe;IAClC,MAAM,UAAU;IAEhB,MAAM,eAAe;QACnB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,eAAe;QACnB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,qBACE,4YAAC;QAAO,WAAU;;0BAEhB,4YAAC;gBAAI,WAAU;;kCACb,4YAAC;wBAAI,WAAU;;0CACb,4YAAC,yJAAW;gCAAC,OAAM;gCAAO,OAAO;;;;;;0CACjC,4YAAC;gCAAK,WAAU;0CAAwC;;;;;;;;;;;;kCAI1D,4YAAC;wBAAI,WAAU;;4BACZ,2BACC,4YAAC;gCAAI,WAAU;0CACb,cAAA,4YAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;4BAIN,CAAC,2BAAa,4YAAC;gCAAI,WAAU;;;;;;4BAC7B,CAAC,WAAW,CAAC,sBACZ,4YAAC;gCAAI,WAAU;;kDACb,4YAAC,wIAAM;wCACL,eAAY;wCACZ,SAAS;wCACT,SAAQ;wCACR,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,4YAAC,wIAAM;wCACL,eAAY;wCACZ,SAAS;wCACT,SAAQ;wCACR,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;0BAST,4YAAC;gBAAI,WAAU;;kCACb,4YAAC;wBAAI,WAAU;;0CACb,4YAAC,yJAAW;gCAAC,OAAM;gCAAO,OAAO;;;;;;0CACjC,4YAAC;gCAAK,WAAU;0CAAwC;;;;;;;;;;;;oBAIzD,CAAC,WAAW,CAAC,sBACZ,4YAAC;wBAAI,WAAU;;0CACb,4YAAC,wIAAM;gCACL,eAAY;gCACZ,SAAS;gCACT,SAAQ;gCACR,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,4YAAC,wIAAM;gCACL,eAAY;gCACZ,SAAS;gCACT,SAAQ;gCACR,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAzFM;uCA2FS"}},
    {"offset": {"line": 4442, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/Footer.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useAuth } from \"@workos-inc/authkit-nextjs/components\";\n\nconst Footer: React.FC = () => {\n  const user = { id: \"default-user\" };\n  const loading = false;\n\n  if (loading || user) {\n    return null;\n  }\n\n  return (\n    <div className=\"text-muted-foreground relative flex min-h-8 w-full items-center justify-center p-4 text-center text-xs md:px-[60px] flex-shrink-0\">\n      <span className=\"text-sm leading-none\">\n        By messaging HackerAI, you agree to our{\" \"}\n        <a\n          href=\"/terms-of-service\"\n          target=\"_blank\"\n          className=\"text-foreground underline decoration-foreground\"\n          rel=\"noreferrer\"\n        >\n          Terms\n        </a>{\" \"}\n        and have read our{\" \"}\n        <a\n          href=\"/privacy-policy\"\n          target=\"_blank\"\n          className=\"text-foreground underline decoration-foreground\"\n          rel=\"noreferrer\"\n        >\n          Privacy Policy\n        </a>\n        .\n      </span>\n    </div>\n  );\n};\n\nexport default Footer;\n"],"names":[],"mappings":";;;;;AAAA;;AAKA,MAAM,SAAmB;IACvB,MAAM,OAAO;QAAE,IAAI;IAAe;IAClC,MAAM,UAAU;IAEhB,wCAAqB;QACnB,OAAO;IACT;;;AA2BF;KAjCM;uCAmCS"}},
    {"offset": {"line": 4477, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAQF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,4YAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 4525, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/useUpgrade.ts"],"sourcesContent":["import { useState } from \"react\";\nimport { useAuth } from \"@workos-inc/authkit-nextjs/components\";\n\nexport const useUpgrade = () => {\n  const { user } = useAuth();\n  const [upgradeLoading, setUpgradeLoading] = useState(false);\n  const [upgradeError, setUpgradeError] = useState(\"\");\n\n  const handleUpgrade = async (\n    planKey?:\n      | \"pro-monthly-plan\"\n      | \"ultra-monthly-plan\"\n      | \"pro-yearly-plan\"\n      | \"ultra-yearly-plan\"\n      | \"team-monthly-plan\"\n      | \"team-yearly-plan\",\n    e?: React.MouseEvent<HTMLButtonElement | HTMLDivElement>,\n    quantity?: number,\n    currentSubscription?: \"free\" | \"pro\" | \"ultra\" | \"team\",\n  ) => {\n    e?.preventDefault();\n\n    // Prevent duplicate submits\n    if (upgradeLoading) {\n      return;\n    }\n\n    if (!user) {\n      setUpgradeError(\"Please sign in to upgrade\");\n      return;\n    }\n\n    setUpgradeLoading(true);\n    setUpgradeError(\"\");\n\n    try {\n      const requestBody: { plan: string; quantity?: number } = {\n        plan: planKey || \"pro-monthly-plan\",\n      };\n\n      // Add quantity for team plans\n      if (quantity && quantity > 1) {\n        requestBody.quantity = quantity;\n      }\n\n      // Use regular checkout for new subscriptions (free users)\n      if (!currentSubscription || currentSubscription === \"free\") {\n        const res = await fetch(\"/api/subscribe\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(requestBody),\n        });\n\n        if (!res.ok) {\n          const text = await res.text();\n          throw new Error(`HTTP ${res.status}: ${text}`);\n        }\n\n        const { error, url } = await res.json();\n\n        if (url) {\n          window.location.href = url;\n          return;\n        }\n\n        if (error) {\n          setUpgradeError(`Error: ${error}`);\n        } else {\n          setUpgradeError(\"Unknown error creating checkout session\");\n        }\n      } else {\n        // For existing subscribers, use immediate subscription update\n        // This prevents the \"free credit\" exploit\n        const res = await fetch(\"/api/subscription-details\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            plan: planKey,\n            confirm: true,\n            quantity: quantity,\n          }),\n        });\n\n        if (!res.ok) {\n          const text = await res.text();\n          throw new Error(`HTTP ${res.status}: ${text}`);\n        }\n\n        const result = await res.json();\n\n        if (result.success) {\n          // Subscription updated successfully, refresh to show new plan\n          const url = new URL(window.location.href);\n          url.searchParams.set(\"refresh\", \"entitlements\");\n          url.hash = \"\"; // Remove #pricing hash if present\n          window.location.href = url.toString();\n        } else if (result.invoiceUrl) {\n          // Payment failed, redirect to invoice payment page\n          window.location.href = result.invoiceUrl;\n        } else if (result.error) {\n          setUpgradeError(`Error: ${result.error}`);\n        } else {\n          setUpgradeError(\"Unknown error updating subscription\");\n        }\n      }\n    } catch (err) {\n      // Surface real error messages when err is an Error\n      if (err instanceof Error) {\n        setUpgradeError(err.message);\n      } else {\n        setUpgradeError(\"An unexpected error occurred\");\n      }\n    } finally {\n      setUpgradeLoading(false);\n    }\n  };\n\n  return {\n    upgradeLoading,\n    upgradeError,\n    handleUpgrade,\n    setUpgradeError,\n  };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,MAAM,aAAa;;IACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,maAAO;IACxB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,wXAAQ,EAAC;IACrD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wXAAQ,EAAC;IAEjD,MAAM,gBAAgB,OACpB,SAOA,GACA,UACA;QAEA,GAAG;QAEH,4BAA4B;QAC5B,IAAI,gBAAgB;YAClB;QACF;QAEA,IAAI,CAAC,MAAM;YACT,gBAAgB;YAChB;QACF;QAEA,kBAAkB;QAClB,gBAAgB;QAEhB,IAAI;YACF,MAAM,cAAmD;gBACvD,MAAM,WAAW;YACnB;YAEA,8BAA8B;YAC9B,IAAI,YAAY,WAAW,GAAG;gBAC5B,YAAY,QAAQ,GAAG;YACzB;YAEA,0DAA0D;YAC1D,IAAI,CAAC,uBAAuB,wBAAwB,QAAQ;gBAC1D,MAAM,MAAM,MAAM,MAAM,kBAAkB;oBACxC,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;gBAC/C;gBAEA,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,IAAI;gBAErC,IAAI,KAAK;oBACP,OAAO,QAAQ,CAAC,IAAI,GAAG;oBACvB;gBACF;gBAEA,IAAI,OAAO;oBACT,gBAAgB,CAAC,OAAO,EAAE,OAAO;gBACnC,OAAO;oBACL,gBAAgB;gBAClB;YACF,OAAO;gBACL,8DAA8D;gBAC9D,0CAA0C;gBAC1C,MAAM,MAAM,MAAM,MAAM,6BAA6B;oBACnD,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;wBACnB,MAAM;wBACN,SAAS;wBACT,UAAU;oBACZ;gBACF;gBAEA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;gBAC/C;gBAEA,MAAM,SAAS,MAAM,IAAI,IAAI;gBAE7B,IAAI,OAAO,OAAO,EAAE;oBAClB,8DAA8D;oBAC9D,MAAM,MAAM,IAAI,IAAI,OAAO,QAAQ,CAAC,IAAI;oBACxC,IAAI,YAAY,CAAC,GAAG,CAAC,WAAW;oBAChC,IAAI,IAAI,GAAG,IAAI,kCAAkC;oBACjD,OAAO,QAAQ,CAAC,IAAI,GAAG,IAAI,QAAQ;gBACrC,OAAO,IAAI,OAAO,UAAU,EAAE;oBAC5B,mDAAmD;oBACnD,OAAO,QAAQ,CAAC,IAAI,GAAG,OAAO,UAAU;gBAC1C,OAAO,IAAI,OAAO,KAAK,EAAE;oBACvB,gBAAgB,CAAC,OAAO,EAAE,OAAO,KAAK,EAAE;gBAC1C,OAAO;oBACL,gBAAgB;gBAClB;YACF;QACF,EAAE,OAAO,KAAK;YACZ,mDAAmD;YACnD,IAAI,eAAe,OAAO;gBACxB,gBAAgB,IAAI,OAAO;YAC7B,OAAO;gBACL,gBAAgB;YAClB;QACF,SAAU;YACR,kBAAkB;QACpB;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GA5Ha;;QACM,maAAO"}},
    {"offset": {"line": 4646, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/pricing/features.ts"],"sourcesContent":["import type React from \"react\";\nimport {\n  Sparkle,\n  MessagesSquare,\n  Brain,\n  Clock,\n  Upload,\n  FlaskConical,\n  SquareTerminal,\n  CreditCard,\n  Users,\n  Code,\n} from \"lucide-react\";\n\nexport type PricingFeature = {\n  icon: React.ComponentType<{ className?: string }>;\n  text: string;\n};\n\nexport const freeFeatures: Array<PricingFeature> = [\n  { icon: Sparkle, text: \"Access to basic AI model\" },\n  { icon: Clock, text: \"Limited and slower responses\" },\n  { icon: Brain, text: \"Basic memory and context\" },\n];\n\nexport const proFeatures: Array<PricingFeature> = [\n  { icon: Sparkle, text: \"Access to smartest AI model\" },\n  { icon: MessagesSquare, text: \"Expanded messaging\" },\n  { icon: Upload, text: \"Access to file uploads\" },\n  { icon: SquareTerminal, text: \"Agent mode with terminal\" },\n  { icon: Brain, text: \"Expanded memory and context\" },\n];\n\nexport const ultraFeatures: Array<PricingFeature> = [\n  { icon: MessagesSquare, text: \"Unlimited messages and uploads\" },\n  { icon: Brain, text: \"Maximum memory and context\" },\n  { icon: SquareTerminal, text: \"Expanded Agent mode\" },\n  { icon: FlaskConical, text: \"Research preview of new features\" },\n];\n\nexport const teamFeatures: Array<PricingFeature> = [\n  {\n    icon: Sparkle,\n    text: \"Everything in Pro and more: access to smartest AI model, expanded messaging, file uploads, agent mode with terminal, expanded memory and context\",\n  },\n  { icon: CreditCard, text: \"Centralized billing and invoicing\" },\n  { icon: Users, text: \"Advanced team + seat management\" },\n];\n"],"names":[],"mappings":";;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAkBO,MAAM,eAAsC;IACjD;QAAE,MAAM,0SAAO;QAAE,MAAM;IAA2B;IAClD;QAAE,MAAM,oSAAK;QAAE,MAAM;IAA+B;IACpD;QAAE,MAAM,oSAAK;QAAE,MAAM;IAA2B;CACjD;AAEM,MAAM,cAAqC;IAChD;QAAE,MAAM,0SAAO;QAAE,MAAM;IAA8B;IACrD;QAAE,MAAM,mUAAc;QAAE,MAAM;IAAqB;IACnD;QAAE,MAAM,uSAAM;QAAE,MAAM;IAAyB;IAC/C;QAAE,MAAM,mUAAc;QAAE,MAAM;IAA2B;IACzD;QAAE,MAAM,oSAAK;QAAE,MAAM;IAA8B;CACpD;AAEM,MAAM,gBAAuC;IAClD;QAAE,MAAM,mUAAc;QAAE,MAAM;IAAiC;IAC/D;QAAE,MAAM,oSAAK;QAAE,MAAM;IAA6B;IAClD;QAAE,MAAM,mUAAc;QAAE,MAAM;IAAsB;IACpD;QAAE,MAAM,6TAAY;QAAE,MAAM;IAAmC;CAChE;AAEM,MAAM,eAAsC;IACjD;QACE,MAAM,0SAAO;QACb,MAAM;IACR;IACA;QAAE,MAAM,uTAAU;QAAE,MAAM;IAAoC;IAC9D;QAAE,MAAM,oSAAK;QAAE,MAAM;IAAkC;CACxD"}},
    {"offset": {"line": 4741, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/BillingFrequencySelector.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\n\ntype BillingFrequency = \"monthly\" | \"yearly\";\n\ninterface BillingFrequencySelectorProps {\n  value: BillingFrequency;\n  onChange: (value: BillingFrequency) => void;\n  isOpen?: boolean;\n  className?: string;\n}\n\nconst BillingFrequencySelector: React.FC<BillingFrequencySelectorProps> = ({\n  value,\n  onChange,\n  isOpen,\n  className = \"\",\n}) => {\n  const segmentedRef = React.useRef<HTMLDivElement | null>(null);\n  const monthlyRef = React.useRef<HTMLLabelElement | null>(null);\n  const yearlyRef = React.useRef<HTMLLabelElement | null>(null);\n  const [indicatorLeft, setIndicatorLeft] = React.useState<number>(0);\n  const [indicatorWidth, setIndicatorWidth] = React.useState<number>(0);\n\n  const handleBillingChange = (next: BillingFrequency) => {\n    if (next === value) return;\n    onChange(next);\n  };\n\n  const handleKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (e) => {\n    if (e.key === \"ArrowRight\" || e.key === \"ArrowLeft\") {\n      e.preventDefault();\n      const next: BillingFrequency = value === \"monthly\" ? \"yearly\" : \"monthly\";\n      onChange(next);\n    }\n  };\n\n  React.useEffect(() => {\n    const updateIndicator = () => {\n      const target =\n        value === \"yearly\" ? yearlyRef.current : monthlyRef.current;\n      if (!target) return;\n      setIndicatorLeft(target.offsetLeft);\n      setIndicatorWidth(target.offsetWidth);\n    };\n\n    // Small delay to ensure DOM is rendered, especially when within a dialog\n    const timer = setTimeout(updateIndicator, 10);\n    return () => clearTimeout(timer);\n  }, [value, isOpen]);\n\n  React.useEffect(() => {\n    const updateIndicator = () => {\n      const target =\n        value === \"yearly\" ? yearlyRef.current : monthlyRef.current;\n      if (!target) return;\n      setIndicatorLeft(target.offsetLeft);\n      setIndicatorWidth(target.offsetWidth);\n    };\n\n    window.addEventListener(\"resize\", updateIndicator);\n    return () => window.removeEventListener(\"resize\", updateIndicator);\n  }, [value]);\n\n  return (\n    <fieldset aria-label=\"Payment frequency\">\n      <div\n        ref={segmentedRef}\n        className={`relative inline-flex items-center rounded-full border border-border bg-background p-1 ${className}`}\n        tabIndex={0}\n        aria-label=\"Billing frequency selector\"\n        role=\"radiogroup\"\n        onKeyDown={handleKeyDown}\n      >\n        <div\n          className=\"absolute top-1 bottom-1 rounded-full border border-border bg-muted/60 transition-all duration-300 ease-out\"\n          style={{ left: `${indicatorLeft}px`, width: `${indicatorWidth}px` }}\n        />\n        <label\n          ref={monthlyRef}\n          className=\"relative z-10 cursor-pointer select-none rounded-full\"\n        >\n          <input\n            type=\"radio\"\n            className=\"sr-only\"\n            name=\"billing-frequency\"\n            value=\"monthly\"\n            checked={value === \"monthly\"}\n            onChange={() => handleBillingChange(\"monthly\")}\n            aria-label=\"Monthly billing\"\n          />\n          <span\n            className={\n              value === \"monthly\"\n                ? \"flex items-center justify-center px-4 py-1.5 text-sm font-medium text-foreground\"\n                : \"flex items-center justify-center px-4 py-1.5 text-sm text-muted-foreground\"\n            }\n          >\n            Monthly\n          </span>\n        </label>\n        <label\n          ref={yearlyRef}\n          className=\"relative z-10 cursor-pointer select-none rounded-full\"\n        >\n          <input\n            type=\"radio\"\n            className=\"sr-only\"\n            name=\"billing-frequency\"\n            value=\"yearly\"\n            checked={value === \"yearly\"}\n            onChange={() => handleBillingChange(\"yearly\")}\n            aria-label=\"Yearly billing\"\n          />\n          <span\n            className={\n              value === \"yearly\"\n                ? \"flex items-center justify-center gap-2 px-4 py-1.5 text-sm font-medium text-foreground\"\n                : \"flex items-center justify-center gap-2 px-4 py-1.5 text-sm text-muted-foreground\"\n            }\n          >\n            Yearly\n            <span className=\"text-[#615EEB] dark:text-[#B9B7FF] text-xs font-medium\">\n              Save 17%\n            </span>\n          </span>\n        </label>\n      </div>\n    </fieldset>\n  );\n};\n\nexport default BillingFrequencySelector;\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAaA,MAAM,2BAAoE,CAAC,EACzE,KAAK,EACL,QAAQ,EACR,MAAM,EACN,YAAY,EAAE,EACf;;IACC,MAAM,eAAe,uXAAK,CAAC,MAAM,CAAwB;IACzD,MAAM,aAAa,uXAAK,CAAC,MAAM,CAA0B;IACzD,MAAM,YAAY,uXAAK,CAAC,MAAM,CAA0B;IACxD,MAAM,CAAC,eAAe,iBAAiB,GAAG,uXAAK,CAAC,QAAQ,CAAS;IACjE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,uXAAK,CAAC,QAAQ,CAAS;IAEnE,MAAM,sBAAsB,CAAC;QAC3B,IAAI,SAAS,OAAO;QACpB,SAAS;IACX;IAEA,MAAM,gBAA4D,CAAC;QACjE,IAAI,EAAE,GAAG,KAAK,gBAAgB,EAAE,GAAG,KAAK,aAAa;YACnD,EAAE,cAAc;YAChB,MAAM,OAAyB,UAAU,YAAY,WAAW;YAChE,SAAS;QACX;IACF;IAEA,uXAAK,CAAC,SAAS;8CAAC;YACd,MAAM;sEAAkB;oBACtB,MAAM,SACJ,UAAU,WAAW,UAAU,OAAO,GAAG,WAAW,OAAO;oBAC7D,IAAI,CAAC,QAAQ;oBACb,iBAAiB,OAAO,UAAU;oBAClC,kBAAkB,OAAO,WAAW;gBACtC;;YAEA,yEAAyE;YACzE,MAAM,QAAQ,WAAW,iBAAiB;YAC1C;sDAAO,IAAM,aAAa;;QAC5B;6CAAG;QAAC;QAAO;KAAO;IAElB,uXAAK,CAAC,SAAS;8CAAC;YACd,MAAM;sEAAkB;oBACtB,MAAM,SACJ,UAAU,WAAW,UAAU,OAAO,GAAG,WAAW,OAAO;oBAC7D,IAAI,CAAC,QAAQ;oBACb,iBAAiB,OAAO,UAAU;oBAClC,kBAAkB,OAAO,WAAW;gBACtC;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAClC;sDAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;6CAAG;QAAC;KAAM;IAEV,qBACE,4YAAC;QAAS,cAAW;kBACnB,cAAA,4YAAC;YACC,KAAK;YACL,WAAW,CAAC,sFAAsF,EAAE,WAAW;YAC/G,UAAU;YACV,cAAW;YACX,MAAK;YACL,WAAW;;8BAEX,4YAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,MAAM,GAAG,cAAc,EAAE,CAAC;wBAAE,OAAO,GAAG,eAAe,EAAE,CAAC;oBAAC;;;;;;8BAEpE,4YAAC;oBACC,KAAK;oBACL,WAAU;;sCAEV,4YAAC;4BACC,MAAK;4BACL,WAAU;4BACV,MAAK;4BACL,OAAM;4BACN,SAAS,UAAU;4BACnB,UAAU,IAAM,oBAAoB;4BACpC,cAAW;;;;;;sCAEb,4YAAC;4BACC,WACE,UAAU,YACN,qFACA;sCAEP;;;;;;;;;;;;8BAIH,4YAAC;oBACC,KAAK;oBACL,WAAU;;sCAEV,4YAAC;4BACC,MAAK;4BACL,WAAU;4BACV,MAAK;4BACL,OAAM;4BACN,SAAS,UAAU;4BACnB,UAAU,IAAM,oBAAoB;4BACpC,cAAW;;;;;;sCAEb,4YAAC;4BACC,WACE,UAAU,WACN,2FACA;;gCAEP;8CAEC,4YAAC;oCAAK,WAAU;8CAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrF;GAtHM;KAAA;uCAwHS"}},
    {"offset": {"line": 4924, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/UpgradeConfirmationDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { X } from \"lucide-react\";\nimport { Loader2 } from \"lucide-react\";\n\ninterface UpgradeConfirmationDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  planName: string;\n  price: number;\n  targetPlan: string;\n  quantity?: number;\n}\n\n// Safely validate and format unix seconds into a display date\nconst isValidUnix = (value: unknown): value is number =>\n  typeof value === \"number\" && Number.isFinite(value) && value > 0;\n\nconst formatUnixDate = (ts?: number) =>\n  isValidUnix(ts) ? new Date(ts * 1000).toLocaleDateString() : \"\";\n\ninterface SubscriptionDetails {\n  paymentMethod: string;\n  currentPlan: string;\n  proratedAmount: number;\n  proratedCredit: number;\n  totalDue: number;\n  currentPeriodStart?: number;\n  currentPeriodEnd?: number;\n  nextInvoiceDate?: number;\n  nextInvoiceAmount?: number;\n  quantity?: number;\n}\n\nconst UpgradeConfirmationDialog: React.FC<UpgradeConfirmationDialogProps> = ({\n  isOpen,\n  onClose,\n  planName,\n  price,\n  targetPlan,\n  quantity,\n}) => {\n  const [details, setDetails] = useState<SubscriptionDetails | null>(null);\n  const [loadingDetails, setLoadingDetails] = useState(false);\n  const [confirming, setConfirming] = useState(false);\n  const [error, setError] = useState<string>(\"\");\n\n  useEffect(() => {\n    const fetchDetails = async () => {\n      if (!isOpen) return;\n\n      setLoadingDetails(true);\n      setError(\"\");\n      try {\n        // Single API call: preview + current details in one response\n        const previewRes = await fetch(\"/api/subscription-details\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            plan: targetPlan,\n            confirm: false,\n            quantity: quantity,\n          }),\n        });\n\n        if (!previewRes.ok) {\n          throw new Error(\"Failed to calculate upgrade preview\");\n        }\n        const previewData = await previewRes.json();\n\n        setDetails({\n          paymentMethod: previewData.paymentMethod,\n          currentPlan: previewData.currentPlan,\n          proratedAmount: previewData.proratedAmount ?? price,\n          proratedCredit: previewData.proratedCredit,\n          totalDue: previewData.totalDue,\n          // @ts-expect-error - backend may not send this on older versions\n          additionalCredit: previewData.additionalCredit || 0,\n          currentPeriodStart: previewData.currentPeriodStart,\n          currentPeriodEnd: previewData.currentPeriodEnd,\n          nextInvoiceDate: previewData.nextInvoiceDate,\n          nextInvoiceAmount: previewData.nextInvoiceAmount,\n          quantity: previewData.quantity,\n        });\n      } catch (error) {\n        console.error(\"Error fetching subscription details:\", error);\n        // Set fallback values\n        setDetails({\n          paymentMethod: \"Payment method on file\",\n          currentPlan: \"current\",\n          proratedAmount: price,\n          proratedCredit: 0,\n          totalDue: price,\n        });\n      } finally {\n        setLoadingDetails(false);\n      }\n    };\n\n    fetchDetails();\n  }, [isOpen, targetPlan, price, quantity]);\n\n  const handleConfirmPayment = async () => {\n    setConfirming(true);\n    setError(\"\");\n    try {\n      const response = await fetch(\"/api/subscription-details\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          plan: targetPlan,\n          confirm: true,\n          quantity: quantity,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        // Handle error without throwing (cleaner console)\n        setError(result.error || \"Failed to update subscription\");\n        setConfirming(false);\n        return;\n      }\n\n      if (result.success) {\n        // Subscription updated successfully\n        onClose();\n\n        // Redirect with refresh=entitlements to trigger entitlement sync\n        setTimeout(() => {\n          const url = new URL(window.location.href);\n          url.searchParams.set(\"refresh\", \"entitlements\");\n          url.hash = \"\"; // Remove #pricing hash if present\n          window.location.href = url.toString();\n        }, 500);\n      } else if (result.requiresPayment && result.invoiceUrl) {\n        // Payment failed, redirect to invoice payment page\n        window.location.href = result.invoiceUrl;\n      } else {\n        setError(result.message || \"Failed to update subscription\");\n        setConfirming(false);\n      }\n    } catch (error) {\n      console.error(\"Error confirming payment:\", error);\n      setError(\n        error instanceof Error\n          ? error.message\n          : \"Failed to update subscription. Please try again.\",\n      );\n      setConfirming(false);\n    }\n  };\n\n  const proratedCredit = details?.proratedCredit || 0;\n  const additionalCredit = (details as any)?.additionalCredit || 0;\n  const totalDue = details?.totalDue ?? price;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent\n        className=\"!max-w-[600px] !w-[90vw] sm:!w-full !max-h-[90vh] overflow-y-auto\"\n        showCloseButton={false}\n      >\n        <div className=\"flex items-center justify-between mb-6\">\n          <DialogTitle className=\"text-2xl font-semibold\">\n            Confirm plan changes\n          </DialogTitle>\n          <button\n            onClick={onClose}\n            className=\"text-foreground opacity-50 transition hover:opacity-75\"\n            aria-label=\"Close dialog\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <div className=\"space-y-6\">\n          {loadingDetails ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n            </div>\n          ) : (\n            <>\n              {/* Plan Details */}\n              <div className=\"flex items-center justify-between pb-4 border-b\">\n                <div>\n                  <div className=\"text-lg font-medium\">\n                    HackerAI {planName} subscription\n                    {details?.quantity && details.quantity > 1 && (\n                      <span className=\"text-muted-foreground font-normal\">\n                        {\" \"}\n                        ({details.quantity} seats)\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground mt-1\">\n                    Prorated charge for remaining time in your current billing\n                    cycle.\n                  </div>\n                  {isValidUnix(details?.currentPeriodStart) &&\n                    isValidUnix(details?.currentPeriodEnd) && (\n                      <div className=\"text-xs text-muted-foreground mt-1\">\n                        Current period:{\" \"}\n                        {formatUnixDate(details.currentPeriodStart)} {\" \"}\n                        {formatUnixDate(details.currentPeriodEnd)}\n                      </div>\n                    )}\n                </div>\n                <div className=\"text-lg font-semibold\">\n                  ${(details?.proratedAmount ?? price).toFixed(2)}\n                </div>\n              </div>\n\n              {/* Adjustment - only show if there's a prorated credit */}\n              {proratedCredit > 0 && (\n                <div className=\"flex items-start justify-between pb-4 border-b\">\n                  <div>\n                    <div className=\"text-lg font-medium\">Proration credit</div>\n                    <div className=\"text-sm text-muted-foreground mt-1\">\n                      Credit for unused time on your{\" \"}\n                      {details?.currentPlan || \"current\"} plan\n                    </div>\n                  </div>\n                  <div className=\"text-lg font-semibold text-green-600\">\n                    -${proratedCredit.toFixed(2)}\n                  </div>\n                </div>\n              )}\n\n              {/* Additional credit to balance */}\n              {additionalCredit > 0 && (\n                <div className=\"flex items-start justify-between pb-4 border-b\">\n                  <div>\n                    <div className=\"text-lg font-medium\">Credit to balance</div>\n                    <div className=\"text-sm text-muted-foreground mt-1\">\n                      Excess credit will be added to your account balance\n                    </div>\n                  </div>\n                  <div className=\"text-lg font-semibold text-green-600\">\n                    -${additionalCredit.toFixed(2)}\n                  </div>\n                </div>\n              )}\n\n              {/* Total */}\n              <div className=\"flex items-center justify-between pb-6 border-b\">\n                <div className=\"text-xl font-semibold\">Total due today</div>\n                <div className=\"text-xl font-semibold\">\n                  ${totalDue.toFixed(2)}\n                </div>\n              </div>\n\n              {/* Next Invoice Estimate */}\n              {isValidUnix(details?.nextInvoiceDate) &&\n                typeof details?.nextInvoiceAmount === \"number\" && (\n                  <div className=\"flex items-center justify-between pb-6 border-b\">\n                    <div>\n                      <div className=\"text-base font-medium\">\n                        Next invoice on{\" \"}\n                        {formatUnixDate(details.nextInvoiceDate)}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground mt-1\">\n                        Estimate; subject to changes to your account balance or\n                        usage.\n                      </div>\n                    </div>\n                    <div className=\"text-base font-semibold\">\n                      ${Number(details.nextInvoiceAmount).toFixed(2)}\n                    </div>\n                  </div>\n                )}\n\n              {/* Payment Method */}\n              {details?.paymentMethod && (\n                <div className=\"flex items-center justify-between pb-6 border-b\">\n                  <div className=\"text-base font-medium\">Payment Method</div>\n                  <div className=\"text-base\">{details.paymentMethod}</div>\n                </div>\n              )}\n            </>\n          )}\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"p-4 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg\">\n              <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center justify-end gap-3 pt-2\">\n            <Button\n              variant=\"outline\"\n              size=\"lg\"\n              onClick={onClose}\n              disabled={confirming || loadingDetails}\n              className=\"px-8\"\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"default\"\n              size=\"lg\"\n              onClick={handleConfirmPayment}\n              disabled={confirming || loadingDetails}\n              className=\"px-8\"\n            >\n              {confirming ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Processing...\n                </>\n              ) : (\n                \"Confirm and pay\"\n              )}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default UpgradeConfirmationDialog;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5479, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/PricingDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { useAuth } from \"@workos-inc/authkit-nextjs/components\";\nimport { Loader2, X } from \"lucide-react\";\nimport { useGlobalState } from \"../contexts/GlobalState\";\nimport { useUpgrade } from \"../hooks/useUpgrade\";\nimport {\n  freeFeatures,\n  proFeatures,\n  ultraFeatures,\n  teamFeatures,\n} from \"@/lib/pricing/features\";\nimport BillingFrequencySelector from \"./BillingFrequencySelector\";\nimport UpgradeConfirmationDialog from \"./UpgradeConfirmationDialog\";\n\ninterface PricingDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface PlanCardProps {\n  planName: string;\n  price: number;\n  description: string;\n  features: Array<{\n    icon: React.ComponentType<{ className?: string }>;\n    text: string;\n  }>;\n  buttonText: string;\n  buttonVariant?: \"default\" | \"secondary\";\n  buttonClassName?: string;\n  onButtonClick?: () => void;\n  isButtonDisabled?: boolean;\n  isButtonLoading?: boolean;\n  customClassName?: string;\n  badgeText?: string;\n  badgeClassName?: string;\n  footerNote?: string;\n}\n\nconst PlanCard: React.FC<PlanCardProps> = ({\n  planName,\n  price,\n  description,\n  features,\n  buttonText,\n  buttonVariant = \"secondary\",\n  buttonClassName = \"\",\n  onButtonClick,\n  isButtonDisabled = false,\n  isButtonLoading = false,\n  customClassName = \"\",\n  badgeText,\n  badgeClassName = \"\",\n  footerNote,\n}) => {\n  return (\n    <div\n      className={`border border-border md:min-h-[30rem] md:max-w-96 md:rounded-2xl relative flex flex-1 flex-col justify-center gap-4 rounded-xl px-6 py-6 text-sm bg-background ${customClassName}`}\n    >\n      <div className=\"relative flex flex-col mt-0\">\n        <div className=\"flex flex-col gap-5\">\n          <div className=\"flex items-center gap-2 justify-between text-[28px] font-medium\">\n            {planName}\n            {badgeText ? (\n              <Badge\n                className={`ms-1 border-none rounded-4xl px-2 pt-1.5 pb-1.25 text-[11px] font-semibold bg-[#DCDBFF] text-[#615EEB] dark:bg-[#444378] dark:text-[#B9B7FF] ${badgeClassName}`}\n              >\n                {badgeText}\n              </Badge>\n            ) : null}\n          </div>\n          <div className=\"flex items-end gap-1.5\">\n            <div className=\"flex text-foreground\">\n              <div className=\"text-2xl text-muted-foreground\">$</div>\n              <div className=\"text-5xl\">{price}</div>\n            </div>\n            <div className=\"flex items-baseline gap-1.5\">\n              <div className=\"mt-auto mb-0.5 flex h-full flex-col items-start\">\n                <p className=\"text-muted-foreground w-full text-xs\">\n                  USD / <br />\n                  month\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <p className=\"text-foreground text-base mt-4 font-medium\">\n          {description}\n        </p>\n      </div>\n\n      <div className=\"mb-2.5 w-full\">\n        <Button\n          onClick={onButtonClick}\n          disabled={isButtonDisabled}\n          className={`w-full ${buttonClassName}`}\n          variant={buttonVariant}\n          size=\"lg\"\n        >\n          {isButtonLoading ? (\n            <>\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              Upgrading...\n            </>\n          ) : (\n            buttonText\n          )}\n        </Button>\n      </div>\n\n      <div className=\"flex flex-col grow gap-2\">\n        <ul className=\"mb-2 flex flex-col gap-5\">\n          {features.map((feature, index) => (\n            <li key={index} className=\"relative\">\n              <div className=\"flex justify-start gap-3.5\">\n                <feature.icon className=\"h-5 w-5 shrink-0\" />\n                <span className=\"text-foreground font-normal\">\n                  {feature.text}\n                </span>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n      {footerNote ? (\n        <p className=\"text-muted-foreground text-xs mt-auto\">{footerNote}</p>\n      ) : null}\n    </div>\n  );\n};\n\n// Pricing configuration - centralized pricing for all plans\nexport const PRICING = {\n  pro: {\n    monthly: 20,\n    yearly: 17,\n  },\n  ultra: {\n    monthly: 200,\n    yearly: 166,\n  },\n  team: {\n    monthly: 40,\n    yearly: 33,\n  },\n} as const;\n\nconst PricingDialog: React.FC<PricingDialogProps> = ({ isOpen, onClose }) => {\n  const user = { id: \"default-user\" };\n  const { subscription, isCheckingProPlan, setTeamPricingDialogOpen } =\n    useGlobalState();\n  const { upgradeLoading, handleUpgrade } = useUpgrade();\n  const [isYearly, setIsYearly] = React.useState(false);\n  const [showTeamPlan, setShowTeamPlan] = React.useState(false);\n  const [showConfirmDialog, setShowConfirmDialog] = React.useState(false);\n  const [pendingUpgrade, setPendingUpgrade] = React.useState<{\n    plan: string;\n    planName: string;\n    price: number;\n  } | null>(null);\n\n  // Auto-close pricing dialog for ultra/team users\n  React.useEffect(() => {\n    if (isOpen && (subscription === \"ultra\" || subscription === \"team\")) {\n      onClose();\n    }\n  }, [isOpen, subscription, onClose]);\n\n  const handleBillingChange = (value: \"monthly\" | \"yearly\") => {\n    setIsYearly(value === \"yearly\");\n  };\n\n  const handleSignIn = () => {\n    // eslint-disable-next-line react-hooks/immutability\n    window.location.href = \"/login\";\n  };\n\n  const handleSignUp = () => {\n    // eslint-disable-next-line react-hooks/immutability\n    window.location.href = \"/signup\";\n  };\n\n  const handleUpgradeClick = async (\n    plan:\n      | \"pro-monthly-plan\"\n      | \"ultra-monthly-plan\"\n      | \"pro-yearly-plan\"\n      | \"ultra-yearly-plan\" = \"pro-monthly-plan\",\n    planName: string,\n    price: number,\n  ) => {\n    // If user is free, upgrade directly using checkout\n    if (subscription === \"free\") {\n      try {\n        await handleUpgrade(plan, undefined, undefined, subscription);\n        // Don't close dialog on success - let the redirect happen\n      } catch (error) {\n        console.error(\"Upgrade failed:\", error);\n      }\n    } else {\n      // For existing subscribers, show confirmation dialog with upgrade details\n      setPendingUpgrade({ plan, planName, price });\n      setShowConfirmDialog(true);\n    }\n  };\n\n  const handleCloseConfirmDialog = () => {\n    setShowConfirmDialog(false);\n    setPendingUpgrade(null);\n  };\n\n  const handleTeamClick = () => {\n    if (!user) {\n      handleSignIn();\n      return;\n    }\n\n    // Update URL with billing period before opening team dialog\n    const url = new URL(window.location.href);\n    url.searchParams.set(\"selectedPlan\", isYearly ? \"yearly\" : \"monthly\");\n    url.hash = \"team-pricing-seat-selection\";\n    window.history.replaceState({}, \"\", url.toString());\n\n    onClose(); // Close the pricing dialog\n    setTeamPricingDialogOpen(true);\n  };\n\n  // Button configurations for Free plan\n  const getFreeButtonConfig = () => {\n    if (user && !isCheckingProPlan && subscription === \"free\") {\n      return {\n        text: \"Your current plan\",\n        disabled: true,\n        className: \"opacity-50 cursor-not-allowed\",\n        variant: \"secondary\" as const,\n      };\n    } else if (!user) {\n      return {\n        text: \"Get Started\",\n        disabled: false,\n        className: \"\",\n        variant: \"secondary\" as const,\n        onClick: handleSignUp,\n      };\n    } else {\n      return {\n        text: \"Current Plan\",\n        disabled: true,\n        className: \"opacity-50 cursor-not-allowed\",\n        variant: \"secondary\" as const,\n      };\n    }\n  };\n\n  // Button configurations for Pro plan\n  const getProButtonConfig = () => {\n    if (user && !isCheckingProPlan && subscription === \"pro\") {\n      return {\n        text: \"Current Plan\",\n        disabled: true,\n        className: \"opacity-50 cursor-not-allowed\",\n        variant: \"secondary\" as const,\n      };\n    } else if (user) {\n      return {\n        text: \"Get Pro\",\n        disabled: upgradeLoading,\n        className: \"font-semibold bg-[#615eeb] hover:bg-[#504bb8] text-white\",\n        variant: \"default\" as const,\n        onClick: () =>\n          handleUpgradeClick(\n            isYearly ? \"pro-yearly-plan\" : \"pro-monthly-plan\",\n            \"Pro\",\n            isYearly ? PRICING.pro.yearly : PRICING.pro.monthly,\n          ),\n        loading: upgradeLoading,\n      };\n    } else {\n      return {\n        text: \"Get Pro\",\n        disabled: false,\n        className: \"font-semibold bg-[#615eeb] hover:bg-[#504bb8] text-white\",\n        variant: \"default\" as const,\n        onClick: handleSignIn,\n      };\n    }\n  };\n\n  // Button configurations for Ultra plan\n  const getUltraButtonConfig = () => {\n    if (user && !isCheckingProPlan && subscription === \"ultra\") {\n      return {\n        text: \"Current Plan\",\n        disabled: true,\n        className: \"opacity-50 cursor-not-allowed\",\n        variant: \"secondary\" as const,\n      };\n    } else if (user) {\n      return {\n        text: subscription === \"pro\" ? \"Upgrade to Ultra\" : \"Get Ultra\",\n        disabled: upgradeLoading,\n        className: \"\",\n        variant: \"default\" as const,\n        onClick: () =>\n          handleUpgradeClick(\n            isYearly ? \"ultra-yearly-plan\" : \"ultra-monthly-plan\",\n            \"Ultra\",\n            isYearly ? PRICING.ultra.yearly : PRICING.ultra.monthly,\n          ),\n        loading: upgradeLoading,\n      };\n    } else {\n      return {\n        text: \"Get Ultra\",\n        disabled: false,\n        className: \"\",\n        variant: \"default\" as const,\n        onClick: handleSignIn,\n      };\n    }\n  };\n\n  const freeButtonConfig = getFreeButtonConfig();\n  const proButtonConfig = getProButtonConfig();\n  const ultraButtonConfig = getUltraButtonConfig();\n\n  const hasSubscription = subscription !== \"free\";\n\n  return (\n    <>\n      <UpgradeConfirmationDialog\n        isOpen={showConfirmDialog}\n        onClose={handleCloseConfirmDialog}\n        planName={pendingUpgrade?.planName || \"\"}\n        price={pendingUpgrade?.price || 0}\n        targetPlan={pendingUpgrade?.plan || \"\"}\n      />\n\n      <Dialog open={isOpen} onOpenChange={onClose}>\n        <DialogContent\n          className=\"!max-w-none !w-screen !h-screen !max-h-none !m-0 !rounded-none !inset-0 !translate-x-0 !translate-y-0 !top-0 !left-0 overflow-y-auto\"\n          data-testid=\"modal-account-payment\"\n          showCloseButton={false}\n        >\n          <div className=\"relative grid grid-cols-[1fr_auto_1fr] px-6 py-4 md:pt-[4.5rem] md:pb-6\">\n            <div></div>\n            <div className=\"my-1 flex flex-col items-center justify-center md:mt-0 md:mb-0\">\n              <DialogTitle className=\"text-3xl font-semibold\">\n                Upgrade your plan\n              </DialogTitle>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"text-foreground justify-self-end opacity-50 transition hover:opacity-75 md:absolute md:end-6 md:top-6\"\n            >\n              <X className=\"h-6 w-6\" />\n            </button>\n          </div>\n\n          <div className=\"mt-2 mb-4 flex justify-center px-6\">\n            <BillingFrequencySelector\n              value={isYearly ? \"yearly\" : \"monthly\"}\n              onChange={handleBillingChange}\n              isOpen={isOpen}\n            />\n          </div>\n\n          <div className=\"flex justify-center gap-6 flex-col md:flex-row pb-6\">\n            {showTeamPlan ? (\n              <>\n                {/* Show Free Plan if no subscription, Pro Plan if pro subscription */}\n                {!hasSubscription ? (\n                  <PlanCard\n                    planName=\"Free\"\n                    price={0}\n                    description=\"Intelligence for everyday tasks\"\n                    features={freeFeatures}\n                    buttonText={freeButtonConfig.text}\n                    buttonVariant={freeButtonConfig.variant}\n                    buttonClassName={freeButtonConfig.className}\n                    onButtonClick={freeButtonConfig.onClick}\n                    isButtonDisabled={freeButtonConfig.disabled}\n                  />\n                ) : subscription === \"pro\" ? (\n                  <PlanCard\n                    planName=\"Pro\"\n                    price={isYearly ? PRICING.pro.yearly : PRICING.pro.monthly}\n                    description=\"More access to advanced intelligence\"\n                    features={proFeatures}\n                    buttonText={proButtonConfig.text}\n                    buttonVariant={proButtonConfig.variant}\n                    buttonClassName={proButtonConfig.className}\n                    onButtonClick={proButtonConfig.onClick}\n                    isButtonDisabled={proButtonConfig.disabled}\n                    isButtonLoading={proButtonConfig.loading}\n                  />\n                ) : null}\n\n                {/* Team Plan */}\n                <PlanCard\n                  planName=\"Team\"\n                  price={isYearly ? PRICING.team.yearly : PRICING.team.monthly}\n                  description=\"Supercharge your team with a secure, collaborative workspace\"\n                  features={teamFeatures}\n                  buttonText={\n                    subscription === \"pro\" ? \"Upgrade to Team\" : \"Get Team\"\n                  }\n                  buttonVariant={\"default\"}\n                  buttonClassName=\"font-semibold bg-[#615eeb] hover:bg-[#504bb8] text-white\"\n                  onButtonClick={handleTeamClick}\n                  isButtonDisabled={false}\n                  customClassName=\"border-[#CFCEFC] bg-[#F5F5FF] dark:bg-[#282841] dark:border-[#484777]\"\n                  badgeText=\"RECOMMENDED\"\n                />\n              </>\n            ) : (\n              <>\n                {/* Free Plan - only show if user doesn't have a subscription */}\n                {!hasSubscription && (\n                  <PlanCard\n                    planName=\"Free\"\n                    price={0}\n                    description=\"Intelligence for everyday tasks\"\n                    features={freeFeatures}\n                    buttonText={freeButtonConfig.text}\n                    buttonVariant={freeButtonConfig.variant}\n                    buttonClassName={freeButtonConfig.className}\n                    onButtonClick={freeButtonConfig.onClick}\n                    isButtonDisabled={freeButtonConfig.disabled}\n                  />\n                )}\n\n                {/* Pro Plan */}\n                <PlanCard\n                  planName=\"Pro\"\n                  price={isYearly ? PRICING.pro.yearly : PRICING.pro.monthly}\n                  description=\"More access to advanced intelligence\"\n                  features={proFeatures}\n                  buttonText={proButtonConfig.text}\n                  buttonVariant={proButtonConfig.variant}\n                  buttonClassName={proButtonConfig.className}\n                  onButtonClick={proButtonConfig.onClick}\n                  isButtonDisabled={proButtonConfig.disabled}\n                  isButtonLoading={proButtonConfig.loading}\n                  customClassName=\"border-[#CFCEFC] bg-[#F5F5FF] dark:bg-[#282841] dark:border-[#484777]\"\n                  badgeText=\"POPULAR\"\n                />\n\n                {/* Ultra Plan */}\n                <PlanCard\n                  planName=\"Ultra\"\n                  price={\n                    isYearly ? PRICING.ultra.yearly : PRICING.ultra.monthly\n                  }\n                  description=\"Full access to the best of HackerAI\"\n                  features={ultraFeatures}\n                  buttonText={ultraButtonConfig.text}\n                  buttonVariant={ultraButtonConfig.variant}\n                  buttonClassName={ultraButtonConfig.className}\n                  isButtonDisabled={ultraButtonConfig.disabled}\n                  isButtonLoading={ultraButtonConfig.loading}\n                  onButtonClick={ultraButtonConfig.onClick}\n                  footerNote=\"Unlimited subject to abuse guardrails.\"\n                />\n              </>\n            )}\n          </div>\n\n          <div className=\"flex justify-center pb-8\">\n            <Button\n              variant=\"secondary\"\n              className=\"rounded-full border border-border bg-background text-foreground hover:bg-muted/60\"\n              onClick={() => setShowTeamPlan((prev) => !prev)}\n            >\n              {showTeamPlan ? \"View Individual Plan\" : \"View Team Plan\"}\n            </Button>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default PricingDialog;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6102, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/radio-group.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\";\nimport { CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn(\"grid gap-3\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  );\n}\n\nexport { RadioGroup, RadioGroupItem };\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,4YAAC,yYAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,4YAAC,yYAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0XACA;QAED,GAAG,KAAK;kBAET,cAAA,4YAAC,8YAA6B;YAC5B,aAAU;YACV,WAAU;sBAEV,cAAA,4YAAC,+SAAU;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI9B;MArBS"}},
    {"offset": {"line": 6167, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,4YAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 6198, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\",\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,qPAAG,EACvB;AAGF,MAAM,sBAAQ,0XAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,4YAAC,gYAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,gYAAmB,CAAC,WAAW"}},
    {"offset": {"line": 6236, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/TeamPricingDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { X, Minus, Plus, Loader2 } from \"lucide-react\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useUpgrade } from \"../hooks/useUpgrade\";\nimport { useAuth } from \"@workos-inc/authkit-nextjs/components\";\nimport { useGlobalState } from \"../contexts/GlobalState\";\nimport UpgradeConfirmationDialog from \"./UpgradeConfirmationDialog\";\nimport { PRICING } from \"./PricingDialog\";\n\ninterface TeamPricingDialogProps {\n  isOpen: boolean;\n  onClose: () => void;\n  initialSeats?: number;\n  initialPlan?: \"monthly\" | \"yearly\";\n}\n\nconst TeamPricingDialog: React.FC<TeamPricingDialogProps> = ({\n  isOpen,\n  onClose,\n  initialSeats = 5,\n  initialPlan = \"monthly\",\n}) => {\n  const user = { id: \"default-user\" };\n  const { subscription } = useGlobalState();\n  const { upgradeLoading, upgradeError, handleUpgrade, setUpgradeError } =\n    useUpgrade();\n  const [billingPeriod, setBillingPeriod] = React.useState<\n    \"monthly\" | \"yearly\"\n  >(initialPlan);\n  const [seats, setSeats] = React.useState(initialSeats);\n  const [isInitialized, setIsInitialized] = React.useState(false);\n  const [showUpgradeConfirmation, setShowUpgradeConfirmation] =\n    React.useState(false);\n  const [targetPlanForConfirmation, setTargetPlanForConfirmation] =\n    React.useState<string>(\"\");\n\n  const formatNumber = (num: number) => {\n    return num.toLocaleString(\"en-US\");\n  };\n\n  const pricePerSeat = billingPeriod === \"yearly\" ? 33 : 40;\n  const minSeats = 2;\n  const maxSeats = 999;\n\n  const handleSeatsChange = (value: string) => {\n    const num = parseInt(value) || minSeats;\n    setSeats(Math.min(Math.max(num, minSeats), maxSeats));\n  };\n\n  const handleDecrementSeats = () => {\n    setSeats((prev) => Math.max(prev - 1, minSeats));\n  };\n\n  const handleIncrementSeats = () => {\n    setSeats((prev) => Math.min(prev + 1, maxSeats));\n  };\n\n  const totalPrice = seats * pricePerSeat;\n  const fullPrice = billingPeriod === \"yearly\" ? seats * 40 * 12 : totalPrice;\n  const discount = billingPeriod === \"yearly\" ? fullPrice - seats * 33 * 12 : 0;\n  const discountPercentage = 17;\n\n  const handleContinue = async () => {\n    if (!user) {\n      setUpgradeError(\"Please sign in to upgrade\");\n      return;\n    }\n\n    const planKey =\n      billingPeriod === \"yearly\" ? \"team-yearly-plan\" : \"team-monthly-plan\";\n\n    // For Pro users: show confirmation dialog with proration preview\n    if (subscription === \"pro\") {\n      setTargetPlanForConfirmation(planKey);\n      setShowUpgradeConfirmation(true);\n      return;\n    }\n\n    // For free users: proceed to checkout\n    await handleUpgrade(planKey, undefined, seats, subscription);\n  };\n\n  const handleCloseConfirmation = () => {\n    setShowUpgradeConfirmation(false);\n    setTargetPlanForConfirmation(\"\");\n  };\n\n  // Sync state with URL (only after initial state is loaded from URL/props)\n  React.useEffect(() => {\n    if (!isOpen || !isInitialized) {\n      return;\n    }\n    const url = new URL(window.location.href);\n    url.searchParams.set(\"numSeats\", seats.toString());\n    url.searchParams.set(\n      \"selectedPlan\",\n      billingPeriod === \"yearly\" ? \"yearly\" : \"monthly\",\n    );\n    url.hash = \"team-pricing-seat-selection\";\n    window.history.replaceState({}, \"\", url.toString());\n  }, [isOpen, seats, billingPeriod, isInitialized]);\n\n  // Initialize from URL params or props when dialog opens\n  React.useEffect(() => {\n    if (isOpen && !isInitialized) {\n      const url = new URL(window.location.href);\n      const urlSeats = url.searchParams.get(\"numSeats\");\n      const urlPlan = url.searchParams.get(\"selectedPlan\");\n\n      if (urlSeats) {\n        const num = parseInt(urlSeats);\n        if (!isNaN(num)) {\n          setSeats(Math.min(Math.max(num, minSeats), maxSeats));\n        }\n      } else {\n        setSeats(initialSeats);\n      }\n\n      if (urlPlan === \"yearly\" || urlPlan === \"monthly\") {\n        setBillingPeriod(urlPlan);\n      } else {\n        setBillingPeriod(initialPlan);\n      }\n\n      setIsInitialized(true);\n    } else if (!isOpen && isInitialized) {\n      // Clean up URL when dialog closes\n      const url = new URL(window.location.href);\n      url.searchParams.delete(\"numSeats\");\n      url.searchParams.delete(\"selectedPlan\");\n      url.hash = \"\";\n      window.history.replaceState({}, \"\", url.toString());\n      setIsInitialized(false);\n    }\n  }, [isOpen, isInitialized, initialSeats, initialPlan, minSeats, maxSeats]);\n\n  return (\n    <>\n      <UpgradeConfirmationDialog\n        isOpen={showUpgradeConfirmation}\n        onClose={handleCloseConfirmation}\n        planName=\"Team\"\n        price={\n          billingPeriod === \"yearly\"\n            ? PRICING.team.yearly\n            : PRICING.team.monthly\n        }\n        targetPlan={targetPlanForConfirmation}\n        quantity={seats}\n      />\n      <Dialog open={isOpen} onOpenChange={onClose}>\n        <DialogContent\n          className=\"!max-w-none !w-screen !h-screen !max-h-none !m-0 !rounded-none !inset-0 !translate-x-0 !translate-y-0 !top-0 !left-0 overflow-y-auto\"\n          showCloseButton={false}\n        >\n          <DialogTitle className=\"sr-only\">Team Pricing</DialogTitle>\n          <div className=\"h-full w-full overflow-y-auto\">\n            {/* Mobile View */}\n            <div className=\"md:hidden relative flex min-h-[100dvh] w-full justify-center overflow-y-auto pt-4\">\n              <div className=\"flex w-full max-w-full flex-none items-center justify-center [@media(min-width:450px)]:max-w-[380px]\">\n                <div className=\"flex w-full flex-col gap-6 [@media(min-width:450px)]:px-4\">\n                  <div className=\"flex flex-col gap-4 text-center\">\n                    <div className=\"text-3xl font-normal\">\n                      Set up your Business plan\n                    </div>\n                    <div className=\"text-muted-foreground\">\n                      Minimum 2 seats. Add and reassign seats at anytime\n                    </div>\n                    {subscription === \"pro\" && (\n                      <div className=\"text-sm text-muted-foreground bg-muted/50 rounded-lg px-4 py-2\">\n                        Your remaining Pro subscription time will be credited\n                        toward Team\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"flex flex-col gap-6\">\n                    <div className=\"mb-3 flex w-full flex-col\">\n                      <Label\n                        htmlFor=\"seats\"\n                        className=\"mb-1 flex text-base font-medium\"\n                      >\n                        Seats\n                      </Label>\n                      <div className=\"relative flex items-center\">\n                        <Input\n                          id=\"seats\"\n                          type=\"number\"\n                          min={minSeats}\n                          max={maxSeats}\n                          value={seats}\n                          onChange={(e) => handleSeatsChange(e.target.value)}\n                          className=\"h-12 w-full rounded-full border border-border ps-5 pe-20 text-sm focus:border-foreground focus:ring-foreground\"\n                        />\n                        <div className=\"absolute end-2 flex gap-0\">\n                          <Button\n                            type=\"button\"\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8 rounded-full border-none hover:bg-muted\"\n                            onClick={handleDecrementSeats}\n                            disabled={seats <= minSeats}\n                          >\n                            <Minus className=\"h-5 w-5\" />\n                          </Button>\n                          <Button\n                            type=\"button\"\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className=\"h-8 w-8 rounded-full border-none hover:bg-muted\"\n                            onClick={handleIncrementSeats}\n                            disabled={seats >= maxSeats}\n                          >\n                            <Plus className=\"h-5 w-5\" />\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex flex-col gap-1.5\">\n                      <label className=\"font-medium\">Plan Summary</label>\n                      <div className=\"flex flex-col gap-6 rounded-3xl border border-border p-5\">\n                        <div\n                          role=\"group\"\n                          className=\"bg-muted cursor-pointer rounded-full p-1 select-none\"\n                          tabIndex={0}\n                        >\n                          <div className=\"relative grid h-full grid-cols-2 gap-1\">\n                            <div className=\"relative z-10 h-full px-3 text-center font-medium py-1.5 text-sm\">\n                              <button\n                                type=\"button\"\n                                onClick={() => setBillingPeriod(\"yearly\")}\n                                className={`box-content h-full w-full ${\n                                  billingPeriod === \"yearly\"\n                                    ? \"text-foreground\"\n                                    : \"text-muted-foreground\"\n                                }`}\n                              >\n                                <div className=\"flex flex-wrap justify-center gap-1 text-center\">\n                                  Yearly\n                                  <span className=\"text-[#10A37F]\">\n                                    ({discountPercentage}% off)\n                                  </span>\n                                </div>\n                              </button>\n                              {billingPeriod === \"yearly\" && (\n                                <div className=\"bg-background absolute inset-0 -z-10 box-content h-full rounded-full shadow-sm\" />\n                              )}\n                            </div>\n                            <div className=\"relative z-10 h-full px-3 text-center font-medium py-1.5 text-sm\">\n                              <button\n                                type=\"button\"\n                                onClick={() => setBillingPeriod(\"monthly\")}\n                                className={`box-content h-full w-full ${\n                                  billingPeriod === \"monthly\"\n                                    ? \"text-foreground\"\n                                    : \"text-muted-foreground\"\n                                }`}\n                              >\n                                Monthly\n                              </button>\n                              {billingPeriod === \"monthly\" && (\n                                <div className=\"bg-background absolute inset-0 -z-10 box-content h-full rounded-full shadow-sm\" />\n                              )}\n                            </div>\n                          </div>\n                        </div>\n\n                        <div className=\"flex grow flex-col text-sm\">\n                          <div className=\"text-muted-foreground flex w-full justify-between text-sm\">\n                            <div className=\"flex\">HackerAI Team</div>\n                            <div className=\"flex\">\n                              ${formatNumber(fullPrice)}\n                            </div>\n                          </div>\n                          <div className=\"text-muted-foreground/70 flex w-full justify-between text-xs\">\n                            <div className=\"flex\">\n                              {seats} users\n                              {billingPeriod === \"yearly\" ? \" x 12 months\" : \"\"}\n                            </div>\n                            <div className=\"flex\">\n                              $\n                              {formatNumber(\n                                billingPeriod === \"yearly\"\n                                  ? 40 * 12\n                                  : pricePerSeat,\n                              )}\n                              /seat\n                            </div>\n                          </div>\n\n                          {billingPeriod === \"yearly\" && discount > 0 && (\n                            <>\n                              <div className=\"text-muted-foreground flex w-full justify-between text-sm mt-3\">\n                                <div className=\"flex\">Discount</div>\n                                <div className=\"flex font-medium text-[#10A37F]\">\n                                  -${formatNumber(discount)}\n                                </div>\n                              </div>\n                              <div className=\"text-muted-foreground/70 text-xs\">\n                                Yearly (-{discountPercentage}%)\n                              </div>\n                            </>\n                          )}\n\n                          <hr className=\"border-border my-3\" />\n\n                          <div className=\"flex w-full justify-between text-base font-medium\">\n                            <div className=\"flex\">Today&apos;s total</div>\n                            <div className=\"flex\">\n                              USD $\n                              {formatNumber(\n                                billingPeriod === \"yearly\"\n                                  ? seats * 33 * 12\n                                  : totalPrice,\n                              )}\n                            </div>\n                          </div>\n\n                          <div className=\"text-muted-foreground/70 mt-2 text-xs\">\n                            Billed{\" \"}\n                            {billingPeriod === \"monthly\" ? \"monthly\" : \"yearly\"}{\" \"}\n                            starting today\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {upgradeError && (\n                    <div className=\"mt-4 text-sm text-red-500\">\n                      {upgradeError}\n                    </div>\n                  )}\n\n                  <div className=\"flex flex-col gap-3 pb-10\">\n                    <Button\n                      onClick={handleContinue}\n                      disabled={upgradeLoading}\n                      className=\"w-full rounded-xl bg-[#10A37F] hover:bg-[#0d8f6f] text-white\"\n                      size=\"lg\"\n                    >\n                      {upgradeLoading ? (\n                        <>\n                          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                          Processing...\n                        </>\n                      ) : (\n                        \"Continue to billing\"\n                      )}\n                    </Button>\n                    <Button\n                      variant=\"ghost\"\n                      onClick={onClose}\n                      disabled={upgradeLoading}\n                      className=\"w-full rounded-xl\"\n                      size=\"lg\"\n                    >\n                      Cancel\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Desktop View */}\n            <div className=\"hidden md:grid grid-flow-row grid-cols-1 md:h-full md:grid-cols-2\">\n              {/* Left Column - Plan Selection */}\n              <div className=\"flex-column col-span-1 flex justify-center p-5\">\n                <div className=\"flex w-full max-w-[400px] flex-col items-center md:max-w-[600px]\">\n                  <button\n                    onClick={onClose}\n                    className=\"text-foreground self-start mt-8 mb-6 opacity-50 transition hover:opacity-75 md:fixed md:start-4 md:top-4 md:mt-0\"\n                  >\n                    <X className=\"h-6 w-6\" />\n                  </button>\n\n                  <div className=\"mb-8 text-3xl font-medium md:mt-[120px]\">\n                    Pick your plan\n                  </div>\n\n                  {subscription === \"pro\" && (\n                    <div className=\"text-sm text-muted-foreground bg-muted/50 rounded-lg px-4 py-2 mb-6 text-center\">\n                      Your remaining Pro subscription time will be credited\n                      toward Team\n                    </div>\n                  )}\n\n                  <RadioGroup\n                    value={billingPeriod}\n                    onValueChange={(value: string) =>\n                      setBillingPeriod(value as \"monthly\" | \"yearly\")\n                    }\n                    className=\"col-span-3 mb-6 grid w-full gap-4 md:col-span-2 md:grid-cols-2\"\n                  >\n                    {/* Yearly Plan */}\n                    <div className=\"relative\">\n                      <Badge className=\"absolute start-3 top-0 -translate-y-1/2 px-2 py-1 text-xs font-medium rounded-xl bg-[#10A37F] text-white border-none z-10\">\n                        Save {discountPercentage}%\n                      </Badge>\n                      <label\n                        htmlFor=\"yearly\"\n                        className={`relative flex cursor-pointer flex-col rounded-xl p-5 text-start align-top transition-[border-color] duration-100 hover:border-foreground md:min-h-[300px] ${\n                          billingPeriod === \"yearly\"\n                            ? \"border-2 border-foreground\"\n                            : \"m-[1px] border border-border\"\n                        }`}\n                      >\n                        <div className=\"flex w-full items-center justify-between\">\n                          <div className=\"text-xl font-medium\">Yearly</div>\n                          <RadioGroupItem value=\"yearly\" id=\"yearly\" />\n                        </div>\n                        <div className=\"flex flex-col gap-3 text-muted-foreground text-sm mt-3\">\n                          <div>\n                            <p className=\"text-foreground\">\n                              USD $33{\" \"}\n                              <s className=\"text-muted-foreground\">$40</s>\n                            </p>\n                            <p>per user/month</p>\n                          </div>\n                          <ul className=\"ms-3 list-disc\">\n                            <li className=\"marker:text-muted-foreground mb-2\">\n                              Billed yearly\n                            </li>\n                            <li className=\"marker:text-muted-foreground mb-2\">\n                              Minimum 2 users\n                            </li>\n                            <li className=\"marker:text-muted-foreground mb-2\">\n                              Add and reassign users as needed\n                            </li>\n                          </ul>\n                        </div>\n                      </label>\n                    </div>\n\n                    {/* Monthly Plan */}\n                    <label\n                      htmlFor=\"monthly\"\n                      className={`relative flex cursor-pointer flex-col rounded-xl p-5 text-start align-top transition-[border-color] duration-100 hover:border-foreground md:min-h-[300px] ${\n                        billingPeriod === \"monthly\"\n                          ? \"border-2 border-foreground\"\n                          : \"m-[1px] border border-border\"\n                      }`}\n                    >\n                      <div className=\"flex w-full items-center justify-between\">\n                        <div className=\"text-xl font-medium\">Monthly</div>\n                        <RadioGroupItem value=\"monthly\" id=\"monthly\" />\n                      </div>\n                      <div className=\"flex flex-col gap-3 text-muted-foreground text-sm mt-3\">\n                        <div>\n                          <p className=\"text-foreground\">USD $40</p>\n                          <p>per user/month</p>\n                        </div>\n                        <ul className=\"ms-3 list-disc\">\n                          <li className=\"marker:text-muted-foreground mb-2\">\n                            Billed monthly\n                          </li>\n                          <li className=\"marker:text-muted-foreground mb-2\">\n                            Minimum 2 users\n                          </li>\n                          <li className=\"marker:text-muted-foreground mb-2\">\n                            Add or remove users as needed\n                          </li>\n                        </ul>\n                      </div>\n                    </label>\n                  </RadioGroup>\n\n                  <div className=\"mb-3 flex w-full flex-col\">\n                    <Label\n                      htmlFor=\"seats-desktop\"\n                      className=\"mb-1 flex text-base font-medium\"\n                    >\n                      Users\n                    </Label>\n                    <div className=\"relative flex items-center gap-3\">\n                      <Input\n                        id=\"seats-desktop\"\n                        type=\"number\"\n                        min={minSeats}\n                        max={maxSeats}\n                        value={seats}\n                        onChange={(e) => handleSeatsChange(e.target.value)}\n                        className=\"h-12 w-full rounded-lg border border-border px-5 text-sm focus:border-foreground focus:ring-foreground\"\n                      />\n                      <div className=\"flex gap-1.5\">\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-12 w-12 rounded-lg\"\n                          onClick={handleDecrementSeats}\n                          disabled={seats <= minSeats}\n                        >\n                          <Minus className=\"h-5 w-5\" />\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          variant=\"outline\"\n                          size=\"icon\"\n                          className=\"h-12 w-12 rounded-lg\"\n                          onClick={handleIncrementSeats}\n                          disabled={seats >= maxSeats}\n                        >\n                          <Plus className=\"h-5 w-5\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"text-muted-foreground self-start text-xs\">\n                    Add more seats at any time. Minimum of {minSeats} seats.\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Column - Summary */}\n              <div className=\"col-span-3 flex h-full flex-col items-center overflow-hidden p-6 md:col-span-1 md:shadow-lg\">\n                <div className=\"flex w-full max-w-[400px] flex-col md:mt-[120px]\">\n                  <p className=\"mb-8 text-xl font-medium\">Summary</p>\n\n                  <div className=\"flex grow flex-col text-sm\">\n                    <div className=\"text-muted-foreground flex w-full justify-between text-sm\">\n                      <div className=\"flex\">HackerAI Team</div>\n                      <div className=\"flex\">${formatNumber(fullPrice)}</div>\n                    </div>\n                    <div className=\"text-muted-foreground/70 flex w-full justify-between text-xs\">\n                      <div className=\"flex\">{seats} users</div>\n                      <div className=\"flex\">\n                        $\n                        {formatNumber(\n                          billingPeriod === \"yearly\" ? 40 * 12 : pricePerSeat,\n                        )}\n                        /seat\n                      </div>\n                    </div>\n\n                    {billingPeriod === \"yearly\" && discount > 0 && (\n                      <div className=\"text-muted-foreground flex w-full justify-between text-sm mt-2\">\n                        <div className=\"flex\">Discount</div>\n                        <div className=\"flex\">-${formatNumber(discount)}</div>\n                      </div>\n                    )}\n                    {billingPeriod === \"yearly\" && discount > 0 && (\n                      <div className=\"text-muted-foreground/70 flex w-full justify-between text-xs\">\n                        <div className=\"flex\">\n                          Yearly (-{discountPercentage}%)\n                        </div>\n                      </div>\n                    )}\n\n                    <hr className=\"border-border my-3\" />\n\n                    <div className=\"flex w-full justify-between text-base font-medium\">\n                      <div className=\"flex\">Today&apos;s total</div>\n                      <div className=\"flex\">\n                        USD $\n                        {formatNumber(\n                          billingPeriod === \"yearly\"\n                            ? seats * 33 * 12\n                            : totalPrice,\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"text-muted-foreground/70 mt-2 text-xs\">\n                      Billed{\" \"}\n                      {billingPeriod === \"monthly\" ? \"monthly\" : \"yearly\"}{\" \"}\n                      starting today\n                    </div>\n                  </div>\n\n                  {upgradeError && (\n                    <div className=\"mt-4 text-sm text-red-500\">\n                      {upgradeError}\n                    </div>\n                  )}\n\n                  <Button\n                    onClick={handleContinue}\n                    disabled={upgradeLoading}\n                    className=\"mt-8 w-full rounded-xl bg-[#10A37F] hover:bg-[#0d8f6f] text-white\"\n                    size=\"lg\"\n                  >\n                    {upgradeLoading ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        Processing...\n                      </>\n                    ) : (\n                      \"Continue to billing\"\n                    )}\n                  </Button>\n\n                  <Button\n                    variant=\"ghost\"\n                    onClick={onClose}\n                    disabled={upgradeLoading}\n                    className=\"mt-4 w-full rounded-xl\"\n                    size=\"lg\"\n                  >\n                    Cancel\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport default TeamPricingDialog;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7558, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/TeamDialogs.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Loader2, Plus, Minus } from \"lucide-react\";\n\ninterface TeamMember {\n  id: string;\n  userId: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: string;\n  createdAt: string;\n  isCurrentUser: boolean;\n}\n\ninterface PendingInvitation {\n  id: string;\n  email: string;\n  role: string;\n  invitedAt: string;\n  expiresAt: string;\n}\n\ninterface TeamDialogsProps {\n  // Invite dialog props\n  showInviteDialog: boolean;\n  setShowInviteDialog: (show: boolean) => void;\n  inviteEmail: string;\n  setInviteEmail: (email: string) => void;\n  inviting: boolean;\n  handleInvite: (e: React.FormEvent) => void;\n\n  // Remove member dialog props\n  memberToRemove: TeamMember | null;\n  setMemberToRemove: (member: TeamMember | null) => void;\n  removing: string | null;\n  handleRemove: () => void;\n\n  // Revoke invitation dialog props\n  inviteToRevoke: PendingInvitation | null;\n  setInviteToRevoke: (invitation: PendingInvitation | null) => void;\n  revokingInvite: string | null;\n  handleRevokeInvite: () => void;\n\n  // Leave team dialog props\n  showLeaveDialog: boolean;\n  setShowLeaveDialog: (show: boolean) => void;\n  leaving: boolean;\n  handleLeaveTeam: () => void;\n}\n\nexport const TeamDialogs = ({\n  showInviteDialog,\n  setShowInviteDialog,\n  inviteEmail,\n  setInviteEmail,\n  inviting,\n  handleInvite,\n  memberToRemove,\n  setMemberToRemove,\n  removing,\n  handleRemove,\n  inviteToRevoke,\n  setInviteToRevoke,\n  revokingInvite,\n  handleRevokeInvite,\n  showLeaveDialog,\n  setShowLeaveDialog,\n  leaving,\n  handleLeaveTeam,\n}: TeamDialogsProps) => {\n  return (\n    <>\n      {/* Invite Member Dialog */}\n      <Dialog\n        open={showInviteDialog}\n        onOpenChange={(open) => {\n          setShowInviteDialog(open);\n          if (!open) {\n            setInviteEmail(\"\");\n          }\n        }}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Invite team member</DialogTitle>\n            <DialogDescription>\n              Send an invitation to join your team. If they already have an\n              account, they&apos;ll need to log out and log back in after\n              accepting the invite to access the team subscription.\n            </DialogDescription>\n          </DialogHeader>\n          <form onSubmit={handleInvite}>\n            <div className=\"space-y-4 py-4\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"email\" className=\"text-sm font-medium\">\n                  Email address\n                </label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"colleague@company.com\"\n                  value={inviteEmail}\n                  onChange={(e) => setInviteEmail(e.target.value)}\n                  disabled={inviting}\n                />\n              </div>\n            </div>\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowInviteDialog(false);\n                  setInviteEmail(\"\");\n                }}\n                disabled={inviting}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={inviting}>\n                {inviting ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                    Sending...\n                  </>\n                ) : (\n                  \"Send invitation\"\n                )}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Remove Member Confirmation Dialog */}\n      <Dialog\n        open={!!memberToRemove}\n        onOpenChange={(open) => !open && setMemberToRemove(null)}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Remove team member</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to remove{\" \"}\n              <span className=\"font-medium text-foreground\">\n                {memberToRemove?.email}\n              </span>{\" \"}\n              from your team? This action cannot be undone.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setMemberToRemove(null)}\n              disabled={removing === memberToRemove?.id}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleRemove}\n              disabled={removing === memberToRemove?.id}\n            >\n              {removing === memberToRemove?.id ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  Removing...\n                </>\n              ) : (\n                \"Remove member\"\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Revoke Invitation Confirmation Dialog */}\n      <Dialog\n        open={!!inviteToRevoke}\n        onOpenChange={(open) => !open && setInviteToRevoke(null)}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Revoke invitation</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to revoke the invitation for{\" \"}\n              <span className=\"font-medium text-foreground\">\n                {inviteToRevoke?.email}\n              </span>\n              ? They will no longer be able to join your team using this\n              invitation.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setInviteToRevoke(null)}\n              disabled={revokingInvite === inviteToRevoke?.id}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleRevokeInvite}\n              disabled={revokingInvite === inviteToRevoke?.id}\n            >\n              {revokingInvite === inviteToRevoke?.id ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  Revoking...\n                </>\n              ) : (\n                \"Revoke invitation\"\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Decrease Seats Dialog - Removed, now using ManageSeatsDialog in TeamTab */}\n\n      {/* Leave Team Dialog */}\n      <Dialog\n        open={showLeaveDialog}\n        onOpenChange={(open) => !open && setShowLeaveDialog(false)}\n      >\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Leave team</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to leave this team? You will lose access to\n              all team plan features and will need to be re-invited to join\n              again.\n            </DialogDescription>\n          </DialogHeader>\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowLeaveDialog(false)}\n              disabled={leaving}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleLeaveTeam}\n              disabled={leaving}\n            >\n              {leaving ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  Leaving...\n                </>\n              ) : (\n                \"Leave team\"\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nexport const TeamWelcomeDialog = ({\n  open,\n  onOpenChange,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}) => {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Welcome to Team Plan! </DialogTitle>\n          <DialogDescription>\n            Thanks for subscribing to the Team plan! You can now add members to\n            your team through Settings  Team tab.\n          </DialogDescription>\n        </DialogHeader>\n        <DialogFooter>\n          <Button onClick={() => onOpenChange(false)}>Got it</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport const InviteAcceptedDialog = ({\n  open,\n  onOpenChange,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}) => {\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>Welcome to the team! </DialogTitle>\n          <DialogDescription>\n            You&apos;ve successfully joined the team. You now have access to all\n            team plan features.\n          </DialogDescription>\n        </DialogHeader>\n        <DialogFooter>\n          <Button onClick={() => onOpenChange(false)}>Got it</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\ninterface SeatPreview {\n  currentQuantity: number;\n  newQuantity: number;\n  seatsDelta: number;\n  proratedCharge: number;\n  proratedCredit: number;\n  totalDue: number;\n  pricePerSeat: number;\n  proratedPerSeat: number;\n  paymentMethod: string;\n  currentPeriodEnd: number;\n  nextInvoiceAmount: number;\n  isIncrease: boolean;\n  isYearly: boolean;\n  totalUsed: number;\n}\n\nconst formatUnixDate = (ts?: number) =>\n  typeof ts === \"number\" && Number.isFinite(ts) && ts > 0\n    ? new Date(ts * 1000).toLocaleDateString()\n    : \"\";\n\nexport const ManageSeatsDialog = ({\n  open,\n  onOpenChange,\n  currentSeats,\n  totalUsedSeats,\n  onSuccess,\n}: {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  currentSeats: number;\n  totalUsedSeats: number;\n  onSuccess: () => void;\n}) => {\n  const [targetSeats, setTargetSeats] = useState(currentSeats);\n  const [preview, setPreview] = useState<SeatPreview | null>(null);\n  const [loadingPreview, setLoadingPreview] = useState(false);\n  const [confirming, setConfirming] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const seatsDelta = targetSeats - currentSeats;\n  const isIncrease = seatsDelta > 0;\n  const isDecrease = seatsDelta < 0;\n  const maxSeats = 999;\n  const minSeats = Math.max(2, totalUsedSeats);\n\n  // Fetch preview when dialog opens or targetSeats changes\n  useEffect(() => {\n    if (!open || targetSeats === currentSeats) {\n      setPreview(null);\n      return;\n    }\n\n    const fetchPreview = async () => {\n      setLoadingPreview(true);\n      setError(\"\");\n      try {\n        const res = await fetch(\"/api/team/seats\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ quantity: targetSeats }),\n        });\n\n        if (!res.ok) {\n          const data = await res.json();\n          throw new Error(data.error || \"Failed to fetch preview\");\n        }\n\n        const data = await res.json();\n        setPreview(data);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Failed to load preview\");\n        setPreview(null);\n      } finally {\n        setLoadingPreview(false);\n      }\n    };\n\n    const debounce = setTimeout(fetchPreview, 300);\n    return () => clearTimeout(debounce);\n  }, [open, targetSeats, currentSeats]);\n\n  // Reset state when dialog opens\n  useEffect(() => {\n    if (open) {\n      setTargetSeats(currentSeats);\n      setError(\"\");\n      setPreview(null);\n    }\n  }, [open, currentSeats]);\n\n  const handleConfirm = async () => {\n    setConfirming(true);\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"/api/team/seats\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ quantity: targetSeats }),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || \"Failed to update seats\");\n      }\n\n      if (data.success) {\n        onOpenChange(false);\n        onSuccess();\n      } else if (data.requiresPayment && data.invoiceUrl) {\n        window.location.href = data.invoiceUrl;\n      } else {\n        throw new Error(data.message || \"Failed to update seats\");\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to update seats\");\n    } finally {\n      setConfirming(false);\n    }\n  };\n\n  const getButtonText = () => {\n    if (confirming) return null;\n    if (!preview || seatsDelta === 0) return \"Select seat count\";\n\n    if (isIncrease) {\n      return `Add ${seatsDelta} seat${seatsDelta > 1 ? \"s\" : \"\"} for $${preview.totalDue.toFixed(2)}`;\n    } else {\n      return `Remove ${Math.abs(seatsDelta)} seat${Math.abs(seatsDelta) > 1 ? \"s\" : \"\"} (+$${preview.proratedCredit.toFixed(2)} credit)`;\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[480px]\">\n        <DialogHeader>\n          <DialogTitle>Manage seats</DialogTitle>\n          <DialogDescription>\n            Adjust the number of seats for your team. Adding seats charges a\n            prorated amount; removing seats applies a credit to your account.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* Seat Selector */}\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Number of seats</label>\n            <div className=\"flex items-center gap-3\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={() =>\n                  setTargetSeats(Math.max(minSeats, targetSeats - 1))\n                }\n                disabled={targetSeats <= minSeats || confirming}\n              >\n                <Minus className=\"h-4 w-4\" />\n              </Button>\n              <Input\n                type=\"number\"\n                min={minSeats}\n                max={maxSeats}\n                value={targetSeats}\n                onChange={(e) => {\n                  const val = parseInt(e.target.value) || currentSeats;\n                  setTargetSeats(Math.min(maxSeats, Math.max(minSeats, val)));\n                }}\n                className=\"w-24 text-center\"\n                disabled={confirming}\n              />\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"icon\"\n                onClick={() =>\n                  setTargetSeats(Math.min(maxSeats, targetSeats + 1))\n                }\n                disabled={targetSeats >= maxSeats || confirming}\n              >\n                <Plus className=\"h-4 w-4\" />\n              </Button>\n              <span className=\"text-sm text-muted-foreground\">\n                {seatsDelta === 0\n                  ? `${currentSeats} seats (no change)`\n                  : isIncrease\n                    ? `(+${seatsDelta} new)`\n                    : `(${seatsDelta} fewer)`}\n              </span>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Currently using {totalUsedSeats} of {currentSeats} seats\n            </p>\n          </div>\n\n          {/* Preview Section */}\n          {loadingPreview ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n            </div>\n          ) : preview && seatsDelta !== 0 ? (\n            <div className=\"space-y-4 rounded-lg border p-4\">\n              <div className=\"flex justify-between text-sm\">\n                <span>\n                  {isIncrease ? \"Additional seats\" : \"Seats to remove\"}\n                </span>\n                <span className=\"font-medium\">\n                  {isIncrease ? `+${seatsDelta}` : seatsDelta}\n                </span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span>\n                  {isIncrease ? \"Prorated charge\" : \"Prorated credit\"}\n                  <span className=\"text-muted-foreground ml-1\">\n                    (~${preview.proratedPerSeat.toFixed(2)}/seat)\n                  </span>\n                </span>\n                <span\n                  className={`font-medium ${isDecrease ? \"text-green-600\" : \"\"}`}\n                >\n                  {isIncrease\n                    ? `$${preview.proratedCharge.toFixed(2)}`\n                    : `+$${preview.proratedCredit.toFixed(2)}`}\n                </span>\n              </div>\n              <div className=\"border-t pt-3 flex justify-between\">\n                <span className=\"font-medium\">\n                  {isIncrease ? \"Total due today\" : \"Credit to account\"}\n                </span>\n                <span\n                  className={`font-semibold text-lg ${isDecrease ? \"text-green-600\" : \"\"}`}\n                >\n                  {isIncrease\n                    ? `$${preview.totalDue.toFixed(2)}`\n                    : `+$${preview.proratedCredit.toFixed(2)}`}\n                </span>\n              </div>\n              {preview.paymentMethod && isIncrease && (\n                <div className=\"flex justify-between text-sm text-muted-foreground\">\n                  <span>Payment method</span>\n                  <span>{preview.paymentMethod}</span>\n                </div>\n              )}\n              <div className=\"flex justify-between text-sm text-muted-foreground\">\n                <span>\n                  Next invoice\n                  {formatUnixDate(preview.currentPeriodEnd) &&\n                    ` (${formatUnixDate(preview.currentPeriodEnd)})`}\n                </span>\n                <span>${preview.nextInvoiceAmount.toFixed(2)}</span>\n              </div>\n            </div>\n          ) : null}\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-md\">\n              <p className=\"text-sm text-red-600 dark:text-red-400\">{error}</p>\n            </div>\n          )}\n        </div>\n\n        <DialogFooter>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={confirming}\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleConfirm}\n            disabled={\n              confirming || loadingPreview || !preview || seatsDelta === 0\n            }\n          >\n            {confirming ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                Processing...\n              </>\n            ) : (\n              getButtonText()\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8577, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />;\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  );\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  );\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  );\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,4YAAC,uYAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,4YAAC,0YAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,4YAAC,yYAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,4YAAC,0YAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,4YAAC;;0BACC,4YAAC;;;;;0BACD,4YAAC,0YAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,4YAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,4YAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,4YAAC,wYAA0B;QACzB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,4YAAC,8YAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4YAAC,yYAA2B;QAC1B,WAAW,IAAA,qHAAE,EAAC,IAAA,gJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,4YAAC,yYAA2B;QAC1B,WAAW,IAAA,qHAAE,EAAC,IAAA,gJAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS"}},
    {"offset": {"line": 8772, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/components/MigratePentestgptDialog.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\n\ntype MigratePentestgptDialogProps = {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  isMigrating: boolean;\n  onConfirm: () => void;\n};\n\nexport const MigratePentestgptDialog: React.FC<\n  MigratePentestgptDialogProps\n> = ({ open, onOpenChange, isMigrating, onConfirm }) => {\n  return (\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\n      <AlertDialogContent>\n        <AlertDialogHeader>\n          <AlertDialogTitle>Confirm migration</AlertDialogTitle>\n          <AlertDialogDescription>\n            Migrating will transfer your active PentestGPT subscription to\n            HackerAI. You will lose access to your plan on PentestGPT. Do you\n            want to continue?\n          </AlertDialogDescription>\n        </AlertDialogHeader>\n        <AlertDialogFooter>\n          <AlertDialogCancel disabled={isMigrating}>Cancel</AlertDialogCancel>\n          <AlertDialogAction onClick={onConfirm} disabled={isMigrating}>\n            {isMigrating ? \"Migrating...\" : \"Confirm\"}\n          </AlertDialogAction>\n        </AlertDialogFooter>\n      </AlertDialogContent>\n    </AlertDialog>\n  );\n};\n\nexport default MigratePentestgptDialog;\n"],"names":[],"mappings":";;;;;;;AAGA;AAHA;;;AAqBO,MAAM,0BAET,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,EAAE;IACjD,qBACE,4YAAC,sJAAW;QAAC,MAAM;QAAM,cAAc;kBACrC,cAAA,4YAAC,6JAAkB;;8BACjB,4YAAC,4JAAiB;;sCAChB,4YAAC,2JAAgB;sCAAC;;;;;;sCAClB,4YAAC,iKAAsB;sCAAC;;;;;;;;;;;;8BAM1B,4YAAC,4JAAiB;;sCAChB,4YAAC,4JAAiB;4BAAC,UAAU;sCAAa;;;;;;sCAC1C,4YAAC,4JAAiB;4BAAC,SAAS;4BAAW,UAAU;sCAC9C,cAAc,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAM5C;KAvBa;uCAyBE"}},
    {"offset": {"line": 8859, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/hooks/usePentestgptMigration.ts"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { toast } from \"sonner\";\nimport { useGlobalState } from \"@/app/contexts/GlobalState\";\n\ntype UsePentestgptMigration = {\n  isMigrating: boolean;\n  migrate: () => Promise<void>;\n};\n\nexport const usePentestgptMigration = (): UsePentestgptMigration => {\n  const { setMigrateFromPentestgptDialogOpen } = useGlobalState();\n  const [isMigrating, setIsMigrating] = React.useState(false);\n\n  const migrate = React.useCallback(async () => {\n    if (isMigrating) return;\n    setIsMigrating(true);\n    try {\n      const response = await fetch(\"/api/migrate-pentestgpt\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      const data = await response.json();\n\n      if (!response.ok) {\n        const errorMessage = data.message || data.error || \"Migration failed\";\n        toast.error(errorMessage);\n        setMigrateFromPentestgptDialogOpen(false);\n        return;\n      }\n\n      toast.success(\"Migration complete. Updating your account...\");\n\n      try {\n        const url = new URL(window.location.href);\n        url.searchParams.set(\"refresh\", \"entitlements\");\n        url.searchParams.delete(\"confirm-migrate-pentestgpt\");\n        if (data?.showTeamWelcome) {\n          url.searchParams.set(\"team-welcome\", \"true\");\n        }\n        window.location.replace(url.toString());\n      } catch {\n        try {\n          await fetch(\"/api/entitlements\", { credentials: \"include\" });\n        } catch {}\n        window.location.reload();\n      }\n    } catch (error) {\n      toast.error(\"An unexpected error occurred during migration\");\n      setMigrateFromPentestgptDialogOpen(false);\n    } finally {\n      setIsMigrating(false);\n    }\n  }, [isMigrating, setMigrateFromPentestgptDialogOpen]);\n\n  return { isMigrating, migrate };\n};\n\nexport default usePentestgptMigration;\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;;AAJA;;;;AAWO,MAAM,yBAAyB;;IACpC,MAAM,EAAE,kCAAkC,EAAE,GAAG,IAAA,oJAAc;IAC7D,MAAM,CAAC,aAAa,eAAe,GAAG,uXAAK,CAAC,QAAQ,CAAC;IAErD,MAAM,UAAU,uXAAK,CAAC,WAAW;uDAAC;YAChC,IAAI,aAAa;YACjB,eAAe;YACf,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,2BAA2B;oBACtD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;gBAChD;gBACA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,eAAe,KAAK,OAAO,IAAI,KAAK,KAAK,IAAI;oBACnD,oRAAK,CAAC,KAAK,CAAC;oBACZ,mCAAmC;oBACnC;gBACF;gBAEA,oRAAK,CAAC,OAAO,CAAC;gBAEd,IAAI;oBACF,MAAM,MAAM,IAAI,IAAI,OAAO,QAAQ,CAAC,IAAI;oBACxC,IAAI,YAAY,CAAC,GAAG,CAAC,WAAW;oBAChC,IAAI,YAAY,CAAC,MAAM,CAAC;oBACxB,IAAI,MAAM,iBAAiB;wBACzB,IAAI,YAAY,CAAC,GAAG,CAAC,gBAAgB;oBACvC;oBACA,OAAO,QAAQ,CAAC,OAAO,CAAC,IAAI,QAAQ;gBACtC,EAAE,OAAM;oBACN,IAAI;wBACF,MAAM,MAAM,qBAAqB;4BAAE,aAAa;wBAAU;oBAC5D,EAAE,OAAM,CAAC;oBACT,OAAO,QAAQ,CAAC,MAAM;gBACxB;YACF,EAAE,OAAO,OAAO;gBACd,oRAAK,CAAC,KAAK,CAAC;gBACZ,mCAAmC;YACrC,SAAU;gBACR,eAAe;YACjB;QACF;sDAAG;QAAC;QAAa;KAAmC;IAEpD,OAAO;QAAE;QAAa;IAAQ;AAChC;GA9Ca;;QACoC,oJAAc;;;uCA+ChD"}},
    {"offset": {"line": 8941, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { ChatInput } from \"./components/ChatInput\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport { Chat } from \"./components/chat\";\nimport PricingDialog from \"./components/PricingDialog\";\nimport TeamPricingDialog from \"./components/TeamPricingDialog\";\nimport { TeamWelcomeDialog } from \"./components/TeamDialogs\";\nimport MigratePentestgptDialog from \"./components/MigratePentestgptDialog\";\nimport { usePricingDialog } from \"./hooks/usePricingDialog\";\nimport { useGlobalState } from \"./contexts/GlobalState\";\nimport { usePentestgptMigration } from \"./hooks/usePentestgptMigration\";\n\n// Simple unauthenticated content that redirects to login on message send\nconst UnauthenticatedContent = () => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Preserve input draft for later; redirect to login\n    window.location.href = \"/login\";\n  };\n\n  const handleStop = () => {\n    // No-op for unauthenticated users\n  };\n\n  return (\n    <div className=\"h-full bg-background flex flex-col overflow-hidden\">\n      <div className=\"flex-shrink-0\">\n        <Header />\n      </div>\n\n      <div className=\"flex-1 flex flex-col min-h-0\">\n        {/* Centered content area */}\n        <div className=\"flex-1 flex flex-col items-center justify-center px-4 py-8 min-h-0\">\n          <div className=\"w-full max-w-full sm:max-w-[768px] sm:min-w-[390px] flex flex-col items-center space-y-8\">\n            {/* Centered title */}\n            <div className=\"text-center\">\n              <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n                HackerAI\n              </h1>\n              <p className=\"text-muted-foreground\">Your AI pentest assistant</p>\n            </div>\n\n            {/* Centered input */}\n            <div className=\"w-full\">\n              <ChatInput\n                onSubmit={handleSubmit}\n                onStop={handleStop}\n                onSendNow={() => {}}\n                status=\"ready\"\n                isCentered={true}\n                isNewChat={true}\n                clearDraftOnSubmit={false}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex-shrink-0\">\n          <Footer />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Authenticated content that shows chat (UUID generated internally)\nconst AuthenticatedContent = () => {\n  return <Chat autoResume={false} />;\n};\n\n// Main page component\nexport default function Page() {\n  const {\n    subscription,\n    teamPricingDialogOpen,\n    setTeamPricingDialogOpen,\n    teamWelcomeDialogOpen,\n    setTeamWelcomeDialogOpen,\n    migrateFromPentestgptDialogOpen,\n    setMigrateFromPentestgptDialogOpen,\n  } = useGlobalState();\n  const { showPricing, handleClosePricing } = usePricingDialog(subscription);\n\n  const { isMigrating, migrate } = usePentestgptMigration();\n  const searchParams =\n    typeof window !== \"undefined\" ? window.location.search : \"\";\n  const { initialSeats, initialPlan } = React.useMemo(() => {\n    if (typeof window === \"undefined\") {\n      return { initialSeats: 5, initialPlan: \"monthly\" as const };\n    }\n    const urlParams = new URLSearchParams(searchParams);\n    const urlSeats = urlParams.get(\"numSeats\");\n    const urlPlan = urlParams.get(\"selectedPlan\");\n\n    let seats = 5;\n    if (urlSeats) {\n      const parsed = parseInt(urlSeats, 10);\n      if (!isNaN(parsed) && parsed >= 1) {\n        seats = parsed;\n      }\n    }\n\n    const plan = (urlPlan === \"yearly\" ? \"yearly\" : \"monthly\") as\n      | \"monthly\"\n      | \"yearly\";\n\n    return { initialSeats: seats, initialPlan: plan };\n  }, [searchParams]);\n\n  return (\n    <>\n      <AuthenticatedContent />\n      <PricingDialog isOpen={showPricing} onClose={handleClosePricing} />\n      <TeamPricingDialog\n        isOpen={teamPricingDialogOpen}\n        onClose={() => setTeamPricingDialogOpen(false)}\n        initialSeats={initialSeats}\n        initialPlan={initialPlan}\n      />\n      <TeamWelcomeDialog\n        open={teamWelcomeDialogOpen}\n        onOpenChange={setTeamWelcomeDialogOpen}\n      />\n      <MigratePentestgptDialog\n        open={migrateFromPentestgptDialogOpen}\n        onOpenChange={setMigrateFromPentestgptDialogOpen}\n        isMigrating={isMigrating}\n        onConfirm={migrate}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAbA;;;;;;;;;;;;;AAeA,yEAAyE;AACzE,MAAM,yBAAyB;IAC7B,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,oDAAoD;QACpD,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,aAAa;IACjB,kCAAkC;IACpC;IAEA,qBACE,4YAAC;QAAI,WAAU;;0BACb,4YAAC;gBAAI,WAAU;0BACb,cAAA,4YAAC,0IAAM;;;;;;;;;;0BAGT,4YAAC;gBAAI,WAAU;;kCAEb,4YAAC;wBAAI,WAAU;kCACb,cAAA,4YAAC;4BAAI,WAAU;;8CAEb,4YAAC;oCAAI,WAAU;;sDACb,4YAAC;4CAAG,WAAU;sDAA0C;;;;;;sDAGxD,4YAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;8CAIvC,4YAAC;oCAAI,WAAU;8CACb,cAAA,4YAAC,+IAAS;wCACR,UAAU;wCACV,QAAQ;wCACR,WAAW,KAAO;wCAClB,QAAO;wCACP,YAAY;wCACZ,WAAW;wCACX,oBAAoB;;;;;;;;;;;;;;;;;;;;;;kCAO5B,4YAAC;wBAAI,WAAU;kCACb,cAAA,4YAAC,0IAAM;;;;;;;;;;;;;;;;;;;;;;AAKjB;KAnDM;AAqDN,oEAAoE;AACpE,MAAM,uBAAuB;IAC3B,qBAAO,4YAAC,qIAAI;QAAC,YAAY;;;;;;AAC3B;MAFM;AAKS,SAAS;;IACtB,MAAM,EACJ,YAAY,EACZ,qBAAqB,EACrB,wBAAwB,EACxB,qBAAqB,EACrB,wBAAwB,EACxB,+BAA+B,EAC/B,kCAAkC,EACnC,GAAG,IAAA,oJAAc;IAClB,MAAM,EAAE,WAAW,EAAE,kBAAkB,EAAE,GAAG,IAAA,uJAAgB,EAAC;IAE7D,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAA,mKAAsB;IACvD,MAAM,eACJ,uCAAgC,OAAO,QAAQ,CAAC,MAAM,GAAG;IAC3D,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,GAAG,uXAAK,CAAC,OAAO;wBAAC;YAClD;;YAGA,MAAM,YAAY,IAAI,gBAAgB;YACtC,MAAM,WAAW,UAAU,GAAG,CAAC;YAC/B,MAAM,UAAU,UAAU,GAAG,CAAC;YAE9B,IAAI,QAAQ;YACZ,IAAI,UAAU;gBACZ,MAAM,SAAS,SAAS,UAAU;gBAClC,IAAI,CAAC,MAAM,WAAW,UAAU,GAAG;oBACjC,QAAQ;gBACV;YACF;YAEA,MAAM,OAAQ,YAAY,WAAW,WAAW;YAIhD,OAAO;gBAAE,cAAc;gBAAO,aAAa;YAAK;QAClD;uBAAG;QAAC;KAAa;IAEjB,qBACE;;0BACE,4YAAC;;;;;0BACD,4YAAC,iJAAa;gBAAC,QAAQ;gBAAa,SAAS;;;;;;0BAC7C,4YAAC,qJAAiB;gBAChB,QAAQ;gBACR,SAAS,IAAM,yBAAyB;gBACxC,cAAc;gBACd,aAAa;;;;;;0BAEf,4YAAC,yJAAiB;gBAChB,MAAM;gBACN,cAAc;;;;;;0BAEhB,4YAAC,2JAAuB;gBACtB,MAAM;gBACN,cAAc;gBACd,aAAa;gBACb,WAAW;;;;;;;;AAInB;GA5DwB;;QASlB,oJAAc;QAC0B,uJAAgB;QAE3B,mKAAsB;;;MAZjC"}}]
}