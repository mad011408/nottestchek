{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/contexts/FileUrlCacheContext.tsx"],"sourcesContent":["import React, { createContext, useContext } from \"react\";\n\ninterface FileUrlCacheContextValue {\n  getCachedUrl: (fileId: string) => string | null;\n  setCachedUrl: (fileId: string, url: string) => void;\n}\n\nconst FileUrlCacheContext = createContext<FileUrlCacheContextValue | null>(\n  null,\n);\n\nexport function FileUrlCacheProvider({\n  children,\n  getCachedUrl,\n  setCachedUrl,\n}: {\n  children: React.ReactNode;\n  getCachedUrl: (fileId: string) => string | null;\n  setCachedUrl: (fileId: string, url: string) => void;\n}) {\n  return (\n    <FileUrlCacheContext.Provider value={{ getCachedUrl, setCachedUrl }}>\n      {children}\n    </FileUrlCacheContext.Provider>\n  );\n}\n\nexport function useFileUrlCacheContext() {\n  return useContext(FileUrlCacheContext);\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAOA,MAAM,oCAAsB,IAAA,6XAAa,EACvC;AAGK,SAAS,qBAAqB,EACnC,QAAQ,EACR,YAAY,EACZ,YAAY,EAKb;IACC,qBACE,4YAAC,oBAAoB,QAAQ;QAAC,OAAO;YAAE;YAAc;QAAa;kBAC/D;;;;;;AAGP;KAdgB;AAgBT,SAAS;;IACd,OAAO,IAAA,0XAAU,EAAC;AACpB;GAFgB"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Authenticated, Unauthenticated } from \"convex/react\";\nimport { ChatInput } from \"./components/ChatInput\";\nimport Header from \"./components/Header\";\nimport Footer from \"./components/Footer\";\nimport { Chat } from \"./components/chat\";\nimport PricingDialog from \"./components/PricingDialog\";\nimport TeamPricingDialog from \"./components/TeamPricingDialog\";\nimport { TeamWelcomeDialog } from \"./components/TeamDialogs\";\nimport MigratePentestgptDialog from \"./components/MigratePentestgptDialog\";\nimport { usePricingDialog } from \"./hooks/usePricingDialog\";\nimport { useGlobalState } from \"./contexts/GlobalState\";\nimport { usePentestgptMigration } from \"./hooks/usePentestgptMigration\";\n\n// Simple unauthenticated content that redirects to login on message send\nconst UnauthenticatedContent = () => {\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Preserve input draft for later; redirect to login\n    window.location.href = \"/login\";\n  };\n\n  const handleStop = () => {\n    // No-op for unauthenticated users\n  };\n\n  return (\n    <div className=\"h-full bg-background flex flex-col overflow-hidden\">\n      <div className=\"flex-shrink-0\">\n        <Header />\n      </div>\n\n      <div className=\"flex-1 flex flex-col min-h-0\">\n        {/* Centered content area */}\n        <div className=\"flex-1 flex flex-col items-center justify-center px-4 py-8 min-h-0\">\n          <div className=\"w-full max-w-full sm:max-w-[768px] sm:min-w-[390px] flex flex-col items-center space-y-8\">\n            {/* Centered title */}\n            <div className=\"text-center\">\n              <h1 className=\"text-3xl font-bold text-foreground mb-2\">\n                HackerAI\n              </h1>\n              <p className=\"text-muted-foreground\">Your AI pentest assistant</p>\n            </div>\n\n            {/* Centered input */}\n            <div className=\"w-full\">\n              <ChatInput\n                onSubmit={handleSubmit}\n                onStop={handleStop}\n                onSendNow={() => {}}\n                status=\"ready\"\n                isCentered={true}\n                isNewChat={true}\n                clearDraftOnSubmit={false}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex-shrink-0\">\n          <Footer />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Authenticated content that shows chat (UUID generated internally)\nconst AuthenticatedContent = () => {\n  return <Chat autoResume={false} />;\n};\n\n// Main page component with Convex authentication\nexport default function Page() {\n  const {\n    subscription,\n    teamPricingDialogOpen,\n    setTeamPricingDialogOpen,\n    teamWelcomeDialogOpen,\n    setTeamWelcomeDialogOpen,\n    migrateFromPentestgptDialogOpen,\n    setMigrateFromPentestgptDialogOpen,\n  } = useGlobalState();\n  const { showPricing, handleClosePricing } = usePricingDialog(subscription);\n\n  const { isMigrating, migrate } = usePentestgptMigration();\n  const searchParams =\n    typeof window !== \"undefined\" ? window.location.search : \"\";\n  const { initialSeats, initialPlan } = React.useMemo(() => {\n    if (typeof window === \"undefined\") {\n      return { initialSeats: 5, initialPlan: \"monthly\" as const };\n    }\n    const urlParams = new URLSearchParams(searchParams);\n    const urlSeats = urlParams.get(\"numSeats\");\n    const urlPlan = urlParams.get(\"selectedPlan\");\n\n    let seats = 5;\n    if (urlSeats) {\n      const parsed = parseInt(urlSeats, 10);\n      if (!isNaN(parsed) && parsed >= 1) {\n        seats = parsed;\n      }\n    }\n\n    const plan = (urlPlan === \"yearly\" ? \"yearly\" : \"monthly\") as\n      | \"monthly\"\n      | \"yearly\";\n\n    return { initialSeats: seats, initialPlan: plan };\n  }, [searchParams]);\n\n  return (\n    <>\n      <Authenticated>\n        <AuthenticatedContent />\n      </Authenticated>\n      <Unauthenticated>\n        <UnauthenticatedContent />\n      </Unauthenticated>\n      <PricingDialog isOpen={showPricing} onClose={handleClosePricing} />\n      <TeamPricingDialog\n        isOpen={teamPricingDialogOpen}\n        onClose={() => setTeamPricingDialogOpen(false)}\n        initialSeats={initialSeats}\n        initialPlan={initialPlan}\n      />\n      <TeamWelcomeDialog\n        open={teamWelcomeDialogOpen}\n        onOpenChange={setTeamWelcomeDialogOpen}\n      />\n      <MigratePentestgptDialog\n        open={migrateFromPentestgptDialogOpen}\n        onOpenChange={setMigrateFromPentestgptDialogOpen}\n        isMigrating={isMigrating}\n        onConfirm={migrate}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAdA;;;;;;;;;;;;;;AAgBA,yEAAyE;AACzE,MAAM,yBAAyB;IAC7B,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,oDAAoD;QACpD,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,aAAa;IACjB,kCAAkC;IACpC;IAEA,qBACE,4YAAC;QAAI,WAAU;;0BACb,4YAAC;gBAAI,WAAU;0BACb,cAAA,4YAAC,0IAAM;;;;;;;;;;0BAGT,4YAAC;gBAAI,WAAU;;kCAEb,4YAAC;wBAAI,WAAU;kCACb,cAAA,4YAAC;4BAAI,WAAU;;8CAEb,4YAAC;oCAAI,WAAU;;sDACb,4YAAC;4CAAG,WAAU;sDAA0C;;;;;;sDAGxD,4YAAC;4CAAE,WAAU;sDAAwB;;;;;;;;;;;;8CAIvC,4YAAC;oCAAI,WAAU;8CACb,cAAA,4YAAC,+IAAS;wCACR,UAAU;wCACV,QAAQ;wCACR,WAAW,KAAO;wCAClB,QAAO;wCACP,YAAY;wCACZ,WAAW;wCACX,oBAAoB;;;;;;;;;;;;;;;;;;;;;;kCAO5B,4YAAC;wBAAI,WAAU;kCACb,cAAA,4YAAC,0IAAM;;;;;;;;;;;;;;;;;;;;;;AAKjB;KAnDM;AAqDN,oEAAoE;AACpE,MAAM,uBAAuB;IAC3B,qBAAO,4YAAC,qIAAI;QAAC,YAAY;;;;;;AAC3B;MAFM;AAKS,SAAS;;IACtB,MAAM,EACJ,YAAY,EACZ,qBAAqB,EACrB,wBAAwB,EACxB,qBAAqB,EACrB,wBAAwB,EACxB,+BAA+B,EAC/B,kCAAkC,EACnC,GAAG,IAAA,oJAAc;IAClB,MAAM,EAAE,WAAW,EAAE,kBAAkB,EAAE,GAAG,IAAA,uJAAgB,EAAC;IAE7D,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAA,mKAAsB;IACvD,MAAM,eACJ,uCAAgC,OAAO,QAAQ,CAAC,MAAM,GAAG;IAC3D,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,GAAG,uXAAK,CAAC,OAAO;wBAAC;YAClD;;YAGA,MAAM,YAAY,IAAI,gBAAgB;YACtC,MAAM,WAAW,UAAU,GAAG,CAAC;YAC/B,MAAM,UAAU,UAAU,GAAG,CAAC;YAE9B,IAAI,QAAQ;YACZ,IAAI,UAAU;gBACZ,MAAM,SAAS,SAAS,UAAU;gBAClC,IAAI,CAAC,MAAM,WAAW,UAAU,GAAG;oBACjC,QAAQ;gBACV;YACF;YAEA,MAAM,OAAQ,YAAY,WAAW,WAAW;YAIhD,OAAO;gBAAE,cAAc;gBAAO,aAAa;YAAK;QAClD;uBAAG;QAAC;KAAa;IAEjB,qBACE;;0BACE,4YAAC,4PAAa;0BACZ,cAAA,4YAAC;;;;;;;;;;0BAEH,4YAAC,8PAAe;0BACd,cAAA,4YAAC;;;;;;;;;;0BAEH,4YAAC,iJAAa;gBAAC,QAAQ;gBAAa,SAAS;;;;;;0BAC7C,4YAAC,qJAAiB;gBAChB,QAAQ;gBACR,SAAS,IAAM,yBAAyB;gBACxC,cAAc;gBACd,aAAa;;;;;;0BAEf,4YAAC,yJAAiB;gBAChB,MAAM;gBACN,cAAc;;;;;;0BAEhB,4YAAC,2JAAuB;gBACtB,MAAM;gBACN,cAAc;gBACd,aAAa;gBACb,WAAW;;;;;;;;AAInB;GAjEwB;;QASlB,oJAAc;QAC0B,uJAAgB;QAE3B,mKAAsB;;;MAZjC"}}]
}