{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/env-variables.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/env-variables.ts"],"sourcesContent":["/* istanbul ignore file */\n\nfunction getEnvVariable(name: string): string | undefined {\n  return process.env[name];\n}\n\n// Optional env variables\nconst WORKOS_API_HOSTNAME = getEnvVariable('WORKOS_API_HOSTNAME');\nconst WORKOS_API_HTTPS = getEnvVariable('WORKOS_API_HTTPS');\nconst WORKOS_API_PORT = getEnvVariable('WORKOS_API_PORT');\nconst WORKOS_COOKIE_DOMAIN = getEnvVariable('WORKOS_COOKIE_DOMAIN');\nconst WORKOS_COOKIE_MAX_AGE = getEnvVariable('WORKOS_COOKIE_MAX_AGE');\nconst WORKOS_COOKIE_NAME = getEnvVariable('WORKOS_COOKIE_NAME');\nconst WORKOS_COOKIE_SAMESITE = getEnvVariable('WORKOS_COOKIE_SAMESITE') as 'lax' | 'strict' | 'none' | undefined;\n\n// Required env variables\nconst WORKOS_API_KEY = getEnvVariable('WORKOS_API_KEY') ?? '';\nconst WORKOS_CLIENT_ID = getEnvVariable('WORKOS_CLIENT_ID') ?? '';\nconst WORKOS_COOKIE_PASSWORD = getEnvVariable('WORKOS_COOKIE_PASSWORD') ?? '';\nconst WORKOS_REDIRECT_URI = process.env.NEXT_PUBLIC_WORKOS_REDIRECT_URI ?? '';\n\nexport {\n  WORKOS_API_HOSTNAME,\n  WORKOS_API_HTTPS,\n  WORKOS_API_KEY,\n  WORKOS_API_PORT,\n  WORKOS_CLIENT_ID,\n  WORKOS_COOKIE_DOMAIN,\n  WORKOS_COOKIE_MAX_AGE,\n  WORKOS_COOKIE_NAME,\n  WORKOS_COOKIE_PASSWORD,\n  WORKOS_REDIRECT_URI,\n  WORKOS_COOKIE_SAMESITE,\n};\n"],"names":[],"mappings":"AAAA,wBAAA,EAA0B;;;;;;;;;;;;;;;;;;;;;;;;;AAE1B,SAAS,cAAc,CAAC,IAAY;IAClC,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAED,yBAAyB;AACzB,MAAM,mBAAmB,GAAG,cAAc,CAAC,qBAAqB,CAAC,CAAC;AAClE,MAAM,gBAAgB,GAAG,cAAc,CAAC,kBAAkB,CAAC,CAAC;AAC5D,MAAM,eAAe,GAAG,cAAc,CAAC,iBAAiB,CAAC,CAAC;AAC1D,MAAM,oBAAoB,GAAG,cAAc,CAAC,sBAAsB,CAAC,CAAC;AACpE,MAAM,qBAAqB,GAAG,cAAc,CAAC,uBAAuB,CAAC,CAAC;AACtE,MAAM,kBAAkB,GAAG,cAAc,CAAC,oBAAoB,CAAC,CAAC;AAChE,MAAM,sBAAsB,GAAG,cAAc,CAAC,wBAAwB,CAA0C,CAAC;AAEjH,yBAAyB;AACzB,MAAM,cAAc,GAAG,CAAA,KAAA,cAAc,CAAC,gBAAgB,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC;AAC9D,MAAM,gBAAgB,GAAG,CAAA,KAAA,cAAc,CAAC,kBAAkB,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC;AAClE,MAAM,sBAAsB,GAAG,CAAA,KAAA,cAAc,CAAC,wBAAwB,CAAC,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC;AAC9E,MAAM,mBAAmB,GAAG,CAAA,KAAA,OAAO,CAAC,GAAG,CAAC,+BAA+B,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,EAAE,CAAC"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/cookie.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/cookie.ts"],"sourcesContent":["import {\n  WORKOS_REDIRECT_URI,\n  WORKOS_COOKIE_MAX_AGE,\n  WORKOS_COOKIE_DOMAIN,\n  WORKOS_COOKIE_SAMESITE,\n} from './env-variables.js';\nimport { CookieOptions } from './interfaces.js';\n\ntype ValidSameSite = CookieOptions['sameSite'];\n\nconst JWT_COOKIE_MAX_AGE = 30; // seconds\nconst JWT_COOKIE_NAME = 'workos-access-token';\n\nfunction assertValidSamSite(sameSite: string): asserts sameSite is ValidSameSite {\n  if (!['lax', 'strict', 'none'].includes(sameSite.toLowerCase())) {\n    throw new Error(`Invalid SameSite value: ${sameSite}`);\n  }\n}\n\nexport function getCookieOptions(): CookieOptions;\nexport function getCookieOptions(redirectUri?: string | null): CookieOptions;\nexport function getCookieOptions(redirectUri: string | null | undefined, asString: true, expired?: boolean): string;\nexport function getCookieOptions(\n  redirectUri: string | null | undefined,\n  asString: false,\n  expired?: boolean,\n): CookieOptions;\nexport function getCookieOptions(\n  redirectUri?: string | null,\n  asString?: boolean,\n  expired?: boolean,\n): CookieOptions | string;\nexport function getCookieOptions(\n  redirectUri?: string | null,\n  asString: boolean = false,\n  expired: boolean = false,\n): CookieOptions | string {\n  const sameSite = WORKOS_COOKIE_SAMESITE || 'lax';\n  assertValidSamSite(sameSite);\n\n  const urlString = redirectUri || WORKOS_REDIRECT_URI;\n  // Default to secure=true when no URL available (production default)\n  // Developers should set WORKOS_REDIRECT_URI for proper local dev\n  let secure: boolean;\n  if (sameSite.toLowerCase() === 'none') {\n    secure = true;\n  } else if (urlString) {\n    try {\n      const url = new URL(urlString);\n      secure = url.protocol === 'https:';\n    } catch {\n      // Invalid URL - default to secure\n      secure = true;\n    }\n  } else {\n    secure = true;\n  }\n\n  let maxAge: number;\n  if (expired) {\n    maxAge = 0;\n  } else if (WORKOS_COOKIE_MAX_AGE) {\n    const parsed = parseInt(WORKOS_COOKIE_MAX_AGE, 10);\n    maxAge = Number.isFinite(parsed) ? parsed : 60 * 60 * 24 * 400;\n  } else {\n    maxAge = 60 * 60 * 24 * 400;\n  }\n\n  if (asString) {\n    const capitalizedSameSite = sameSite.charAt(0).toUpperCase() + sameSite.slice(1).toLowerCase();\n    const parts = ['Path=/', 'HttpOnly', `SameSite=${capitalizedSameSite}`, `Max-Age=${maxAge}`];\n    if (WORKOS_COOKIE_DOMAIN) {\n      parts.push(`Domain=${WORKOS_COOKIE_DOMAIN}`);\n    }\n    if (secure) {\n      parts.push('Secure');\n    }\n\n    return parts.join('; ');\n  }\n\n  return {\n    path: '/',\n    httpOnly: true,\n    secure,\n    sameSite,\n    // Defaults to 400 days, the maximum allowed by Chrome\n    // It's fine to have a long cookie expiry date as the access/refresh tokens\n    // act as the actual time-limited aspects of the session.\n    maxAge,\n    domain: WORKOS_COOKIE_DOMAIN || '',\n  };\n}\n\nexport function getJwtCookie(body: string | null, requestUrlOrRedirectUri?: string | null, expired?: boolean): string {\n  const cookie = `${JWT_COOKIE_NAME}=${expired ? '' : (body ?? '')}`;\n\n  // Force Secure in production, except for localhost\n  let secure = false;\n  const isProduction = process.env.NODE_ENV === 'production';\n\n  if (requestUrlOrRedirectUri) {\n    try {\n      const url = new URL(requestUrlOrRedirectUri);\n      const isLocalhost = url.hostname === 'localhost' || url.hostname === '127.0.0.1';\n      // In production, always use Secure unless explicitly on localhost\n      secure = isProduction ? !isLocalhost : url.protocol === 'https:';\n    } catch {\n      // If URL parsing fails, default to secure in production\n      secure = isProduction;\n      // If it's not a valid URL, fall back to WORKOS_REDIRECT_URI\n      const fallbackUrl = WORKOS_REDIRECT_URI;\n      if (fallbackUrl) {\n        try {\n          const url = new URL(fallbackUrl);\n          secure = url.protocol === 'https:';\n        } catch {\n          secure = false;\n        }\n      }\n    }\n  } else if (WORKOS_REDIRECT_URI) {\n    // No URL provided, check WORKOS_REDIRECT_URI\n    try {\n      const url = new URL(WORKOS_REDIRECT_URI);\n      secure = url.protocol === 'https:';\n    } catch {\n      secure = false;\n    }\n  }\n\n  const maxAge = expired ? 0 : JWT_COOKIE_MAX_AGE;\n\n  const parts = [cookie, 'SameSite=Lax', `Max-Age=${maxAge}`];\n\n  // Only add Secure flag if on HTTPS\n  if (secure) {\n    parts.push('Secure');\n  }\n\n  if (expired) {\n    parts.push(`Expires=${new Date(0).toUTCString()}`);\n  }\n\n  return parts.join('; ');\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/utils.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/utils.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\n/**\n * Sets cache prevention headers to prevent CDN/proxy caching.\n * @param headers - The Headers object to set the cache prevention headers on.\n */\nexport function setCachePreventionHeaders(headers: Headers): void {\n  headers.set('Cache-Control', 'private, no-cache, no-store, must-revalidate, max-age=0');\n  headers.set('Pragma', 'no-cache');\n  headers.set('Expires', '0');\n  headers.set('x-middleware-cache', 'no-cache');\n}\n\nexport function redirectWithFallback(redirectUri: string, headers?: Headers) {\n  const newHeaders = headers ? new Headers(headers) : new Headers();\n  newHeaders.set('Location', redirectUri);\n\n  // Fall back to standard Response if NextResponse is not available.\n  // This is to support Next.js 13.\n  return NextResponse?.redirect\n    ? NextResponse.redirect(redirectUri, { headers })\n    : new Response(null, { status: 307, headers: newHeaders });\n}\n\nexport function errorResponseWithFallback(errorBody: { error: { message: string; description: string } }) {\n  // Fall back to standard Response if NextResponse is not available.\n  // This is to support Next.js 13.\n  return NextResponse?.json\n    ? NextResponse.json(errorBody, { status: 500 })\n    : new Response(JSON.stringify(errorBody), {\n        status: 500,\n        headers: { 'Content-Type': 'application/json' },\n      });\n}\n\n/**\n * Returns a function that can only be called once.\n * Subsequent calls will return the result of the first call.\n * This is useful for lazy initialization.\n * @param fn - The function to be called once.\n * @returns A function that can only be called once.\n */\nexport function lazy<T>(fn: () => T): () => T {\n  let called = false;\n  let result: T;\n  return () => {\n    if (!called) {\n      result = fn();\n      called = true;\n    }\n    return result;\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;;AAMrC,SAAU,yBAAyB,CAAC,OAAgB;IACxD,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,yDAAyD,CAAC,CAAC;IACxF,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;IAClC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IAC5B,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,UAAU,CAAC,CAAC;AAChD,CAAC;AAEK,SAAU,oBAAoB,CAAC,WAAmB,EAAE,OAAiB;IACzE,MAAM,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE,CAAC;IAClE,UAAU,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;IAExC,mEAAmE;IACnE,iCAAiC;IACjC,OAAO,CAAA,6VAAY,KAAA,QAAZ,6VAAY,KAAA,KAAA,IAAA,KAAA,IAAZ,6VAAY,CAAE,QAAQ,IACzB,6VAAY,CAAC,QAAQ,CAAC,WAAW,EAAE;QAAE,OAAO;IAAA,CAAE,CAAC,GAC/C,IAAI,QAAQ,CAAC,IAAI,EAAE;QAAE,MAAM,EAAE,GAAG;QAAE,OAAO,EAAE,UAAU;IAAA,CAAE,CAAC,CAAC;AAC/D,CAAC;AAEK,SAAU,yBAAyB,CAAC,SAA8D;IACtG,mEAAmE;IACnE,iCAAiC;IACjC,OAAO,CAAA,6VAAY,KAAA,QAAZ,6VAAY,KAAA,KAAA,IAAA,KAAA,IAAZ,6VAAY,CAAE,IAAI,IACrB,6VAAY,CAAC,IAAI,CAAC,SAAS,EAAE;QAAE,MAAM,EAAE,GAAG;IAAA,CAAE,CAAC,GAC7C,IAAI,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;QACtC,MAAM,EAAE,GAAG;QACX,OAAO,EAAE;YAAE,cAAc,EAAE,kBAAkB;QAAA,CAAE;KAChD,CAAC,CAAC;AACT,CAAC;AASK,SAAU,IAAI,CAAI,EAAW;IACjC,IAAI,MAAM,GAAG,KAAK,CAAC;IACnB,IAAI,MAAS,CAAC;IACd,OAAO,GAAG,EAAE;QACV,IAAI,CAAC,MAAM,EAAE,CAAC;YACZ,MAAM,GAAG,EAAE,EAAE,CAAC;YACd,MAAM,GAAG,IAAI,CAAC;QAChB,CAAC;QACD,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/workos.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/workos.ts"],"sourcesContent":["import { WorkOS } from '@workos-inc/node';\nimport { WORKOS_API_HOSTNAME, WORKOS_API_KEY, WORKOS_API_HTTPS, WORKOS_API_PORT } from './env-variables.js';\nimport { lazy } from './utils.js';\n\nexport const VERSION = '2.12.0';\n\nconst options = {\n  apiHostname: WORKOS_API_HOSTNAME,\n  https: WORKOS_API_HTTPS ? WORKOS_API_HTTPS === 'true' : true,\n  port: WORKOS_API_PORT ? parseInt(WORKOS_API_PORT) : undefined,\n  appInfo: {\n    name: 'authkit/nextjs',\n    version: VERSION,\n  },\n};\n\n/**\n * Create a WorkOS instance with the provided API key and options.\n * If an instance already exists, it returns the existing instance.\n * @returns The WorkOS instance.\n */\nexport const getWorkOS = lazy(() => new WorkOS(WORKOS_API_KEY, options));\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,mBAAmB,EAAE,cAAc,EAAE,gBAAgB,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAC5G,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;;;;AAE3B,MAAM,OAAO,GAAG,QAAQ,CAAC;AAEhC,MAAM,OAAO,GAAG;IACd,WAAW,EAAE,2ZAAmB;IAChC,KAAK,EAAE,wZAAgB,CAAC,CAAC,CAAC,wZAAgB,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI;IAC5D,IAAI,EAAE,uZAAe,CAAC,CAAC,CAAC,QAAQ,CAAC,uZAAe,CAAC,CAAC,CAAC,CAAC,SAAS;IAC7D,OAAO,EAAE;QACP,IAAI,EAAE,gBAAgB;QACtB,OAAO,EAAE,OAAO;KACjB;CACF,CAAC;AAOK,MAAM,SAAS,OAAG,iYAAI,EAAC,GAAG,CAAG,CAAD,GAAK,iXAAM,CAAC,sZAAc,EAAE,OAAO,CAAC,CAAC,CAAC"}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/get-authorization-url.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/get-authorization-url.ts"],"sourcesContent":["import { getWorkOS } from './workos.js';\nimport { WORKOS_CLIENT_ID, WORKOS_REDIRECT_URI } from './env-variables.js';\nimport { GetAuthURLOptions } from './interfaces.js';\nimport { headers } from 'next/headers';\n\nasync function getAuthorizationUrl(options: GetAuthURLOptions = {}) {\n  const headersList = await headers();\n  const {\n    returnPathname,\n    screenHint,\n    organizationId,\n    redirectUri = headersList.get('x-redirect-uri'),\n    loginHint,\n    prompt,\n    state: customState,\n  } = options;\n\n  const internalState = returnPathname\n    ? btoa(JSON.stringify({ returnPathname })).replace(/\\+/g, '-').replace(/\\//g, '_')\n    : null;\n\n  const finalState =\n    internalState && customState ? `${internalState}.${customState}` : internalState || customState || undefined;\n\n  return getWorkOS().userManagement.getAuthorizationUrl({\n    provider: 'authkit',\n    clientId: WORKOS_CLIENT_ID,\n    redirectUri: redirectUri ?? WORKOS_REDIRECT_URI,\n    state: finalState,\n    screenHint,\n    organizationId,\n    loginHint,\n    prompt,\n  });\n}\n\nexport { getAuthorizationUrl };\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,OAAO,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,MAAM,oBAAoB,CAAC;AAE3E,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;;;;AAEvC,KAAK,UAAU,mBAAmB,CAAC,UAA6B,CAAA,CAAE;IAChE,MAAM,WAAW,GAAG,UAAM,yVAAO,EAAE,CAAC;IACpC,MAAM,EACJ,cAAc,EACd,UAAU,EACV,cAAc,EACd,WAAW,GAAG,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAC/C,SAAS,EACT,MAAM,EACN,KAAK,EAAE,WAAW,EACnB,GAAG,OAAO,CAAC;IAEZ,MAAM,aAAa,GAAG,cAAc,GAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;QAAE,cAAc;IAAA,CAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GAChF,IAAI,CAAC;IAET,MAAM,UAAU,GACd,aAAa,IAAI,WAAW,CAAC,CAAC,CAAC,GAAG,aAAa,CAAA,CAAA,EAAI,WAAW,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,WAAW,IAAI,SAAS,CAAC;IAE/G,WAAO,uYAAS,EAAE,EAAC,cAAc,CAAC,mBAAmB,CAAC;QACpD,QAAQ,EAAE,SAAS;QACnB,QAAQ,EAAE,wZAAgB;QAC1B,WAAW,EAAE,WAAW,KAAA,QAAX,WAAW,KAAA,KAAA,IAAX,WAAW,GAAI,2ZAAmB;QAC/C,KAAK,EAAE,UAAU;QACjB,UAAU;QACV,cAAc;QACd,SAAS;QACT,MAAM;KACP,CAAC,CAAC;AACL,CAAC"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/session.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/session.ts"],"sourcesContent":["'use server';\n\nimport { sealData, unsealData } from 'iron-session';\nimport { JWTPayload, createRemoteJWKSet, decodeJwt, jwtVerify } from 'jose';\nimport { cookies, headers } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getCookieOptions, getJwtCookie } from './cookie.js';\nimport { WORKOS_CLIENT_ID, WORKOS_COOKIE_NAME, WORKOS_COOKIE_PASSWORD, WORKOS_REDIRECT_URI } from './env-variables.js';\nimport { getAuthorizationUrl } from './get-authorization-url.js';\nimport {\n  AccessToken,\n  AuthkitMiddlewareAuth,\n  AuthkitOptions,\n  AuthkitResponse,\n  NoUserInfo,\n  Session,\n  UserInfo,\n} from './interfaces.js';\nimport { getWorkOS } from './workos.js';\n\nimport type { AuthenticationResponse } from '@workos-inc/node';\nimport { parse, tokensToRegexp } from 'path-to-regexp';\nimport { lazy, redirectWithFallback, setCachePreventionHeaders } from './utils.js';\n\nconst sessionHeaderName = 'x-workos-session';\nconst middlewareHeaderName = 'x-workos-middleware';\nconst signUpPathsHeaderName = 'x-sign-up-paths';\nconst jwtCookieName = 'workos-access-token';\n\nconst JWKS = lazy(() => createRemoteJWKSet(new URL(getWorkOS().userManagement.getJwksUrl(WORKOS_CLIENT_ID))));\n\n/**\n * Applies cache security headers with Vary header deduplication.\n * Only applies headers if the request is authenticated (has session, cookie, or Authorization header).\n * Used in middleware where existing Vary headers may already be present.\n * @param headers - The Headers object to set the cache security headers on.\n * @param request - The NextRequest object to check for authentication.\n * @param sessionData - Optional session data to check for authentication.\n */\nfunction applyCacheSecurityHeaders(\n  headers: Headers,\n  request: NextRequest,\n  sessionData?: { accessToken?: string } | Session,\n): void {\n  const cookieName = WORKOS_COOKIE_NAME || 'wos-session';\n\n  // Only apply cache headers for authenticated requests\n  if (!sessionData?.accessToken && !request.cookies.has(cookieName) && !request.headers.has('authorization')) {\n    return;\n  }\n\n  const varyValues = new Set<string>(['cookie']);\n  if (request.headers.has('authorization')) {\n    varyValues.add('authorization');\n  }\n\n  const currentVary = headers.get('Vary');\n  if (currentVary) {\n    currentVary.split(',').forEach((v) => {\n      const trimmed = v.trim().toLowerCase();\n      if (trimmed) varyValues.add(trimmed);\n    });\n  }\n\n  headers.set(\n    'Vary',\n    Array.from(varyValues)\n      .map((v) => v.charAt(0).toUpperCase() + v.slice(1))\n      .join(', '),\n  );\n\n  setCachePreventionHeaders(headers);\n}\n\n/**\n * Determines if a request is for an initial document load (not API/RSC/prefetch)\n */\nfunction isInitialDocumentRequest(request: NextRequest): boolean {\n  const accept = request.headers.get('accept') || '';\n  const isDocumentRequest = accept.includes('text/html');\n  const isRSCRequest = request.headers.has('RSC') || request.headers.has('Next-Router-State-Tree');\n  const isPrefetch =\n    request.headers.get('Purpose') === 'prefetch' ||\n    request.headers.get('Sec-Purpose') === 'prefetch' ||\n    request.headers.has('Next-Router-Prefetch');\n\n  return isDocumentRequest && !isRSCRequest && !isPrefetch;\n}\n\nasync function encryptSession(session: Session) {\n  return sealData(session, {\n    password: WORKOS_COOKIE_PASSWORD,\n    ttl: 0,\n  });\n}\n\nasync function updateSessionMiddleware(\n  request: NextRequest,\n  debug: boolean,\n  middlewareAuth: AuthkitMiddlewareAuth,\n  redirectUri: string,\n  signUpPaths: string[],\n  eagerAuth = false,\n) {\n  if (!redirectUri && !WORKOS_REDIRECT_URI) {\n    throw new Error('You must provide a redirect URI in the AuthKit middleware or in the environment variables.');\n  }\n\n  if (!WORKOS_COOKIE_PASSWORD || WORKOS_COOKIE_PASSWORD.length < 32) {\n    throw new Error(\n      'You must provide a valid cookie password that is at least 32 characters in the environment variables.',\n    );\n  }\n\n  let url;\n\n  if (redirectUri) {\n    url = new URL(redirectUri);\n  } else {\n    url = new URL(WORKOS_REDIRECT_URI);\n  }\n\n  if (\n    middlewareAuth.enabled &&\n    url.pathname === request.nextUrl.pathname &&\n    !middlewareAuth.unauthenticatedPaths.includes(url.pathname)\n  ) {\n    // In the case where:\n    // - We're using middleware auth mode\n    // - The redirect URI is in the middleware matcher\n    // - The redirect URI isn't in the unauthenticatedPaths array\n    //\n    // then we would get stuck in a login loop due to the redirect happening before the session is set.\n    // It's likely that the user accidentally forgot to add the path to unauthenticatedPaths, so we add it here.\n    middlewareAuth.unauthenticatedPaths.push(url.pathname);\n  }\n\n  const matchedPaths: string[] = middlewareAuth.unauthenticatedPaths.filter((pathGlob) => {\n    const pathRegex = getMiddlewareAuthPathRegex(pathGlob);\n\n    return pathRegex.exec(request.nextUrl.pathname);\n  });\n\n  const { session, headers, authorizationUrl } = await updateSession(request, {\n    debug,\n    redirectUri,\n    screenHint: getScreenHint(signUpPaths, request.nextUrl.pathname),\n    eagerAuth,\n  });\n\n  // If the user is logged out and this path isn't on the allowlist for logged out paths, redirect to AuthKit.\n  if (middlewareAuth.enabled && matchedPaths.length === 0 && !session.user) {\n    if (debug) {\n      console.log(`Unauthenticated user on protected route ${request.url}, redirecting to AuthKit`);\n    }\n\n    return redirectWithFallback(authorizationUrl as string, headers);\n  }\n\n  // Record the sign up paths so we can use them later\n  if (signUpPaths.length > 0) {\n    headers.set(signUpPathsHeaderName, signUpPaths.join(','));\n  }\n\n  applyCacheSecurityHeaders(headers, request, session);\n\n  // Create a new request with modified headers (for page handlers)\n  const requestHeaders = new Headers(request.headers);\n  requestHeaders.set(middlewareHeaderName, headers.get(middlewareHeaderName)!);\n  requestHeaders.set('x-url', headers.get('x-url')!);\n  if (headers.has('x-redirect-uri')) {\n    requestHeaders.set('x-redirect-uri', headers.get('x-redirect-uri')!);\n  }\n  if (headers.has(signUpPathsHeaderName)) {\n    requestHeaders.set(signUpPathsHeaderName, headers.get(signUpPathsHeaderName)!);\n  }\n\n  // Pass session to page handlers via request header\n  // This ensures handlers see refreshed sessions immediately (before Set-Cookie reaches browser)\n  const sessionHeader = headers.get(sessionHeaderName);\n  if (sessionHeader) {\n    requestHeaders.set(sessionHeaderName, sessionHeader);\n  }\n\n  // Remove session header from response headers to prevent leakage\n  headers.delete(sessionHeaderName);\n\n  return NextResponse.next({\n    request: {\n      headers: requestHeaders,\n    },\n    headers,\n  });\n}\n\nasync function updateSession(\n  request: NextRequest,\n  options: AuthkitOptions = { debug: false },\n): Promise<AuthkitResponse> {\n  const session = await getSessionFromCookie(request);\n\n  // Since we're setting the headers in the response, we need to create a new Headers object without copying\n  // the request headers.\n  // See https://github.com/vercel/next.js/issues/50659#issuecomment-2333990159\n  const newRequestHeaders = new Headers();\n\n  // Record that the request was routed through the middleware so we can check later for DX purposes\n  newRequestHeaders.set(middlewareHeaderName, 'true');\n\n  // We store the current request url in a custom header, so we can always have access to it\n  // This is because on hard navigations we don't have access to `next-url` but need to get the current\n  // `pathname` to be able to return the users where they came from before sign-in\n  newRequestHeaders.set('x-url', request.url);\n\n  if (options.redirectUri) {\n    // Store the redirect URI in a custom header, so we always have access to it and so that subsequent\n    // calls to `getAuthorizationUrl` will use the same redirect URI\n    newRequestHeaders.set('x-redirect-uri', options.redirectUri);\n  }\n\n  newRequestHeaders.delete(sessionHeaderName);\n\n  if (!session) {\n    if (options.debug) {\n      console.log('No session found from cookie');\n    }\n\n    return {\n      session: { user: null },\n      headers: newRequestHeaders,\n      authorizationUrl: await getAuthorizationUrl({\n        returnPathname: getReturnPathname(request.url),\n        redirectUri: options.redirectUri || WORKOS_REDIRECT_URI,\n        screenHint: options.screenHint,\n      }),\n    };\n  }\n\n  const hasValidSession = await verifyAccessToken(session.accessToken);\n\n  const cookieName = WORKOS_COOKIE_NAME || 'wos-session';\n\n  applyCacheSecurityHeaders(newRequestHeaders, request, session);\n\n  if (hasValidSession) {\n    newRequestHeaders.set(sessionHeaderName, request.cookies.get(cookieName)!.value);\n\n    const {\n      sid: sessionId,\n      org_id: organizationId,\n      role,\n      roles,\n      permissions,\n      entitlements,\n      feature_flags: featureFlags,\n    } = decodeJwt<AccessToken>(session.accessToken);\n\n    // Set JWT cookie if eagerAuth is enabled\n    // Only set on document requests (initial page loads), not on API/RSC requests\n    if (options.eagerAuth && isInitialDocumentRequest(request)) {\n      const existingJwtCookie = request.cookies.get(jwtCookieName);\n      // Only set if cookie doesn't exist or has different value\n      if (!existingJwtCookie || existingJwtCookie.value !== session.accessToken) {\n        newRequestHeaders.append('Set-Cookie', getJwtCookie(session.accessToken, request.url));\n      }\n    }\n\n    return {\n      session: {\n        sessionId,\n        user: session.user,\n        organizationId,\n        role,\n        roles,\n        permissions,\n        entitlements,\n        featureFlags,\n        impersonator: session.impersonator,\n        accessToken: session.accessToken,\n      },\n      headers: newRequestHeaders,\n    };\n  }\n\n  try {\n    if (options.debug) {\n      // istanbul ignore next\n      console.log(\n        `Session invalid. ${session.accessToken ? `Refreshing access token that ends in ${session.accessToken.slice(-10)}` : 'Access token missing.'}`,\n      );\n    }\n\n    const { org_id: organizationIdFromAccessToken } = decodeJwt<AccessToken>(session.accessToken);\n\n    const { accessToken, refreshToken, user, impersonator } =\n      await getWorkOS().userManagement.authenticateWithRefreshToken({\n        clientId: WORKOS_CLIENT_ID,\n        refreshToken: session.refreshToken,\n        organizationId: organizationIdFromAccessToken,\n      });\n\n    if (options.debug) {\n      console.log('Session successfully refreshed');\n    }\n    // Encrypt session with new access and refresh tokens\n    const encryptedSession = await encryptSession({\n      accessToken,\n      refreshToken,\n      user,\n      impersonator,\n    });\n\n    newRequestHeaders.append('Set-Cookie', `${cookieName}=${encryptedSession}; ${getCookieOptions(request.url, true)}`);\n    newRequestHeaders.set(sessionHeaderName, encryptedSession);\n\n    // Set JWT cookie if eagerAuth is enabled\n    // Only set on document requests (initial page loads), not on API/RSC requests\n    if (options.eagerAuth && isInitialDocumentRequest(request)) {\n      newRequestHeaders.append('Set-Cookie', getJwtCookie(accessToken, request.url));\n    }\n\n    const {\n      sid: sessionId,\n      org_id: organizationId,\n      role,\n      roles,\n      permissions,\n      entitlements,\n      feature_flags: featureFlags,\n    } = decodeJwt<AccessToken>(accessToken);\n\n    options.onSessionRefreshSuccess?.({ accessToken, user, impersonator, organizationId });\n\n    return {\n      session: {\n        sessionId,\n        user,\n        organizationId,\n        role,\n        roles,\n        permissions,\n        entitlements,\n        featureFlags,\n        impersonator,\n        accessToken,\n      },\n      headers: newRequestHeaders,\n    };\n  } catch (e) {\n    if (options.debug) {\n      console.log('Failed to refresh. Deleting cookie.', e);\n    }\n\n    // When we need to delete a cookie, return it as a header as you can't delete cookies from edge middleware\n    const deleteCookie = `${cookieName}=; Expires=${new Date(0).toUTCString()}; ${getCookieOptions(request.url, true, true)}`;\n    newRequestHeaders.append('Set-Cookie', deleteCookie);\n\n    // Delete JWT cookie if eagerAuth is enabled\n    if (options.eagerAuth) {\n      const deleteJwtCookie = getJwtCookie(null, request.url, true);\n      newRequestHeaders.append('Set-Cookie', deleteJwtCookie);\n    }\n\n    options.onSessionRefreshError?.({ error: e, request });\n\n    return {\n      session: { user: null },\n      headers: newRequestHeaders,\n      authorizationUrl: await getAuthorizationUrl({\n        returnPathname: getReturnPathname(request.url),\n        redirectUri: options.redirectUri || WORKOS_REDIRECT_URI,\n      }),\n    };\n  }\n}\n\nasync function refreshSession(options: { organizationId?: string; ensureSignedIn: true }): Promise<UserInfo>;\nasync function refreshSession(options?: {\n  organizationId?: string;\n  ensureSignedIn?: boolean;\n}): Promise<UserInfo | NoUserInfo>;\nasync function refreshSession({\n  organizationId: nextOrganizationId,\n  ensureSignedIn = false,\n}: {\n  organizationId?: string;\n  ensureSignedIn?: boolean;\n} = {}): Promise<UserInfo | NoUserInfo> {\n  const session = await getSessionFromCookie();\n  if (!session) {\n    if (ensureSignedIn) {\n      await redirectToSignIn();\n    }\n    return { user: null };\n  }\n\n  const { org_id: organizationIdFromAccessToken } = decodeJwt<AccessToken>(session.accessToken);\n\n  let refreshResult;\n\n  try {\n    refreshResult = await getWorkOS().userManagement.authenticateWithRefreshToken({\n      clientId: WORKOS_CLIENT_ID,\n      refreshToken: session.refreshToken,\n      organizationId: nextOrganizationId ?? organizationIdFromAccessToken,\n    });\n  } catch (error) {\n    throw new Error(`Failed to refresh session: ${error instanceof Error ? error.message : String(error)}`, {\n      cause: error,\n    });\n  }\n\n  const headersList = await headers();\n  const url = headersList.get('x-url');\n\n  await saveSession(refreshResult, url || WORKOS_REDIRECT_URI);\n\n  const { accessToken, user, impersonator } = refreshResult;\n\n  const {\n    sid: sessionId,\n    org_id: organizationId,\n    role,\n    roles,\n    permissions,\n    entitlements,\n    feature_flags: featureFlags,\n  } = decodeJwt<AccessToken>(accessToken);\n\n  return {\n    sessionId,\n    user,\n    organizationId,\n    role,\n    roles,\n    permissions,\n    entitlements,\n    featureFlags,\n    impersonator,\n    accessToken,\n  };\n}\n\nfunction getMiddlewareAuthPathRegex(pathGlob: string) {\n  try {\n    const url = new URL(pathGlob, 'https://example.com');\n    const path = `${url.pathname!}${url.hash || ''}`;\n\n    const tokens = parse(path);\n    const regex = tokensToRegexp(tokens).source;\n\n    return new RegExp(regex);\n  } catch (err) {\n    console.log('err', err);\n    const message = err instanceof Error ? err.message : String(err);\n\n    throw new Error(`Error parsing routes for middleware auth. Reason: ${message}`);\n  }\n}\n\nasync function redirectToSignIn() {\n  const headersList = await headers();\n  const url = headersList.get('x-url');\n\n  if (!url) {\n    throw new Error('No URL found in the headers');\n  }\n\n  // Determine if the current route is in the sign up paths\n  const signUpPaths = headersList.get(signUpPathsHeaderName)?.split(',');\n\n  const pathname = new URL(url).pathname;\n  const screenHint = getScreenHint(signUpPaths, pathname);\n\n  const returnPathname = getReturnPathname(url);\n\n  redirect(await getAuthorizationUrl({ returnPathname, screenHint }));\n}\n\nexport async function getTokenClaims<T = Record<string, unknown>>(\n  accessToken?: string,\n): Promise<Partial<JWTPayload & T>> {\n  const token = accessToken ?? (await withAuth()).accessToken;\n  if (!token) {\n    return {};\n  }\n\n  return decodeJwt<T>(token);\n}\n\nasync function withAuth(options: { ensureSignedIn: true }): Promise<UserInfo>;\nasync function withAuth(options?: { ensureSignedIn?: true | false }): Promise<UserInfo | NoUserInfo>;\nasync function withAuth(options?: { ensureSignedIn?: boolean }): Promise<UserInfo | NoUserInfo> {\n  const session = await getSessionFromHeader();\n\n  if (!session) {\n    if (options?.ensureSignedIn) {\n      await redirectToSignIn();\n    }\n    return { user: null };\n  }\n\n  const {\n    sid: sessionId,\n    org_id: organizationId,\n    role,\n    roles,\n    permissions,\n    entitlements,\n    feature_flags: featureFlags,\n  } = decodeJwt<AccessToken>(session.accessToken);\n\n  return {\n    sessionId,\n    user: session.user,\n    organizationId,\n    role,\n    roles,\n    permissions,\n    entitlements,\n    featureFlags,\n    impersonator: session.impersonator,\n    accessToken: session.accessToken,\n  };\n}\n\nasync function verifyAccessToken(accessToken: string) {\n  try {\n    await jwtVerify(accessToken, JWKS());\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function getSessionFromCookie(request?: NextRequest) {\n  const cookieName = WORKOS_COOKIE_NAME || 'wos-session';\n  let cookie;\n\n  if (request) {\n    cookie = request.cookies.get(cookieName);\n  } else {\n    const nextCookies = await cookies();\n    cookie = nextCookies.get(cookieName);\n  }\n\n  if (cookie) {\n    return unsealData<Session>(cookie.value, {\n      password: WORKOS_COOKIE_PASSWORD,\n    });\n  }\n}\n\nasync function getSessionFromHeader(): Promise<Session | undefined> {\n  const headersList = await headers();\n  const hasMiddleware = Boolean(headersList.get(middlewareHeaderName));\n\n  if (!hasMiddleware) {\n    const url = headersList.get('x-url');\n    throw new Error(\n      `You are calling 'withAuth' on ${url ?? 'a route'} that isn't covered by the AuthKit middleware. Make sure it is running on all paths you are calling 'withAuth' from by updating your middleware config in 'middleware.(js|ts)'.`,\n    );\n  }\n\n  const authHeader = headersList.get(sessionHeaderName);\n  if (!authHeader) return;\n\n  return unsealData<Session>(authHeader, { password: WORKOS_COOKIE_PASSWORD });\n}\n\nfunction getReturnPathname(url: string): string {\n  const newUrl = new URL(url);\n\n  return `${newUrl.pathname}${newUrl.searchParams.size > 0 ? '?' + newUrl.searchParams.toString() : ''}`;\n}\n\nfunction getScreenHint(signUpPaths: string[] | undefined, pathname: string) {\n  if (!signUpPaths) return 'sign-in';\n\n  const screenHintPaths: string[] = signUpPaths.filter((pathGlob) => {\n    const pathRegex = getMiddlewareAuthPathRegex(pathGlob);\n    return pathRegex.exec(pathname);\n  });\n\n  return screenHintPaths.length > 0 ? 'sign-up' : 'sign-in';\n}\n\n/**\n * Saves a WorkOS session to a cookie for use with AuthKit.\n *\n * This function is intended for advanced use cases where you need to manually manage sessions,\n * such as custom authentication flows (email verification, etc.) that don't use\n * the standard AuthKit authentication flow.\n *\n * @param sessionOrResponse The WorkOS session or AuthenticationResponse containing access token, refresh token, and user information.\n * @param request Either a NextRequest object or a URL string, used to determine cookie settings.\n *\n * @example\n * // With a NextRequest object\n * import { saveSession } from '@workos-inc/authkit-nextjs';\n *\n * async function handleEmailVerification(req: NextRequest) {\n *   const { code } = await req.json();\n *   const authResponse = await workos.userManagement.authenticateWithEmailVerification({\n *     clientId: process.env.WORKOS_CLIENT_ID,\n *     code,\n *   });\n *\n *   await saveSession(authResponse, req);\n * }\n *\n * @example\n * // With a URL string\n * await saveSession(authResponse, 'https://example.com/callback');\n */\nexport async function saveSession(\n  sessionOrResponse: Session | AuthenticationResponse,\n  request: NextRequest | string,\n): Promise<void> {\n  const cookieName = WORKOS_COOKIE_NAME || 'wos-session';\n  const encryptedSession = await encryptSession(sessionOrResponse);\n  const nextCookies = await cookies();\n  const url = typeof request === 'string' ? request : request.url;\n  nextCookies.set(cookieName, encryptedSession, getCookieOptions(url));\n}\n\nexport { encryptSession, refreshSession, updateSession, updateSessionMiddleware, withAuth };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/auth.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/auth.ts"],"sourcesContent":["'use server';\n\nimport { decodeJwt } from 'jose';\nimport { revalidatePath, revalidateTag } from 'next/cache';\nimport { cookies, headers } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport { WORKOS_COOKIE_NAME } from './env-variables.js';\nimport { getCookieOptions } from './cookie.js';\nimport { getAuthorizationUrl } from './get-authorization-url.js';\nimport type { AccessToken, SwitchToOrganizationOptions, UserInfo } from './interfaces.js';\nimport { getSessionFromCookie, refreshSession, withAuth } from './session.js';\nimport { getWorkOS } from './workos.js';\n\n/**\n * A wrapper around revalidateTag to provide compatibility with previous versions.\n * @param tag The tag to revalidate.\n */\nfunction revalidateTagCompat(tag: string): void {\n  const fn = revalidateTag as (tag: string, profile: string) => void;\n  return fn(tag, 'max');\n}\n\nexport async function getSignInUrl({\n  organizationId,\n  loginHint,\n  redirectUri,\n  prompt,\n  state,\n}: {\n  organizationId?: string;\n  loginHint?: string;\n  redirectUri?: string;\n  prompt?: 'consent';\n  state?: string;\n} = {}) {\n  return getAuthorizationUrl({ organizationId, screenHint: 'sign-in', loginHint, redirectUri, prompt, state });\n}\n\nexport async function getSignUpUrl({\n  organizationId,\n  loginHint,\n  redirectUri,\n  prompt,\n  state,\n}: {\n  organizationId?: string;\n  loginHint?: string;\n  redirectUri?: string;\n  prompt?: 'consent';\n  state?: string;\n} = {}) {\n  return getAuthorizationUrl({ organizationId, screenHint: 'sign-up', loginHint, redirectUri, prompt, state });\n}\n\n/**\n * Sign out the user and delete the session cookie.\n * @param options Options for signing out.\n * @param options.returnTo The URL to redirect to after signing out.\n */\nexport async function signOut({ returnTo }: { returnTo?: string } = {}) {\n  let sessionId: string | undefined;\n\n  try {\n    const { sessionId: sid } = await withAuth();\n    sessionId = sid;\n  } catch (error) {\n    // Fall back to reading session directly from cookie when middleware isn't available\n    const session = await getSessionFromCookie();\n    if (session && session.accessToken) {\n      const { sid } = decodeJwt<AccessToken>(session.accessToken);\n      sessionId = sid;\n    } else {\n      // can't recover - throw the original error.\n      throw error;\n    }\n  } finally {\n    const nextCookies = await cookies();\n    const cookieName = WORKOS_COOKIE_NAME || 'wos-session';\n    const { domain, path, sameSite, secure } = getCookieOptions();\n    nextCookies.delete({ name: cookieName, domain, path, sameSite, secure });\n\n    if (sessionId) {\n      redirect(getWorkOS().userManagement.getLogoutUrl({ sessionId, returnTo }));\n    } else {\n      redirect(returnTo ?? '/');\n    }\n  }\n}\n\nexport async function switchToOrganization(\n  organizationId: string,\n  options: SwitchToOrganizationOptions = {},\n): Promise<UserInfo> {\n  const { returnTo, revalidationStrategy = 'path', revalidationTags = [] } = options;\n  const headersList = await headers();\n  let result: UserInfo;\n  // istanbul ignore next\n  const pathname = returnTo || headersList.get('x-url') || '/';\n  try {\n    result = await refreshSession({ organizationId, ensureSignedIn: true });\n  } catch (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error: any\n  ) {\n    const { cause } = error;\n    /* istanbul ignore next */\n    if (cause?.rawData?.authkit_redirect_url) {\n      redirect(cause.rawData.authkit_redirect_url);\n    } else {\n      if (cause?.error === 'sso_required' || cause?.error === 'mfa_enrollment') {\n        const url = await getAuthorizationUrl({ organizationId });\n        return redirect(url);\n      }\n      throw error;\n    }\n  }\n\n  switch (revalidationStrategy) {\n    case 'path':\n      revalidatePath(pathname);\n      break;\n    case 'tag':\n      for (const tag of revalidationTags) {\n        revalidateTagCompat(tag);\n      }\n      break;\n  }\n  if (revalidationStrategy !== 'none') {\n    redirect(pathname);\n  }\n\n  return result;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 947, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/@workos-inc+authkit-nextjs@2.12.0_next@16.0.10_@babel+core@7.28.5_@opentelemetry+api@1._d69fb94637ccf89267342f537ef484a4/node_modules/@workos-inc/authkit-nextjs/dist/esm/actions.js","sources":["file:///home/runner/workspace/node_modules/.pnpm/%40workos-inc%2Bauthkit-nextjs%402.12.0_next%4016.0.10_%40babel%2Bcore%407.28.5_%40opentelemetry%2Bapi%401._d69fb94637ccf89267342f537ef484a4/node_modules/%40workos-inc/authkit-nextjs/src/actions.ts"],"sourcesContent":["'use server';\n\nimport { signOut, switchToOrganization } from './auth.js';\nimport { NoUserInfo, UserInfo, SwitchToOrganizationOptions } from './interfaces.js';\nimport { refreshSession, withAuth } from './session.js';\nimport { getWorkOS } from './workos.js';\n\n/**\n * This function is used to sanitize the auth object.\n * Remove the accessToken from the auth object as it is not needed on the client side.\n * @param value - The auth object to sanitize\n * @returns The sanitized auth object\n */\nfunction sanitize<T extends UserInfo | NoUserInfo>(value: T) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { accessToken, ...sanitized } = value;\n  return sanitized;\n}\n\n/**\n * This action is only accessible to authenticated users,\n * there is no need to check the session here as the middleware will\n * be responsible for that.\n */\nexport const checkSessionAction = async () => {\n  return true;\n};\n\nexport const handleSignOutAction = async ({ returnTo }: { returnTo?: string } = {}) => {\n  await signOut({ returnTo });\n};\n\nexport const getOrganizationAction = async (organizationId: string) => {\n  return await getWorkOS().organizations.getOrganization(organizationId);\n};\n\nexport const getAuthAction = async (options?: { ensureSignedIn?: boolean }) => {\n  return sanitize(await withAuth(options));\n};\n\nexport const refreshAuthAction = async ({\n  ensureSignedIn,\n  organizationId,\n}: {\n  ensureSignedIn?: boolean;\n  organizationId?: string;\n}) => {\n  return sanitize(await refreshSession({ ensureSignedIn, organizationId }));\n};\n\nexport const switchToOrganizationAction = async (organizationId: string, options?: SwitchToOrganizationOptions) => {\n  return sanitize(await switchToOrganization(organizationId, options));\n};\n\n/**\n * This action is used to get the access token from the auth object.\n * It is used to fetch the access token from the server.\n */\nexport async function getAccessTokenAction() {\n  const auth = await withAuth();\n  return auth.accessToken;\n}\n\n/**\n * This action is used to refresh the access token from the auth object.\n * It is used to fetch the access token from the server.\n */\nexport async function refreshAccessTokenAction() {\n  const auth = await refreshSession();\n  return auth.accessToken;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA,OAAO,EAAE,OAAO,EAAE,oBAAoB,EAAE,MAAM,WAAW,CAAC;AAE1D,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AACxD,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;;;;;;;AAExC;;;;;GAKG,CACH,SAAS,QAAQ,CAAkC,KAAQ;IACzD,6DAA6D;IAC7D,MAAM,EAAE,WAAW,EAAE,GAAG,SAAS,EAAE,GAAG,KAAK,CAAC;IAC5C,OAAO,SAAS,CAAC;AACnB,CAAC;AAOM,2BAA2B,KAAK,IAAI,EAAE;IAC3C,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEK,4BAA4B,KAAK,EAAE,EAAE,QAAQ,EAAA,GAA4B,CAAA,CAAE,EAAE,EAAE;IACpF,UAAM,mYAAO,EAAC;QAAE,QAAQ;IAAA,CAAE,CAAC,CAAC;AAC9B,CAAC,CAAC;AAEK,8BAA8B,KAAK,EAAE,cAAsB,EAAE,EAAE;IACpE,OAAO,UAAM,uYAAS,EAAE,EAAC,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;AACzE,CAAC,CAAC;AAEK,sBAAsB,KAAK,EAAE,OAAsC,EAAE,EAAE;IAC5E,OAAO,QAAQ,CAAC,UAAM,uYAAQ,EAAC,OAAO,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC;AAEK,0BAA0B,KAAK,EAAE,EACtC,cAAc,EACd,cAAc,EAIf,EAAE,EAAE;IACH,OAAO,QAAQ,CAAC,UAAM,6YAAc,EAAC;QAAE,cAAc;QAAE,cAAc;IAAA,CAAE,CAAC,CAAC,CAAC;AAC5E,CAAC,CAAC;AAEK,mCAAmC,KAAK,EAAE,cAAsB,EAAE,OAAqC,EAAE,EAAE;IAChH,OAAO,QAAQ,CAAC,UAAM,gZAAoB,EAAC,cAAc,EAAE,OAAO,CAAC,CAAC,CAAC;AACvE,CAAC,CAAC;AAMK,KAAK;IACV,MAAM,IAAI,GAAG,UAAM,uYAAQ,EAAE,CAAC;IAC9B,OAAO,IAAI,CAAC,WAAW,CAAC;AAC1B,CAAC;AAMM,KAAK;IACV,MAAM,IAAI,GAAG,MAAM,iZAAc,EAAE,CAAC;IACpC,OAAO,IAAI,CAAC,WAAW,CAAC;AAC1B,CAAC;;;;;IAtCY,qBAAqB;;;;;;;8bARrB,kBAAkB;8bAIlB,mBAAmB;;AAQnB,aAAa;8bAIb,iBAAiB;AAUjB,0BAA0B;AAQjB,oBAAoB;8bASpB,wBAAwB"}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {checkSessionAction as '7f58dc3616934193b027ff7054961801fe5621a38d'} from 'ACTIONS_MODULE0'\nexport {getAuthAction as '7feb201a762d04be64b413d9d49b68fa0a235d5d51'} from 'ACTIONS_MODULE0'\nexport {handleSignOutAction as '7f74ed6c0bd42f73dc4c3ac5b17b4a4e01ac59d73f'} from 'ACTIONS_MODULE0'\nexport {refreshAuthAction as '7f3a1458f5082dee15be3be6eeb97d151afec5a62d'} from 'ACTIONS_MODULE0'\nexport {switchToOrganizationAction as '7f8edd5bfeae84c656a7810c297c00fecf5e6b0695'} from 'ACTIONS_MODULE0'\nexport {default as '00bef52c133f2dbb3a84a9d24412eb32701240c317'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAKA"}}]
}